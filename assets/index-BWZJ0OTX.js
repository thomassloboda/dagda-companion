var bm=Object.defineProperty;var Sm=(a,r,i)=>r in a?bm(a,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[r]=i;var mo=(a,r,i)=>Sm(a,typeof r!="symbol"?r+"":r,i);function Mh(a,r){for(var i=0;i<r.length;i++){const l=r[i];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in a)){const h=Object.getOwnPropertyDescriptor(l,c);h&&Object.defineProperty(a,c,h.get?h:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&l(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(c){if(c.ep)return;c.ep=!0;const h=i(c);fetch(c.href,h)}})();var Em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hl(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var lc={exports:{}},ss={},uc={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf;function km(){if(jf)return xt;jf=1;var a=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),k=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=k&&P[k]||P["@@iterator"],typeof P=="function"?P:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,Z={};function re(P,X,je){this.props=P,this.context=X,this.refs=Z,this.updater=je||$}re.prototype.isReactComponent={},re.prototype.setState=function(P,X){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,X,"setState")},re.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function we(){}we.prototype=re.prototype;function de(P,X,je){this.props=P,this.context=X,this.refs=Z,this.updater=je||$}var le=de.prototype=new we;le.constructor=de,z(le,re.prototype),le.isPureReactComponent=!0;var ie=Array.isArray,We=Object.prototype.hasOwnProperty,Ge={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function ke(P,X,je){var ge,$e={},oe=null,Me=null;if(X!=null)for(ge in X.ref!==void 0&&(Me=X.ref),X.key!==void 0&&(oe=""+X.key),X)We.call(X,ge)&&!K.hasOwnProperty(ge)&&($e[ge]=X[ge]);var Ze=arguments.length-2;if(Ze===1)$e.children=je;else if(1<Ze){for(var ut=Array(Ze),Ce=0;Ce<Ze;Ce++)ut[Ce]=arguments[Ce+2];$e.children=ut}if(P&&P.defaultProps)for(ge in Ze=P.defaultProps,Ze)$e[ge]===void 0&&($e[ge]=Ze[ge]);return{$$typeof:a,type:P,key:oe,ref:Me,props:$e,_owner:Ge.current}}function Oe(P,X){return{$$typeof:a,type:P.type,key:X,ref:P.ref,props:P.props,_owner:P._owner}}function _e(P){return typeof P=="object"&&P!==null&&P.$$typeof===a}function ft(P){var X={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(je){return X[je]})}var Pe=/\/+/g;function be(P,X){return typeof P=="object"&&P!==null&&P.key!=null?ft(""+P.key):X.toString(36)}function Re(P,X,je,ge,$e){var oe=typeof P;(oe==="undefined"||oe==="boolean")&&(P=null);var Me=!1;if(P===null)Me=!0;else switch(oe){case"string":case"number":Me=!0;break;case"object":switch(P.$$typeof){case a:case r:Me=!0}}if(Me)return Me=P,$e=$e(Me),P=ge===""?"."+be(Me,0):ge,ie($e)?(je="",P!=null&&(je=P.replace(Pe,"$&/")+"/"),Re($e,X,je,"",function(Ce){return Ce})):$e!=null&&(_e($e)&&($e=Oe($e,je+(!$e.key||Me&&Me.key===$e.key?"":(""+$e.key).replace(Pe,"$&/")+"/")+P)),X.push($e)),1;if(Me=0,ge=ge===""?".":ge+":",ie(P))for(var Ze=0;Ze<P.length;Ze++){oe=P[Ze];var ut=ge+be(oe,Ze);Me+=Re(oe,X,je,ut,$e)}else if(ut=T(P),typeof ut=="function")for(P=ut.call(P),Ze=0;!(oe=P.next()).done;)oe=oe.value,ut=ge+be(oe,Ze++),Me+=Re(oe,X,je,ut,$e);else if(oe==="object")throw X=String(P),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Me}function nt(P,X,je){if(P==null)return P;var ge=[],$e=0;return Re(P,ge,"","",function(oe){return X.call(je,oe,$e++)}),ge}function at(P){if(P._status===-1){var X=P._result;X=X(),X.then(function(je){(P._status===0||P._status===-1)&&(P._status=1,P._result=je)},function(je){(P._status===0||P._status===-1)&&(P._status=2,P._result=je)}),P._status===-1&&(P._status=0,P._result=X)}if(P._status===1)return P._result.default;throw P._result}var st={current:null},se={transition:null},De={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:se,ReactCurrentOwner:Ge};function Y(){throw Error("act(...) is not supported in production builds of React.")}return xt.Children={map:nt,forEach:function(P,X,je){nt(P,function(){X.apply(this,arguments)},je)},count:function(P){var X=0;return nt(P,function(){X++}),X},toArray:function(P){return nt(P,function(X){return X})||[]},only:function(P){if(!_e(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},xt.Component=re,xt.Fragment=i,xt.Profiler=c,xt.PureComponent=de,xt.StrictMode=l,xt.Suspense=x,xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=De,xt.act=Y,xt.cloneElement=function(P,X,je){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ge=z({},P.props),$e=P.key,oe=P.ref,Me=P._owner;if(X!=null){if(X.ref!==void 0&&(oe=X.ref,Me=Ge.current),X.key!==void 0&&($e=""+X.key),P.type&&P.type.defaultProps)var Ze=P.type.defaultProps;for(ut in X)We.call(X,ut)&&!K.hasOwnProperty(ut)&&(ge[ut]=X[ut]===void 0&&Ze!==void 0?Ze[ut]:X[ut])}var ut=arguments.length-2;if(ut===1)ge.children=je;else if(1<ut){Ze=Array(ut);for(var Ce=0;Ce<ut;Ce++)Ze[Ce]=arguments[Ce+2];ge.children=Ze}return{$$typeof:a,type:P.type,key:$e,ref:oe,props:ge,_owner:Me}},xt.createContext=function(P){return P={$$typeof:g,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:h,_context:P},P.Consumer=P},xt.createElement=ke,xt.createFactory=function(P){var X=ke.bind(null,P);return X.type=P,X},xt.createRef=function(){return{current:null}},xt.forwardRef=function(P){return{$$typeof:v,render:P}},xt.isValidElement=_e,xt.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:at}},xt.memo=function(P,X){return{$$typeof:E,type:P,compare:X===void 0?null:X}},xt.startTransition=function(P){var X=se.transition;se.transition={};try{P()}finally{se.transition=X}},xt.unstable_act=Y,xt.useCallback=function(P,X){return st.current.useCallback(P,X)},xt.useContext=function(P){return st.current.useContext(P)},xt.useDebugValue=function(){},xt.useDeferredValue=function(P){return st.current.useDeferredValue(P)},xt.useEffect=function(P,X){return st.current.useEffect(P,X)},xt.useId=function(){return st.current.useId()},xt.useImperativeHandle=function(P,X,je){return st.current.useImperativeHandle(P,X,je)},xt.useInsertionEffect=function(P,X){return st.current.useInsertionEffect(P,X)},xt.useLayoutEffect=function(P,X){return st.current.useLayoutEffect(P,X)},xt.useMemo=function(P,X){return st.current.useMemo(P,X)},xt.useReducer=function(P,X,je){return st.current.useReducer(P,X,je)},xt.useRef=function(P){return st.current.useRef(P)},xt.useState=function(P){return st.current.useState(P)},xt.useSyncExternalStore=function(P,X,je){return st.current.useSyncExternalStore(P,X,je)},xt.useTransition=function(){return st.current.useTransition()},xt.version="18.3.1",xt}var Tf;function $l(){return Tf||(Tf=1,uc.exports=km()),uc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of;function Cm(){if(Of)return ss;Of=1;var a=$l(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function g(v,x,E){var _,k={},T=null,$=null;E!==void 0&&(T=""+E),x.key!==void 0&&(T=""+x.key),x.ref!==void 0&&($=x.ref);for(_ in x)l.call(x,_)&&!h.hasOwnProperty(_)&&(k[_]=x[_]);if(v&&v.defaultProps)for(_ in x=v.defaultProps,x)k[_]===void 0&&(k[_]=x[_]);return{$$typeof:r,type:v,key:T,ref:$,props:k,_owner:c.current}}return ss.Fragment=i,ss.jsx=g,ss.jsxs=g,ss}var Df;function Nm(){return Df||(Df=1,lc.exports=Cm()),lc.exports}var S=Nm(),J=$l();const xo=Hl(J),_m=Mh({__proto__:null,default:xo},[J]);var Nl={},cc={exports:{}},Yn={},dc={exports:{}},fc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function Pm(){return Lf||(Lf=1,(function(a){function r(se,De){var Y=se.length;se.push(De);e:for(;0<Y;){var P=Y-1>>>1,X=se[P];if(0<c(X,De))se[P]=De,se[Y]=X,Y=P;else break e}}function i(se){return se.length===0?null:se[0]}function l(se){if(se.length===0)return null;var De=se[0],Y=se.pop();if(Y!==De){se[0]=Y;e:for(var P=0,X=se.length,je=X>>>1;P<je;){var ge=2*(P+1)-1,$e=se[ge],oe=ge+1,Me=se[oe];if(0>c($e,Y))oe<X&&0>c(Me,$e)?(se[P]=Me,se[oe]=Y,P=oe):(se[P]=$e,se[ge]=Y,P=ge);else if(oe<X&&0>c(Me,Y))se[P]=Me,se[oe]=Y,P=oe;else break e}}return De}function c(se,De){var Y=se.sortIndex-De.sortIndex;return Y!==0?Y:se.id-De.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var g=Date,v=g.now();a.unstable_now=function(){return g.now()-v}}var x=[],E=[],_=1,k=null,T=3,$=!1,z=!1,Z=!1,re=typeof setTimeout=="function"?setTimeout:null,we=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function le(se){for(var De=i(E);De!==null;){if(De.callback===null)l(E);else if(De.startTime<=se)l(E),De.sortIndex=De.expirationTime,r(x,De);else break;De=i(E)}}function ie(se){if(Z=!1,le(se),!z)if(i(x)!==null)z=!0,at(We);else{var De=i(E);De!==null&&st(ie,De.startTime-se)}}function We(se,De){z=!1,Z&&(Z=!1,we(ke),ke=-1),$=!0;var Y=T;try{for(le(De),k=i(x);k!==null&&(!(k.expirationTime>De)||se&&!ft());){var P=k.callback;if(typeof P=="function"){k.callback=null,T=k.priorityLevel;var X=P(k.expirationTime<=De);De=a.unstable_now(),typeof X=="function"?k.callback=X:k===i(x)&&l(x),le(De)}else l(x);k=i(x)}if(k!==null)var je=!0;else{var ge=i(E);ge!==null&&st(ie,ge.startTime-De),je=!1}return je}finally{k=null,T=Y,$=!1}}var Ge=!1,K=null,ke=-1,Oe=5,_e=-1;function ft(){return!(a.unstable_now()-_e<Oe)}function Pe(){if(K!==null){var se=a.unstable_now();_e=se;var De=!0;try{De=K(!0,se)}finally{De?be():(Ge=!1,K=null)}}else Ge=!1}var be;if(typeof de=="function")be=function(){de(Pe)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,nt=Re.port2;Re.port1.onmessage=Pe,be=function(){nt.postMessage(null)}}else be=function(){re(Pe,0)};function at(se){K=se,Ge||(Ge=!0,be())}function st(se,De){ke=re(function(){se(a.unstable_now())},De)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(se){se.callback=null},a.unstable_continueExecution=function(){z||$||(z=!0,at(We))},a.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Oe=0<se?Math.floor(1e3/se):5},a.unstable_getCurrentPriorityLevel=function(){return T},a.unstable_getFirstCallbackNode=function(){return i(x)},a.unstable_next=function(se){switch(T){case 1:case 2:case 3:var De=3;break;default:De=T}var Y=T;T=De;try{return se()}finally{T=Y}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(se,De){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Y=T;T=se;try{return De()}finally{T=Y}},a.unstable_scheduleCallback=function(se,De,Y){var P=a.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?P+Y:P):Y=P,se){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,se={id:_++,callback:De,priorityLevel:se,startTime:Y,expirationTime:X,sortIndex:-1},Y>P?(se.sortIndex=Y,r(E,se),i(x)===null&&se===i(E)&&(Z?(we(ke),ke=-1):Z=!0,st(ie,Y-P))):(se.sortIndex=X,r(x,se),z||$||(z=!0,at(We))),se},a.unstable_shouldYield=ft,a.unstable_wrapCallback=function(se){var De=T;return function(){var Y=T;T=De;try{return se.apply(this,arguments)}finally{T=Y}}}})(fc)),fc}var Af;function Rm(){return Af||(Af=1,dc.exports=Pm()),dc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function jm(){if(If)return Yn;If=1;var a=$l(),r=Rm();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function h(e,t){g(e,t),g(e+"Capture",t)}function g(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var v=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},k={};function T(e){return x.call(k,e)?!0:x.call(_,e)?!1:E.test(e)?k[e]=!0:(_[e]=!0,!1)}function $(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function z(e,t,n,s){if(t===null||typeof t>"u"||$(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Z(e,t,n,s,d,p,b){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=d,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=b}var re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){re[e]=new Z(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];re[t]=new Z(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){re[e]=new Z(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){re[e]=new Z(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){re[e]=new Z(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){re[e]=new Z(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){re[e]=new Z(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){re[e]=new Z(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){re[e]=new Z(e,5,!1,e.toLowerCase(),null,!1,!1)});var we=/[\-:]([a-z])/g;function de(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(we,de);re[t]=new Z(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(we,de);re[t]=new Z(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(we,de);re[t]=new Z(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){re[e]=new Z(e,1,!1,e.toLowerCase(),null,!1,!1)}),re.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){re[e]=new Z(e,1,!1,e.toLowerCase(),null,!0,!0)});function le(e,t,n,s){var d=re.hasOwnProperty(t)?re[t]:null;(d!==null?d.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(z(t,n,d,s)&&(n=null),s||d===null?T(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):d.mustUseProperty?e[d.propertyName]=n===null?d.type===3?!1:"":n:(t=d.attributeName,s=d.attributeNamespace,n===null?e.removeAttribute(t):(d=d.type,n=d===3||d===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var ie=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,We=Symbol.for("react.element"),Ge=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),ke=Symbol.for("react.strict_mode"),Oe=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),ft=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),st=Symbol.for("react.offscreen"),se=Symbol.iterator;function De(e){return e===null||typeof e!="object"?null:(e=se&&e[se]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,P;function X(e){if(P===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return`
`+P+e}var je=!1;function ge(e,t){if(!e||je)return"";je=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ne){var s=ne}Reflect.construct(e,[],t)}else{try{t.call()}catch(ne){s=ne}e.call(t.prototype)}else{try{throw Error()}catch(ne){s=ne}e()}}catch(ne){if(ne&&s&&typeof ne.stack=="string"){for(var d=ne.stack.split(`
`),p=s.stack.split(`
`),b=d.length-1,R=p.length-1;1<=b&&0<=R&&d[b]!==p[R];)R--;for(;1<=b&&0<=R;b--,R--)if(d[b]!==p[R]){if(b!==1||R!==1)do if(b--,R--,0>R||d[b]!==p[R]){var D=`
`+d[b].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=b&&0<=R);break}}}finally{je=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?X(e):""}function $e(e){switch(e.tag){case 5:return X(e.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return e=ge(e.type,!1),e;case 11:return e=ge(e.type.render,!1),e;case 1:return e=ge(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case Ge:return"Portal";case Oe:return"Profiler";case ke:return"StrictMode";case be:return"Suspense";case Re:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ft:return(e.displayName||"Context")+".Consumer";case _e:return(e._context.displayName||"Context")+".Provider";case Pe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nt:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case at:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}function Me(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(t);case 8:return t===ke?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ze(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ce(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var d=n.get,p=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(b){s=""+b,p.call(this,b)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rn(e){e._valueTracker||(e._valueTracker=Ce(e))}function rt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ut(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ut(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ir(e,t){var n=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ze(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ze(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pt(e,t){t=t.checked,t!=null&&le(e,"checked",t,!1)}function un(e,t){pt(e,t);var n=Ze(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lr(e,t.type,n):t.hasOwnProperty("defaultValue")&&lr(e,t.type,Ze(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jn(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lr(e,t,n){(t!=="number"||Ut(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Jt=Array.isArray;function tn(e,t,n,s){if(e=e.options,t){t={};for(var d=0;d<n.length;d++)t["$"+n[d]]=!0;for(n=0;n<e.length;n++)d=t.hasOwnProperty("$"+e[n].value),e[n].selected!==d&&(e[n].selected=d),d&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ze(n),t=null,d=0;d<e.length;d++){if(e[d].value===n){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function va(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mr(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(Jt(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ze(n)}}function Gn(e,t){var n=Ze(t.value),s=Ze(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Un(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yn,cn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,d){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yn=yn||document.createElement("div"),yn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ur(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var On={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yr=["Webkit","ms","Moz","O"];Object.keys(On).forEach(function(e){yr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),On[t]=On[e]})});function Sn(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||On.hasOwnProperty(e)&&On[e]?(""+t).trim():t+"px"}function Gr(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,d=Sn(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,d):e[n]=d}}var Xn=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qe(e,t){if(t){if(Xn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function vr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zn=null;function Jn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ne=null,Hn=null,Zn=null;function xa(e){if(e=qo(e)){if(typeof Ne!="function")throw Error(i(280));var t=e.stateNode;t&&(t=zs(t),Ne(e.stateNode,e.type,t))}}function wa(e){Hn?Zn?Zn.push(e):Zn=[e]:Hn=e}function ba(){if(Hn){var e=Hn,t=Zn;if(Zn=Hn=null,xa(e),t)for(e=0;e<t.length;e++)xa(t[e])}}function ri(e,t){return e(t)}function Xr(){}var Dn=!1;function xr(e,t,n){if(Dn)return e(t,n);Dn=!0;try{return ri(e,t,n)}finally{Dn=!1,(Hn!==null||Zn!==null)&&(Xr(),ba())}}function wr(e,t){var n=e.stateNode;if(n===null)return null;var s=zs(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var j=!1;if(v)try{var F={};Object.defineProperty(F,"passive",{get:function(){j=!0}}),window.addEventListener("test",F,F),window.removeEventListener("test",F,F)}catch{j=!1}function G(e,t,n,s,d,p,b,R,D){var ne=Array.prototype.slice.call(arguments,3);try{t.apply(n,ne)}catch(pe){this.onError(pe)}}var ue=!1,Se=null,Ye=!1,et=null,Ve={onError:function(e){ue=!0,Se=e}};function Fe(e,t,n,s,d,p,b,R,D){ue=!1,Se=null,G.apply(Ve,arguments)}function Ie(e,t,n,s,d,p,b,R,D){if(Fe.apply(this,arguments),ue){if(ue){var ne=Se;ue=!1,Se=null}else throw Error(i(198));Ye||(Ye=!0,et=ne)}}function Ae(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lt(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vt(e){if(Ae(e)!==e)throw Error(i(188))}function Ot(e){var t=e.alternate;if(!t){if(t=Ae(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var d=n.return;if(d===null)break;var p=d.alternate;if(p===null){if(s=d.return,s!==null){n=s;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===n)return vt(d),e;if(p===s)return vt(d),t;p=p.sibling}throw Error(i(188))}if(n.return!==s.return)n=d,s=p;else{for(var b=!1,R=d.child;R;){if(R===n){b=!0,n=d,s=p;break}if(R===s){b=!0,s=d,n=p;break}R=R.sibling}if(!b){for(R=p.child;R;){if(R===n){b=!0,n=p,s=d;break}if(R===s){b=!0,s=p,n=d;break}R=R.sibling}if(!b)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function Nt(e){return e=Ot(e),e!==null?mt(e):null}function mt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mt(e);if(t!==null)return t;e=e.sibling}return null}var Dt=r.unstable_scheduleCallback,er=r.unstable_cancelCallback,jt=r.unstable_shouldYield,rn=r.unstable_requestPaint,gt=r.unstable_now,Sa=r.unstable_getCurrentPriorityLevel,En=r.unstable_ImmediatePriority,Ln=r.unstable_UserBlockingPriority,tr=r.unstable_NormalPriority,Fr=r.unstable_LowPriority,ht=r.unstable_IdlePriority,Rt=null,Yt=null;function Br(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Rt,e,void 0,(e.current.flags&128)===128)}catch{}}var He=Math.clz32?Math.clz32:Ea,br=Math.log,ai=Math.LN2;function Ea(e){return e>>>=0,e===0?32:31-(br(e)/ai|0)|0}var Ur=64,ii=4194304;function ka(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oi(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,d=e.suspendedLanes,p=e.pingedLanes,b=n&268435455;if(b!==0){var R=b&~d;R!==0?s=ka(R):(p&=b,p!==0&&(s=ka(p)))}else b=n&~d,b!==0?s=ka(b):p!==0&&(s=ka(p));if(s===0)return 0;if(t!==0&&t!==s&&(t&d)===0&&(d=s&-s,p=t&-t,d>=p||d===16&&(p&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-He(t),d=1<<n,s|=e[n],t&=~d;return s}function Lt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes;0<p;){var b=31-He(p),R=1<<b,D=d[b];D===-1?((R&n)===0||(R&s)!==0)&&(d[b]=Lt(R,t)):D<=t&&(e.expiredLanes|=R),p&=~R}}function Jr(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zr(){var e=Ur;return Ur<<=1,(Ur&4194240)===0&&(Ur=64),e}function li(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ea(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-He(t),e[t]=n}function Mi(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var d=31-He(n),p=1<<d;t[d]=0,s[d]=-1,e[d]=-1,n&=~p}}function Fi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-He(n),d=1<<s;d&t|e[s]&t&&(e[s]|=t),n&=~d}}var kt=0;function No(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var bs,St,_o,Ss,Es,vn=!1,Sr=[],nr=null,xn=null,Er=null,Ca=new Map,zt=new Map,an=[],ui="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Na(e,t){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Ca.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(t.pointerId)}}function ta(e,t,n,s,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:p,targetContainers:[d]},t!==null&&(t=qo(t),t!==null&&St(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function zr(e,t,n,s,d){switch(t){case"focusin":return nr=ta(nr,e,t,n,s,d),!0;case"dragenter":return xn=ta(xn,e,t,n,s,d),!0;case"mouseover":return Er=ta(Er,e,t,n,s,d),!0;case"pointerover":var p=d.pointerId;return Ca.set(p,ta(Ca.get(p)||null,e,t,n,s,d)),!0;case"gotpointercapture":return p=d.pointerId,zt.set(p,ta(zt.get(p)||null,e,t,n,s,d)),!0}return!1}function ks(e){var t=yi(e.target);if(t!==null){var n=Ae(t);if(n!==null){if(t=n.tag,t===13){if(t=lt(n),t!==null){e.blockedOn=t,Es(e.priority,function(){_o(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function An(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_a(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);zn=s,n.target.dispatchEvent(s),zn=null}else return t=qo(n),t!==null&&St(t),e.blockedOn=n,!1;t.shift()}return!0}function Bi(e,t,n){An(e)&&n.delete(t)}function Cs(){vn=!1,nr!==null&&An(nr)&&(nr=null),xn!==null&&An(xn)&&(xn=null),Er!==null&&An(Er)&&(Er=null),Ca.forEach(Bi),zt.forEach(Bi)}function na(e,t){e.blockedOn===t&&(e.blockedOn=null,vn||(vn=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Cs)))}function kr(e){function t(d){return na(d,e)}if(0<Sr.length){na(Sr[0],e);for(var n=1;n<Sr.length;n++){var s=Sr[n];s.blockedOn===e&&(s.blockedOn=null)}}for(nr!==null&&na(nr,e),xn!==null&&na(xn,e),Er!==null&&na(Er,e),Ca.forEach(t),zt.forEach(t),n=0;n<an.length;n++)s=an[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)ks(n),n.blockedOn===null&&an.shift()}var Hr=ie.ReactCurrentBatchConfig,ci=!0;function ql(e,t,n,s){var d=kt,p=Hr.transition;Hr.transition=null;try{kt=1,Po(e,t,n,s)}finally{kt=d,Hr.transition=p}}function di(e,t,n,s){var d=kt,p=Hr.transition;Hr.transition=null;try{kt=4,Po(e,t,n,s)}finally{kt=d,Hr.transition=p}}function Po(e,t,n,s){if(ci){var d=_a(e,t,n,s);if(d===null)Jl(e,t,s,Ui,n),Na(e,s);else if(zr(d,e,t,n,s))s.stopPropagation();else if(Na(e,s),t&4&&-1<ui.indexOf(e)){for(;d!==null;){var p=qo(d);if(p!==null&&bs(p),p=_a(e,t,n,s),p===null&&Jl(e,t,s,Ui,n),p===d)break;d=p}d!==null&&s.stopPropagation()}else Jl(e,t,s,null,n)}}var Ui=null;function _a(e,t,n,s){if(Ui=null,e=Jn(s),e=yi(e),e!==null)if(t=Ae(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lt(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ui=e,null}function fi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sa()){case En:return 1;case Ln:return 4;case tr:case Fr:return 16;case ht:return 536870912;default:return 16}default:return 16}}var cr=null,Ro=null,zi=null;function Ns(){if(zi)return zi;var e,t=Ro,n=t.length,s,d="value"in cr?cr.value:cr.textContent,p=d.length;for(e=0;e<n&&t[e]===d[e];e++);var b=n-e;for(s=1;s<=b&&t[n-s]===d[p-s];s++);return zi=d.slice(e,1<s?1-s:void 0)}function Pa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ra(){return!0}function jo(){return!1}function dn(e){function t(n,s,d,p,b){this._reactName=n,this._targetInst=d,this.type=s,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(n=e[R],this[R]=n?n(p):p[R]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ra:jo,this.isPropagationStopped=jo,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),t}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=dn(Cr),Ta=Y({},Cr,{view:0,detail:0}),Wl=dn(Ta),$r,hi,ra,Oa=Y({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ra&&(ra&&e.type==="mousemove"?($r=e.screenX-ra.screenX,hi=e.screenY-ra.screenY):hi=$r=0,ra=e),$r)},movementY:function(e){return"movementY"in e?e.movementY:hi}}),Hi=dn(Oa),fn=Y({},Oa,{dataTransfer:0}),pi=dn(fn),mi=Y({},Ta,{relatedTarget:0}),$i=dn(mi),Vi=Y({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),_s=dn(Vi),Ps=Y({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ki=dn(Ps),To=Y({},Cr,{data:0}),Vr=dn(To),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Do={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lo(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qi[e])?!!t[e]:!1}function Wi(){return Lo}var Yl=Y({},Ta,{key:function(e){if(e.key){var t=Oo[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Do[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(e){return e.type==="keypress"?Pa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ao=dn(Yl),Yi=Y({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rs=dn(Yi),Io=Y({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),Mo=dn(Io),Ql=Y({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),js=dn(Ql),Gl=Y({},Oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ts=dn(Gl),Os=[9,13,27,32],Fo=v&&"CompositionEvent"in window,Da=null;v&&"documentMode"in document&&(Da=document.documentMode);var Bo=v&&"TextEvent"in window&&!Da,Uo=v&&(!Fo||Da&&8<Da&&11>=Da),zo=" ",Ds=!1;function Ls(e,t){switch(e){case"keyup":return Os.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function As(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function _r(e,t){switch(e){case"compositionend":return As(t);case"keypress":return t.which!==32?null:(Ds=!0,zo);case"textInput":return e=t.data,e===zo&&Ds?null:e;default:return null}}function Kt(e,t){if(Nr)return e==="compositionend"||!Fo&&Ls(e,t)?(e=Ns(),zi=Ro=cr=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uo&&t.locale!=="ko"?null:t.data;default:return null}}var Qi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qi[e.type]:t==="textarea"}function Is(e,t,n,s){wa(s),t=Fs(t,"onChange"),0<t.length&&(n=new ja("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ia=null,La=null;function oa(e){Kc(e,0)}function Aa(e){var t=Zi(e);if(rt(t))return e}function Ia(e,t){if(e==="change")return t}var Pr=!1;if(v){var Gi;if(v){var o="oninput"in document;if(!o){var u=document.createElement("div");u.setAttribute("oninput","return;"),o=typeof u.oninput=="function"}Gi=o}else Gi=!1;Pr=Gi&&(!document.documentMode||9<document.documentMode)}function f(){ia&&(ia.detachEvent("onpropertychange",m),La=ia=null)}function m(e){if(e.propertyName==="value"&&Aa(La)){var t=[];Is(t,La,e,Jn(e)),xr(oa,t)}}function y(e,t,n){e==="focusin"?(f(),ia=t,La=n,ia.attachEvent("onpropertychange",m)):e==="focusout"&&f()}function w(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Aa(La)}function C(e,t){if(e==="click")return Aa(t)}function N(e,t){if(e==="input"||e==="change")return Aa(t)}function M(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var V=typeof Object.is=="function"?Object.is:M;function L(e,t){if(V(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var d=n[s];if(!x.call(t,d)||!V(e[d],t[d]))return!1}return!0}function O(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function B(e,t){var n=O(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O(n)}}function U(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?U(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function I(){for(var e=window,t=Ut();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ut(e.document)}return t}function A(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Q(e){var t=I(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&U(n.ownerDocument.documentElement,n)){if(s!==null&&A(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=n.textContent.length,p=Math.min(s.start,d);s=s.end===void 0?p:Math.min(s.end,d),!e.extend&&p>s&&(d=s,s=p,p=d),d=B(n,p);var b=B(n,s);d&&b&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),p>s?(e.addRange(t),e.extend(b.node,b.offset)):(t.setEnd(b.node,b.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var te=v&&"documentMode"in document&&11>=document.documentMode,q=null,ae=null,ce=null,xe=!1;function Ee(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xe||q==null||q!==Ut(s)||(s=q,"selectionStart"in s&&A(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ce&&L(ce,s)||(ce=s,s=Fs(ae,"onSelect"),0<s.length&&(t=new ja("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=q)))}function he(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Le={animationend:he("Animation","AnimationEnd"),animationiteration:he("Animation","AnimationIteration"),animationstart:he("Animation","AnimationStart"),transitionend:he("Transition","TransitionEnd")},Te={},ye={};v&&(ye=document.createElement("div").style,"AnimationEvent"in window||(delete Le.animationend.animation,delete Le.animationiteration.animation,delete Le.animationstart.animation),"TransitionEvent"in window||delete Le.transitionend.transition);function Be(e){if(Te[e])return Te[e];if(!Le[e])return e;var t=Le[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ye)return Te[e]=t[n];return e}var bt=Be("animationend"),Et=Be("animationiteration"),tt=Be("animationstart"),yt=Be("transitionend"),It=new Map,In="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pt(e,t){It.set(e,t),h(t,[e])}for(var Rr=0;Rr<In.length;Rr++){var gi=In[Rr],jp=gi.toLowerCase(),Tp=gi[0].toUpperCase()+gi.slice(1);Pt(jp,"on"+Tp)}Pt(bt,"onAnimationEnd"),Pt(Et,"onAnimationIteration"),Pt(tt,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(yt,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Op=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function Vc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Ie(s,t,void 0,e),e.currentTarget=null}function Kc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],d=s.event;s=s.listeners;e:{var p=void 0;if(t)for(var b=s.length-1;0<=b;b--){var R=s[b],D=R.instance,ne=R.currentTarget;if(R=R.listener,D!==p&&d.isPropagationStopped())break e;Vc(d,R,ne),p=D}else for(b=0;b<s.length;b++){if(R=s[b],D=R.instance,ne=R.currentTarget,R=R.listener,D!==p&&d.isPropagationStopped())break e;Vc(d,R,ne),p=D}}}if(Ye)throw e=et,Ye=!1,et=null,e}function Ft(e,t){var n=t[au];n===void 0&&(n=t[au]=new Set);var s=e+"__bubble";n.has(s)||(qc(t,e,2,!1),n.add(s))}function Xl(e,t,n){var s=0;t&&(s|=4),qc(n,e,s,t)}var Ms="_reactListening"+Math.random().toString(36).slice(2);function $o(e){if(!e[Ms]){e[Ms]=!0,l.forEach(function(n){n!=="selectionchange"&&(Op.has(n)||Xl(n,!1,e),Xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ms]||(t[Ms]=!0,Xl("selectionchange",!1,t))}}function qc(e,t,n,s){switch(fi(t)){case 1:var d=ql;break;case 4:d=di;break;default:d=Po}n=d.bind(null,t,n,e),d=void 0,!j||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(t,n,{capture:!0,passive:d}):e.addEventListener(t,n,!0):d!==void 0?e.addEventListener(t,n,{passive:d}):e.addEventListener(t,n,!1)}function Jl(e,t,n,s,d){var p=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var b=s.tag;if(b===3||b===4){var R=s.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(b===4)for(b=s.return;b!==null;){var D=b.tag;if((D===3||D===4)&&(D=b.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;b=b.return}for(;R!==null;){if(b=yi(R),b===null)return;if(D=b.tag,D===5||D===6){s=p=b;continue e}R=R.parentNode}}s=s.return}xr(function(){var ne=p,pe=Jn(n),me=[];e:{var fe=It.get(e);if(fe!==void 0){var Ue=ja,Qe=e;switch(e){case"keypress":if(Pa(n)===0)break e;case"keydown":case"keyup":Ue=Ao;break;case"focusin":Qe="focus",Ue=$i;break;case"focusout":Qe="blur",Ue=$i;break;case"beforeblur":case"afterblur":Ue=$i;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=pi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=Mo;break;case bt:case Et:case tt:Ue=_s;break;case yt:Ue=js;break;case"scroll":Ue=Wl;break;case"wheel":Ue=Ts;break;case"copy":case"cut":case"paste":Ue=Ki;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=Rs}var Xe=(t&4)!==0,Xt=!Xe&&e==="scroll",W=Xe?fe!==null?fe+"Capture":null:fe;Xe=[];for(var H=ne,ee;H!==null;){ee=H;var ve=ee.stateNode;if(ee.tag===5&&ve!==null&&(ee=ve,W!==null&&(ve=wr(H,W),ve!=null&&Xe.push(Vo(H,ve,ee)))),Xt)break;H=H.return}0<Xe.length&&(fe=new Ue(fe,Qe,null,n,pe),me.push({event:fe,listeners:Xe}))}}if((t&7)===0){e:{if(fe=e==="mouseover"||e==="pointerover",Ue=e==="mouseout"||e==="pointerout",fe&&n!==zn&&(Qe=n.relatedTarget||n.fromElement)&&(yi(Qe)||Qe[sa]))break e;if((Ue||fe)&&(fe=pe.window===pe?pe:(fe=pe.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ue?(Qe=n.relatedTarget||n.toElement,Ue=ne,Qe=Qe?yi(Qe):null,Qe!==null&&(Xt=Ae(Qe),Qe!==Xt||Qe.tag!==5&&Qe.tag!==6)&&(Qe=null)):(Ue=null,Qe=ne),Ue!==Qe)){if(Xe=Hi,ve="onMouseLeave",W="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Xe=Rs,ve="onPointerLeave",W="onPointerEnter",H="pointer"),Xt=Ue==null?fe:Zi(Ue),ee=Qe==null?fe:Zi(Qe),fe=new Xe(ve,H+"leave",Ue,n,pe),fe.target=Xt,fe.relatedTarget=ee,ve=null,yi(pe)===ne&&(Xe=new Xe(W,H+"enter",Qe,n,pe),Xe.target=ee,Xe.relatedTarget=Xt,ve=Xe),Xt=ve,Ue&&Qe)t:{for(Xe=Ue,W=Qe,H=0,ee=Xe;ee;ee=Xi(ee))H++;for(ee=0,ve=W;ve;ve=Xi(ve))ee++;for(;0<H-ee;)Xe=Xi(Xe),H--;for(;0<ee-H;)W=Xi(W),ee--;for(;H--;){if(Xe===W||W!==null&&Xe===W.alternate)break t;Xe=Xi(Xe),W=Xi(W)}Xe=null}else Xe=null;Ue!==null&&Wc(me,fe,Ue,Xe,!1),Qe!==null&&Xt!==null&&Wc(me,Xt,Qe,Xe,!0)}}e:{if(fe=ne?Zi(ne):window,Ue=fe.nodeName&&fe.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&fe.type==="file")var Je=Ia;else if(aa(fe))if(Pr)Je=N;else{Je=w;var it=y}else(Ue=fe.nodeName)&&Ue.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Je=C);if(Je&&(Je=Je(e,ne))){Is(me,Je,n,pe);break e}it&&it(e,fe,ne),e==="focusout"&&(it=fe._wrapperState)&&it.controlled&&fe.type==="number"&&lr(fe,"number",fe.value)}switch(it=ne?Zi(ne):window,e){case"focusin":(aa(it)||it.contentEditable==="true")&&(q=it,ae=ne,ce=null);break;case"focusout":ce=ae=q=null;break;case"mousedown":xe=!0;break;case"contextmenu":case"mouseup":case"dragend":xe=!1,Ee(me,n,pe);break;case"selectionchange":if(te)break;case"keydown":case"keyup":Ee(me,n,pe)}var ot;if(Fo)e:{switch(e){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else Nr?Ls(e,n)&&(ct="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ct="onCompositionStart");ct&&(Uo&&n.locale!=="ko"&&(Nr||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Nr&&(ot=Ns()):(cr=pe,Ro="value"in cr?cr.value:cr.textContent,Nr=!0)),it=Fs(ne,ct),0<it.length&&(ct=new Vr(ct,e,null,n,pe),me.push({event:ct,listeners:it}),ot?ct.data=ot:(ot=As(n),ot!==null&&(ct.data=ot)))),(ot=Bo?_r(e,n):Kt(e,n))&&(ne=Fs(ne,"onBeforeInput"),0<ne.length&&(pe=new Vr("onBeforeInput","beforeinput",null,n,pe),me.push({event:pe,listeners:ne}),pe.data=ot))}Kc(me,t)})}function Vo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fs(e,t){for(var n=t+"Capture",s=[];e!==null;){var d=e,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=wr(e,n),p!=null&&s.unshift(Vo(e,p,d)),p=wr(e,t),p!=null&&s.push(Vo(e,p,d))),e=e.return}return s}function Xi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wc(e,t,n,s,d){for(var p=t._reactName,b=[];n!==null&&n!==s;){var R=n,D=R.alternate,ne=R.stateNode;if(D!==null&&D===s)break;R.tag===5&&ne!==null&&(R=ne,d?(D=wr(n,p),D!=null&&b.unshift(Vo(n,D,R))):d||(D=wr(n,p),D!=null&&b.push(Vo(n,D,R)))),n=n.return}b.length!==0&&e.push({event:t,listeners:b})}var Dp=/\r\n?/g,Lp=/\u0000|\uFFFD/g;function Yc(e){return(typeof e=="string"?e:""+e).replace(Dp,`
`).replace(Lp,"")}function Bs(e,t,n){if(t=Yc(t),Yc(e)!==t&&n)throw Error(i(425))}function Us(){}var Zl=null,eu=null;function tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nu=typeof setTimeout=="function"?setTimeout:void 0,Ap=typeof clearTimeout=="function"?clearTimeout:void 0,Qc=typeof Promise=="function"?Promise:void 0,Ip=typeof queueMicrotask=="function"?queueMicrotask:typeof Qc<"u"?function(e){return Qc.resolve(null).then(e).catch(Mp)}:nu;function Mp(e){setTimeout(function(){throw e})}function ru(e,t){var n=t,s=0;do{var d=n.nextSibling;if(e.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"){if(s===0){e.removeChild(d),kr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=d}while(n);kr(t)}function Ma(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Ji,Ko="__reactProps$"+Ji,sa="__reactContainer$"+Ji,au="__reactEvents$"+Ji,Fp="__reactListeners$"+Ji,Bp="__reactHandles$"+Ji;function yi(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sa]||n[Kr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gc(e);e!==null;){if(n=e[Kr])return n;e=Gc(e)}return t}e=n,n=e.parentNode}return null}function qo(e){return e=e[Kr]||e[sa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function zs(e){return e[Ko]||null}var iu=[],eo=-1;function Fa(e){return{current:e}}function Bt(e){0>eo||(e.current=iu[eo],iu[eo]=null,eo--)}function Mt(e,t){eo++,iu[eo]=e.current,e.current=t}var Ba={},kn=Fa(Ba),$n=Fa(!1),vi=Ba;function to(e,t){var n=e.type.contextTypes;if(!n)return Ba;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in n)d[p]=t[p];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Vn(e){return e=e.childContextTypes,e!=null}function Hs(){Bt($n),Bt(kn)}function Xc(e,t,n){if(kn.current!==Ba)throw Error(i(168));Mt(kn,t),Mt($n,n)}function Jc(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var d in s)if(!(d in t))throw Error(i(108,Me(e)||"Unknown",d));return Y({},n,s)}function $s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ba,vi=kn.current,Mt(kn,e),Mt($n,$n.current),!0}function Zc(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=Jc(e,t,vi),s.__reactInternalMemoizedMergedChildContext=e,Bt($n),Bt(kn),Mt(kn,e)):Bt($n),Mt($n,n)}var la=null,Vs=!1,ou=!1;function ed(e){la===null?la=[e]:la.push(e)}function Up(e){Vs=!0,ed(e)}function Ua(){if(!ou&&la!==null){ou=!0;var e=0,t=kt;try{var n=la;for(kt=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}la=null,Vs=!1}catch(d){throw la!==null&&(la=la.slice(e+1)),Dt(En,Ua),d}finally{kt=t,ou=!1}}return null}var no=[],ro=0,Ks=null,qs=0,dr=[],fr=0,xi=null,ua=1,ca="";function wi(e,t){no[ro++]=qs,no[ro++]=Ks,Ks=e,qs=t}function td(e,t,n){dr[fr++]=ua,dr[fr++]=ca,dr[fr++]=xi,xi=e;var s=ua;e=ca;var d=32-He(s)-1;s&=~(1<<d),n+=1;var p=32-He(t)+d;if(30<p){var b=d-d%5;p=(s&(1<<b)-1).toString(32),s>>=b,d-=b,ua=1<<32-He(t)+d|n<<d|s,ca=p+e}else ua=1<<p|n<<d|s,ca=e}function su(e){e.return!==null&&(wi(e,1),td(e,1,0))}function lu(e){for(;e===Ks;)Ks=no[--ro],no[ro]=null,qs=no[--ro],no[ro]=null;for(;e===xi;)xi=dr[--fr],dr[fr]=null,ca=dr[--fr],dr[fr]=null,ua=dr[--fr],dr[fr]=null}var rr=null,ar=null,Ht=!1,jr=null;function nd(e,t){var n=gr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rr=e,ar=Ma(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rr=e,ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xi!==null?{id:ua,overflow:ca}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rr=e,ar=null,!0):!1;default:return!1}}function uu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cu(e){if(Ht){var t=ar;if(t){var n=t;if(!rd(e,t)){if(uu(e))throw Error(i(418));t=Ma(n.nextSibling);var s=rr;t&&rd(e,t)?nd(s,n):(e.flags=e.flags&-4097|2,Ht=!1,rr=e)}}else{if(uu(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ht=!1,rr=e}}}function ad(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rr=e}function Ws(e){if(e!==rr)return!1;if(!Ht)return ad(e),Ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tu(e.type,e.memoizedProps)),t&&(t=ar)){if(uu(e))throw id(),Error(i(418));for(;t;)nd(e,t),t=Ma(t.nextSibling)}if(ad(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ar=Ma(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ar=null}}else ar=rr?Ma(e.stateNode.nextSibling):null;return!0}function id(){for(var e=ar;e;)e=Ma(e.nextSibling)}function ao(){ar=rr=null,Ht=!1}function du(e){jr===null?jr=[e]:jr.push(e)}var zp=ie.ReactCurrentBatchConfig;function Wo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var d=s,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(b){var R=d.refs;b===null?delete R[p]:R[p]=b},t._stringRef=p,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ys(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function od(e){var t=e._init;return t(e._payload)}function sd(e){function t(W,H){if(e){var ee=W.deletions;ee===null?(W.deletions=[H],W.flags|=16):ee.push(H)}}function n(W,H){if(!e)return null;for(;H!==null;)t(W,H),H=H.sibling;return null}function s(W,H){for(W=new Map;H!==null;)H.key!==null?W.set(H.key,H):W.set(H.index,H),H=H.sibling;return W}function d(W,H){return W=Ya(W,H),W.index=0,W.sibling=null,W}function p(W,H,ee){return W.index=ee,e?(ee=W.alternate,ee!==null?(ee=ee.index,ee<H?(W.flags|=2,H):ee):(W.flags|=2,H)):(W.flags|=1048576,H)}function b(W){return e&&W.alternate===null&&(W.flags|=2),W}function R(W,H,ee,ve){return H===null||H.tag!==6?(H=nc(ee,W.mode,ve),H.return=W,H):(H=d(H,ee),H.return=W,H)}function D(W,H,ee,ve){var Je=ee.type;return Je===K?pe(W,H,ee.props.children,ve,ee.key):H!==null&&(H.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===at&&od(Je)===H.type)?(ve=d(H,ee.props),ve.ref=Wo(W,H,ee),ve.return=W,ve):(ve=vl(ee.type,ee.key,ee.props,null,W.mode,ve),ve.ref=Wo(W,H,ee),ve.return=W,ve)}function ne(W,H,ee,ve){return H===null||H.tag!==4||H.stateNode.containerInfo!==ee.containerInfo||H.stateNode.implementation!==ee.implementation?(H=rc(ee,W.mode,ve),H.return=W,H):(H=d(H,ee.children||[]),H.return=W,H)}function pe(W,H,ee,ve,Je){return H===null||H.tag!==7?(H=Pi(ee,W.mode,ve,Je),H.return=W,H):(H=d(H,ee),H.return=W,H)}function me(W,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number")return H=nc(""+H,W.mode,ee),H.return=W,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case We:return ee=vl(H.type,H.key,H.props,null,W.mode,ee),ee.ref=Wo(W,null,H),ee.return=W,ee;case Ge:return H=rc(H,W.mode,ee),H.return=W,H;case at:var ve=H._init;return me(W,ve(H._payload),ee)}if(Jt(H)||De(H))return H=Pi(H,W.mode,ee,null),H.return=W,H;Ys(W,H)}return null}function fe(W,H,ee,ve){var Je=H!==null?H.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Je!==null?null:R(W,H,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case We:return ee.key===Je?D(W,H,ee,ve):null;case Ge:return ee.key===Je?ne(W,H,ee,ve):null;case at:return Je=ee._init,fe(W,H,Je(ee._payload),ve)}if(Jt(ee)||De(ee))return Je!==null?null:pe(W,H,ee,ve,null);Ys(W,ee)}return null}function Ue(W,H,ee,ve,Je){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return W=W.get(ee)||null,R(H,W,""+ve,Je);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case We:return W=W.get(ve.key===null?ee:ve.key)||null,D(H,W,ve,Je);case Ge:return W=W.get(ve.key===null?ee:ve.key)||null,ne(H,W,ve,Je);case at:var it=ve._init;return Ue(W,H,ee,it(ve._payload),Je)}if(Jt(ve)||De(ve))return W=W.get(ee)||null,pe(H,W,ve,Je,null);Ys(H,ve)}return null}function Qe(W,H,ee,ve){for(var Je=null,it=null,ot=H,ct=H=0,mn=null;ot!==null&&ct<ee.length;ct++){ot.index>ct?(mn=ot,ot=null):mn=ot.sibling;var _t=fe(W,ot,ee[ct],ve);if(_t===null){ot===null&&(ot=mn);break}e&&ot&&_t.alternate===null&&t(W,ot),H=p(_t,H,ct),it===null?Je=_t:it.sibling=_t,it=_t,ot=mn}if(ct===ee.length)return n(W,ot),Ht&&wi(W,ct),Je;if(ot===null){for(;ct<ee.length;ct++)ot=me(W,ee[ct],ve),ot!==null&&(H=p(ot,H,ct),it===null?Je=ot:it.sibling=ot,it=ot);return Ht&&wi(W,ct),Je}for(ot=s(W,ot);ct<ee.length;ct++)mn=Ue(ot,W,ct,ee[ct],ve),mn!==null&&(e&&mn.alternate!==null&&ot.delete(mn.key===null?ct:mn.key),H=p(mn,H,ct),it===null?Je=mn:it.sibling=mn,it=mn);return e&&ot.forEach(function(Qa){return t(W,Qa)}),Ht&&wi(W,ct),Je}function Xe(W,H,ee,ve){var Je=De(ee);if(typeof Je!="function")throw Error(i(150));if(ee=Je.call(ee),ee==null)throw Error(i(151));for(var it=Je=null,ot=H,ct=H=0,mn=null,_t=ee.next();ot!==null&&!_t.done;ct++,_t=ee.next()){ot.index>ct?(mn=ot,ot=null):mn=ot.sibling;var Qa=fe(W,ot,_t.value,ve);if(Qa===null){ot===null&&(ot=mn);break}e&&ot&&Qa.alternate===null&&t(W,ot),H=p(Qa,H,ct),it===null?Je=Qa:it.sibling=Qa,it=Qa,ot=mn}if(_t.done)return n(W,ot),Ht&&wi(W,ct),Je;if(ot===null){for(;!_t.done;ct++,_t=ee.next())_t=me(W,_t.value,ve),_t!==null&&(H=p(_t,H,ct),it===null?Je=_t:it.sibling=_t,it=_t);return Ht&&wi(W,ct),Je}for(ot=s(W,ot);!_t.done;ct++,_t=ee.next())_t=Ue(ot,W,ct,_t.value,ve),_t!==null&&(e&&_t.alternate!==null&&ot.delete(_t.key===null?ct:_t.key),H=p(_t,H,ct),it===null?Je=_t:it.sibling=_t,it=_t);return e&&ot.forEach(function(wm){return t(W,wm)}),Ht&&wi(W,ct),Je}function Xt(W,H,ee,ve){if(typeof ee=="object"&&ee!==null&&ee.type===K&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case We:e:{for(var Je=ee.key,it=H;it!==null;){if(it.key===Je){if(Je=ee.type,Je===K){if(it.tag===7){n(W,it.sibling),H=d(it,ee.props.children),H.return=W,W=H;break e}}else if(it.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===at&&od(Je)===it.type){n(W,it.sibling),H=d(it,ee.props),H.ref=Wo(W,it,ee),H.return=W,W=H;break e}n(W,it);break}else t(W,it);it=it.sibling}ee.type===K?(H=Pi(ee.props.children,W.mode,ve,ee.key),H.return=W,W=H):(ve=vl(ee.type,ee.key,ee.props,null,W.mode,ve),ve.ref=Wo(W,H,ee),ve.return=W,W=ve)}return b(W);case Ge:e:{for(it=ee.key;H!==null;){if(H.key===it)if(H.tag===4&&H.stateNode.containerInfo===ee.containerInfo&&H.stateNode.implementation===ee.implementation){n(W,H.sibling),H=d(H,ee.children||[]),H.return=W,W=H;break e}else{n(W,H);break}else t(W,H);H=H.sibling}H=rc(ee,W.mode,ve),H.return=W,W=H}return b(W);case at:return it=ee._init,Xt(W,H,it(ee._payload),ve)}if(Jt(ee))return Qe(W,H,ee,ve);if(De(ee))return Xe(W,H,ee,ve);Ys(W,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,H!==null&&H.tag===6?(n(W,H.sibling),H=d(H,ee),H.return=W,W=H):(n(W,H),H=nc(ee,W.mode,ve),H.return=W,W=H),b(W)):n(W,H)}return Xt}var io=sd(!0),ld=sd(!1),Qs=Fa(null),Gs=null,oo=null,fu=null;function hu(){fu=oo=Gs=null}function pu(e){var t=Qs.current;Bt(Qs),e._currentValue=t}function mu(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function so(e,t){Gs=e,fu=oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Kn=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(fu!==e)if(e={context:e,memoizedValue:t,next:null},oo===null){if(Gs===null)throw Error(i(308));oo=e,Gs.dependencies={lanes:0,firstContext:e}}else oo=oo.next=e;return t}var bi=null;function gu(e){bi===null?bi=[e]:bi.push(e)}function ud(e,t,n,s){var d=t.interleaved;return d===null?(n.next=n,gu(t)):(n.next=d.next,d.next=n),t.interleaved=n,da(e,s)}function da(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var za=!1;function yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ct&2)!==0){var d=s.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),s.pending=t,da(e,n)}return d=s.interleaved,d===null?(t.next=t,gu(s)):(t.next=d.next,d.next=t),s.interleaved=t,da(e,n)}function Xs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Fi(e,n)}}function dd(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var d=null,p=null;if(n=n.firstBaseUpdate,n!==null){do{var b={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};p===null?d=p=b:p=p.next=b,n=n.next}while(n!==null);p===null?d=p=t:p=p.next=t}else d=p=t;n={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Js(e,t,n,s){var d=e.updateQueue;za=!1;var p=d.firstBaseUpdate,b=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var D=R,ne=D.next;D.next=null,b===null?p=ne:b.next=ne,b=D;var pe=e.alternate;pe!==null&&(pe=pe.updateQueue,R=pe.lastBaseUpdate,R!==b&&(R===null?pe.firstBaseUpdate=ne:R.next=ne,pe.lastBaseUpdate=D))}if(p!==null){var me=d.baseState;b=0,pe=ne=D=null,R=p;do{var fe=R.lane,Ue=R.eventTime;if((s&fe)===fe){pe!==null&&(pe=pe.next={eventTime:Ue,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Qe=e,Xe=R;switch(fe=t,Ue=n,Xe.tag){case 1:if(Qe=Xe.payload,typeof Qe=="function"){me=Qe.call(Ue,me,fe);break e}me=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=Xe.payload,fe=typeof Qe=="function"?Qe.call(Ue,me,fe):Qe,fe==null)break e;me=Y({},me,fe);break e;case 2:za=!0}}R.callback!==null&&R.lane!==0&&(e.flags|=64,fe=d.effects,fe===null?d.effects=[R]:fe.push(R))}else Ue={eventTime:Ue,lane:fe,tag:R.tag,payload:R.payload,callback:R.callback,next:null},pe===null?(ne=pe=Ue,D=me):pe=pe.next=Ue,b|=fe;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;fe=R,R=fe.next,fe.next=null,d.lastBaseUpdate=fe,d.shared.pending=null}}while(!0);if(pe===null&&(D=me),d.baseState=D,d.firstBaseUpdate=ne,d.lastBaseUpdate=pe,t=d.shared.interleaved,t!==null){d=t;do b|=d.lane,d=d.next;while(d!==t)}else p===null&&(d.shared.lanes=0);ki|=b,e.lanes=b,e.memoizedState=me}}function fd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],d=s.callback;if(d!==null){if(s.callback=null,s=n,typeof d!="function")throw Error(i(191,d));d.call(s)}}}var Yo={},qr=Fa(Yo),Qo=Fa(Yo),Go=Fa(Yo);function Si(e){if(e===Yo)throw Error(i(174));return e}function vu(e,t){switch(Mt(Go,t),Mt(Qo,e),Mt(qr,Yo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tn(t,e)}Bt(qr),Mt(qr,t)}function lo(){Bt(qr),Bt(Qo),Bt(Go)}function hd(e){Si(Go.current);var t=Si(qr.current),n=Tn(t,e.type);t!==n&&(Mt(Qo,e),Mt(qr,n))}function xu(e){Qo.current===e&&(Bt(qr),Bt(Qo))}var qt=Fa(0);function Zs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wu=[];function bu(){for(var e=0;e<wu.length;e++)wu[e]._workInProgressVersionPrimary=null;wu.length=0}var el=ie.ReactCurrentDispatcher,Su=ie.ReactCurrentBatchConfig,Ei=0,Wt=null,on=null,hn=null,tl=!1,Xo=!1,Jo=0,Hp=0;function Cn(){throw Error(i(321))}function Eu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!V(e[n],t[n]))return!1;return!0}function ku(e,t,n,s,d,p){if(Ei=p,Wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,el.current=e===null||e.memoizedState===null?qp:Wp,e=n(s,d),Xo){p=0;do{if(Xo=!1,Jo=0,25<=p)throw Error(i(301));p+=1,hn=on=null,t.updateQueue=null,el.current=Yp,e=n(s,d)}while(Xo)}if(el.current=al,t=on!==null&&on.next!==null,Ei=0,hn=on=Wt=null,tl=!1,t)throw Error(i(300));return e}function Cu(){var e=Jo!==0;return Jo=0,e}function Wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Wt.memoizedState=hn=e:hn=hn.next=e,hn}function pr(){if(on===null){var e=Wt.alternate;e=e!==null?e.memoizedState:null}else e=on.next;var t=hn===null?Wt.memoizedState:hn.next;if(t!==null)hn=t,on=e;else{if(e===null)throw Error(i(310));on=e,e={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?Wt.memoizedState=hn=e:hn=hn.next=e}return hn}function Zo(e,t){return typeof t=="function"?t(e):t}function Nu(e){var t=pr(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=on,d=s.baseQueue,p=n.pending;if(p!==null){if(d!==null){var b=d.next;d.next=p.next,p.next=b}s.baseQueue=d=p,n.pending=null}if(d!==null){p=d.next,s=s.baseState;var R=b=null,D=null,ne=p;do{var pe=ne.lane;if((Ei&pe)===pe)D!==null&&(D=D.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),s=ne.hasEagerState?ne.eagerState:e(s,ne.action);else{var me={lane:pe,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};D===null?(R=D=me,b=s):D=D.next=me,Wt.lanes|=pe,ki|=pe}ne=ne.next}while(ne!==null&&ne!==p);D===null?b=s:D.next=R,V(s,t.memoizedState)||(Kn=!0),t.memoizedState=s,t.baseState=b,t.baseQueue=D,n.lastRenderedState=s}if(e=n.interleaved,e!==null){d=e;do p=d.lane,Wt.lanes|=p,ki|=p,d=d.next;while(d!==e)}else d===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _u(e){var t=pr(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,d=n.pending,p=t.memoizedState;if(d!==null){n.pending=null;var b=d=d.next;do p=e(p,b.action),b=b.next;while(b!==d);V(p,t.memoizedState)||(Kn=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),n.lastRenderedState=p}return[p,s]}function pd(){}function md(e,t){var n=Wt,s=pr(),d=t(),p=!V(s.memoizedState,d);if(p&&(s.memoizedState=d,Kn=!0),s=s.queue,Pu(vd.bind(null,n,s,e),[e]),s.getSnapshot!==t||p||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,es(9,yd.bind(null,n,s,d,t),void 0,null),pn===null)throw Error(i(349));(Ei&30)!==0||gd(n,t,d)}return d}function gd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yd(e,t,n,s){t.value=n,t.getSnapshot=s,xd(t)&&wd(e)}function vd(e,t,n){return n(function(){xd(t)&&wd(e)})}function xd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!V(e,n)}catch{return!0}}function wd(e){var t=da(e,1);t!==null&&Lr(t,e,1,-1)}function bd(e){var t=Wr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},t.queue=e,e=e.dispatch=Kp.bind(null,Wt,e),[t.memoizedState,e]}function es(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Sd(){return pr().memoizedState}function nl(e,t,n,s){var d=Wr();Wt.flags|=e,d.memoizedState=es(1|t,n,void 0,s===void 0?null:s)}function rl(e,t,n,s){var d=pr();s=s===void 0?null:s;var p=void 0;if(on!==null){var b=on.memoizedState;if(p=b.destroy,s!==null&&Eu(s,b.deps)){d.memoizedState=es(t,n,p,s);return}}Wt.flags|=e,d.memoizedState=es(1|t,n,p,s)}function Ed(e,t){return nl(8390656,8,e,t)}function Pu(e,t){return rl(2048,8,e,t)}function kd(e,t){return rl(4,2,e,t)}function Cd(e,t){return rl(4,4,e,t)}function Nd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _d(e,t,n){return n=n!=null?n.concat([e]):null,rl(4,4,Nd.bind(null,t,e),n)}function Ru(){}function Pd(e,t){var n=pr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Eu(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Rd(e,t){var n=pr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Eu(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function jd(e,t,n){return(Ei&21)===0?(e.baseState&&(e.baseState=!1,Kn=!0),e.memoizedState=n):(V(n,t)||(n=Zr(),Wt.lanes|=n,ki|=n,e.baseState=!0),t)}function $p(e,t){var n=kt;kt=n!==0&&4>n?n:4,e(!0);var s=Su.transition;Su.transition={};try{e(!1),t()}finally{kt=n,Su.transition=s}}function Td(){return pr().memoizedState}function Vp(e,t,n){var s=qa(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Od(e))Dd(t,n);else if(n=ud(e,t,n,s),n!==null){var d=Fn();Lr(n,e,s,d),Ld(n,t,s)}}function Kp(e,t,n){var s=qa(e),d={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Od(e))Dd(t,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var b=t.lastRenderedState,R=p(b,n);if(d.hasEagerState=!0,d.eagerState=R,V(R,b)){var D=t.interleaved;D===null?(d.next=d,gu(t)):(d.next=D.next,D.next=d),t.interleaved=d;return}}catch{}finally{}n=ud(e,t,d,s),n!==null&&(d=Fn(),Lr(n,e,s,d),Ld(n,t,s))}}function Od(e){var t=e.alternate;return e===Wt||t!==null&&t===Wt}function Dd(e,t){Xo=tl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ld(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Fi(e,n)}}var al={readContext:hr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},qp={readContext:hr,useCallback:function(e,t){return Wr().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:Ed,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nl(4194308,4,Nd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return nl(4,2,e,t)},useMemo:function(e,t){var n=Wr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Wr();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Vp.bind(null,Wt,e),[s.memoizedState,e]},useRef:function(e){var t=Wr();return e={current:e},t.memoizedState=e},useState:bd,useDebugValue:Ru,useDeferredValue:function(e){return Wr().memoizedState=e},useTransition:function(){var e=bd(!1),t=e[0];return e=$p.bind(null,e[1]),Wr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Wt,d=Wr();if(Ht){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),pn===null)throw Error(i(349));(Ei&30)!==0||gd(s,t,n)}d.memoizedState=n;var p={value:n,getSnapshot:t};return d.queue=p,Ed(vd.bind(null,s,p,e),[e]),s.flags|=2048,es(9,yd.bind(null,s,p,n,t),void 0,null),n},useId:function(){var e=Wr(),t=pn.identifierPrefix;if(Ht){var n=ca,s=ua;n=(s&~(1<<32-He(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Hp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wp={readContext:hr,useCallback:Pd,useContext:hr,useEffect:Pu,useImperativeHandle:_d,useInsertionEffect:kd,useLayoutEffect:Cd,useMemo:Rd,useReducer:Nu,useRef:Sd,useState:function(){return Nu(Zo)},useDebugValue:Ru,useDeferredValue:function(e){var t=pr();return jd(t,on.memoizedState,e)},useTransition:function(){var e=Nu(Zo)[0],t=pr().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:md,useId:Td,unstable_isNewReconciler:!1},Yp={readContext:hr,useCallback:Pd,useContext:hr,useEffect:Pu,useImperativeHandle:_d,useInsertionEffect:kd,useLayoutEffect:Cd,useMemo:Rd,useReducer:_u,useRef:Sd,useState:function(){return _u(Zo)},useDebugValue:Ru,useDeferredValue:function(e){var t=pr();return on===null?t.memoizedState=e:jd(t,on.memoizedState,e)},useTransition:function(){var e=_u(Zo)[0],t=pr().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:md,useId:Td,unstable_isNewReconciler:!1};function Tr(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ju(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var il={isMounted:function(e){return(e=e._reactInternals)?Ae(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Fn(),d=qa(e),p=fa(s,d);p.payload=t,n!=null&&(p.callback=n),t=Ha(e,p,d),t!==null&&(Lr(t,e,d,s),Xs(t,e,d))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Fn(),d=qa(e),p=fa(s,d);p.tag=1,p.payload=t,n!=null&&(p.callback=n),t=Ha(e,p,d),t!==null&&(Lr(t,e,d,s),Xs(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fn(),s=qa(e),d=fa(n,s);d.tag=2,t!=null&&(d.callback=t),t=Ha(e,d,s),t!==null&&(Lr(t,e,s,n),Xs(t,e,s))}};function Ad(e,t,n,s,d,p,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,b):t.prototype&&t.prototype.isPureReactComponent?!L(n,s)||!L(d,p):!0}function Id(e,t,n){var s=!1,d=Ba,p=t.contextType;return typeof p=="object"&&p!==null?p=hr(p):(d=Vn(t)?vi:kn.current,s=t.contextTypes,p=(s=s!=null)?to(e,d):Ba),t=new t(n,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=p),t}function Md(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function Tu(e,t,n,s){var d=e.stateNode;d.props=n,d.state=e.memoizedState,d.refs={},yu(e);var p=t.contextType;typeof p=="object"&&p!==null?d.context=hr(p):(p=Vn(t)?vi:kn.current,d.context=to(e,p)),d.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(ju(e,t,p,n),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&il.enqueueReplaceState(d,d.state,null),Js(e,n,d,s),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function uo(e,t){try{var n="",s=t;do n+=$e(s),s=s.return;while(s);var d=n}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:d,digest:null}}function Ou(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Du(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qp=typeof WeakMap=="function"?WeakMap:Map;function Fd(e,t,n){n=fa(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){fl||(fl=!0,Yu=s),Du(e,t)},n}function Bd(e,t,n){n=fa(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var d=t.value;n.payload=function(){return s(d)},n.callback=function(){Du(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(n.callback=function(){Du(e,t),typeof s!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var b=t.stack;this.componentDidCatch(t.value,{componentStack:b!==null?b:""})}),n}function Ud(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Qp;var d=new Set;s.set(t,d)}else d=s.get(t),d===void 0&&(d=new Set,s.set(t,d));d.has(n)||(d.add(n),e=um.bind(null,e,t,n),t.then(e,e))}function zd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hd(e,t,n,s,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fa(-1,1),t.tag=2,Ha(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Gp=ie.ReactCurrentOwner,Kn=!1;function Mn(e,t,n,s){t.child=e===null?ld(t,null,n,s):io(t,e.child,n,s)}function $d(e,t,n,s,d){n=n.render;var p=t.ref;return so(t,d),s=ku(e,t,n,s,p,d),n=Cu(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,ha(e,t,d)):(Ht&&n&&su(t),t.flags|=1,Mn(e,t,s,d),t.child)}function Vd(e,t,n,s,d){if(e===null){var p=n.type;return typeof p=="function"&&!tc(p)&&p.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=p,Kd(e,t,p,s,d)):(e=vl(n.type,null,s,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,(e.lanes&d)===0){var b=p.memoizedProps;if(n=n.compare,n=n!==null?n:L,n(b,s)&&e.ref===t.ref)return ha(e,t,d)}return t.flags|=1,e=Ya(p,s),e.ref=t.ref,e.return=t,t.child=e}function Kd(e,t,n,s,d){if(e!==null){var p=e.memoizedProps;if(L(p,s)&&e.ref===t.ref)if(Kn=!1,t.pendingProps=s=p,(e.lanes&d)!==0)(e.flags&131072)!==0&&(Kn=!0);else return t.lanes=e.lanes,ha(e,t,d)}return Lu(e,t,n,s,d)}function qd(e,t,n){var s=t.pendingProps,d=s.children,p=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(fo,ir),ir|=n;else{if((n&1073741824)===0)return e=p!==null?p.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mt(fo,ir),ir|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=p!==null?p.baseLanes:n,Mt(fo,ir),ir|=s}else p!==null?(s=p.baseLanes|n,t.memoizedState=null):s=n,Mt(fo,ir),ir|=s;return Mn(e,t,d,n),t.child}function Wd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lu(e,t,n,s,d){var p=Vn(n)?vi:kn.current;return p=to(t,p),so(t,d),n=ku(e,t,n,s,p,d),s=Cu(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,ha(e,t,d)):(Ht&&s&&su(t),t.flags|=1,Mn(e,t,n,d),t.child)}function Yd(e,t,n,s,d){if(Vn(n)){var p=!0;$s(t)}else p=!1;if(so(t,d),t.stateNode===null)sl(e,t),Id(t,n,s),Tu(t,n,s,d),s=!0;else if(e===null){var b=t.stateNode,R=t.memoizedProps;b.props=R;var D=b.context,ne=n.contextType;typeof ne=="object"&&ne!==null?ne=hr(ne):(ne=Vn(n)?vi:kn.current,ne=to(t,ne));var pe=n.getDerivedStateFromProps,me=typeof pe=="function"||typeof b.getSnapshotBeforeUpdate=="function";me||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==s||D!==ne)&&Md(t,b,s,ne),za=!1;var fe=t.memoizedState;b.state=fe,Js(t,s,b,d),D=t.memoizedState,R!==s||fe!==D||$n.current||za?(typeof pe=="function"&&(ju(t,n,pe,s),D=t.memoizedState),(R=za||Ad(t,n,R,s,fe,D,ne))?(me||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(t.flags|=4194308)):(typeof b.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=D),b.props=s,b.state=D,b.context=ne,s=R):(typeof b.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{b=t.stateNode,cd(e,t),R=t.memoizedProps,ne=t.type===t.elementType?R:Tr(t.type,R),b.props=ne,me=t.pendingProps,fe=b.context,D=n.contextType,typeof D=="object"&&D!==null?D=hr(D):(D=Vn(n)?vi:kn.current,D=to(t,D));var Ue=n.getDerivedStateFromProps;(pe=typeof Ue=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==me||fe!==D)&&Md(t,b,s,D),za=!1,fe=t.memoizedState,b.state=fe,Js(t,s,b,d);var Qe=t.memoizedState;R!==me||fe!==Qe||$n.current||za?(typeof Ue=="function"&&(ju(t,n,Ue,s),Qe=t.memoizedState),(ne=za||Ad(t,n,ne,s,fe,Qe,D)||!1)?(pe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(s,Qe,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(s,Qe,D)),typeof b.componentDidUpdate=="function"&&(t.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===e.memoizedProps&&fe===e.memoizedState||(t.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&fe===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Qe),b.props=s,b.state=Qe,b.context=D,s=ne):(typeof b.componentDidUpdate!="function"||R===e.memoizedProps&&fe===e.memoizedState||(t.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&fe===e.memoizedState||(t.flags|=1024),s=!1)}return Au(e,t,n,s,p,d)}function Au(e,t,n,s,d,p){Wd(e,t);var b=(t.flags&128)!==0;if(!s&&!b)return d&&Zc(t,n,!1),ha(e,t,p);s=t.stateNode,Gp.current=t;var R=b&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&b?(t.child=io(t,e.child,null,p),t.child=io(t,null,R,p)):Mn(e,t,R,p),t.memoizedState=s.state,d&&Zc(t,n,!0),t.child}function Qd(e){var t=e.stateNode;t.pendingContext?Xc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xc(e,t.context,!1),vu(e,t.containerInfo)}function Gd(e,t,n,s,d){return ao(),du(d),t.flags|=256,Mn(e,t,n,s),t.child}var Iu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xd(e,t,n){var s=t.pendingProps,d=qt.current,p=!1,b=(t.flags&128)!==0,R;if((R=b)||(R=e!==null&&e.memoizedState===null?!1:(d&2)!==0),R?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Mt(qt,d&1),e===null)return cu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(b=s.children,e=s.fallback,p?(s=t.mode,p=t.child,b={mode:"hidden",children:b},(s&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=b):p=xl(b,s,0,null),e=Pi(e,s,n,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=Mu(n),t.memoizedState=Iu,e):Fu(t,b));if(d=e.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return Xp(e,t,b,s,R,d,n);if(p){p=s.fallback,b=t.mode,d=e.child,R=d.sibling;var D={mode:"hidden",children:s.children};return(b&1)===0&&t.child!==d?(s=t.child,s.childLanes=0,s.pendingProps=D,t.deletions=null):(s=Ya(d,D),s.subtreeFlags=d.subtreeFlags&14680064),R!==null?p=Ya(R,p):(p=Pi(p,b,n,null),p.flags|=2),p.return=t,s.return=t,s.sibling=p,t.child=s,s=p,p=t.child,b=e.child.memoizedState,b=b===null?Mu(n):{baseLanes:b.baseLanes|n,cachePool:null,transitions:b.transitions},p.memoizedState=b,p.childLanes=e.childLanes&~n,t.memoizedState=Iu,s}return p=e.child,e=p.sibling,s=Ya(p,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Fu(e,t){return t=xl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ol(e,t,n,s){return s!==null&&du(s),io(t,e.child,null,n),e=Fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xp(e,t,n,s,d,p,b){if(n)return t.flags&256?(t.flags&=-257,s=Ou(Error(i(422))),ol(e,t,b,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=s.fallback,d=t.mode,s=xl({mode:"visible",children:s.children},d,0,null),p=Pi(p,d,b,null),p.flags|=2,s.return=t,p.return=t,s.sibling=p,t.child=s,(t.mode&1)!==0&&io(t,e.child,null,b),t.child.memoizedState=Mu(b),t.memoizedState=Iu,p);if((t.mode&1)===0)return ol(e,t,b,null);if(d.data==="$!"){if(s=d.nextSibling&&d.nextSibling.dataset,s)var R=s.dgst;return s=R,p=Error(i(419)),s=Ou(p,s,void 0),ol(e,t,b,s)}if(R=(b&e.childLanes)!==0,Kn||R){if(s=pn,s!==null){switch(b&-b){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(s.suspendedLanes|b))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,da(e,d),Lr(s,e,d,-1))}return ec(),s=Ou(Error(i(421))),ol(e,t,b,s)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=cm.bind(null,e),d._reactRetry=t,null):(e=p.treeContext,ar=Ma(d.nextSibling),rr=t,Ht=!0,jr=null,e!==null&&(dr[fr++]=ua,dr[fr++]=ca,dr[fr++]=xi,ua=e.id,ca=e.overflow,xi=t),t=Fu(t,s.children),t.flags|=4096,t)}function Jd(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),mu(e.return,t,n)}function Bu(e,t,n,s,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:d}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=n,p.tailMode=d)}function Zd(e,t,n){var s=t.pendingProps,d=s.revealOrder,p=s.tail;if(Mn(e,t,s.children,n),s=qt.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jd(e,n,t);else if(e.tag===19)Jd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Mt(qt,s),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(n=t.child,d=null;n!==null;)e=n.alternate,e!==null&&Zs(e)===null&&(d=n),n=n.sibling;n=d,n===null?(d=t.child,t.child=null):(d=n.sibling,n.sibling=null),Bu(t,!1,d,n,p);break;case"backwards":for(n=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Zs(e)===null){t.child=d;break}e=d.sibling,d.sibling=n,n=d,d=e}Bu(t,!0,n,null,p);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ha(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ki|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=Ya(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ya(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jp(e,t,n){switch(t.tag){case 3:Qd(t),ao();break;case 5:hd(t);break;case 1:Vn(t.type)&&$s(t);break;case 4:vu(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,d=t.memoizedProps.value;Mt(Qs,s._currentValue),s._currentValue=d;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Mt(qt,qt.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Xd(e,t,n):(Mt(qt,qt.current&1),e=ha(e,t,n),e!==null?e.sibling:null);Mt(qt,qt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Zd(e,t,n);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Mt(qt,qt.current),s)break;return null;case 22:case 23:return t.lanes=0,qd(e,t,n)}return ha(e,t,n)}var ef,Uu,tf,nf;ef=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Uu=function(){},tf=function(e,t,n,s){var d=e.memoizedProps;if(d!==s){e=t.stateNode,Si(qr.current);var p=null;switch(n){case"input":d=Ir(e,d),s=Ir(e,s),p=[];break;case"select":d=Y({},d,{value:void 0}),s=Y({},s,{value:void 0}),p=[];break;case"textarea":d=va(e,d),s=va(e,s),p=[];break;default:typeof d.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Us)}qe(n,s);var b;n=null;for(ne in d)if(!s.hasOwnProperty(ne)&&d.hasOwnProperty(ne)&&d[ne]!=null)if(ne==="style"){var R=d[ne];for(b in R)R.hasOwnProperty(b)&&(n||(n={}),n[b]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(c.hasOwnProperty(ne)?p||(p=[]):(p=p||[]).push(ne,null));for(ne in s){var D=s[ne];if(R=d!=null?d[ne]:void 0,s.hasOwnProperty(ne)&&D!==R&&(D!=null||R!=null))if(ne==="style")if(R){for(b in R)!R.hasOwnProperty(b)||D&&D.hasOwnProperty(b)||(n||(n={}),n[b]="");for(b in D)D.hasOwnProperty(b)&&R[b]!==D[b]&&(n||(n={}),n[b]=D[b])}else n||(p||(p=[]),p.push(ne,n)),n=D;else ne==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(p=p||[]).push(ne,D)):ne==="children"?typeof D!="string"&&typeof D!="number"||(p=p||[]).push(ne,""+D):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(c.hasOwnProperty(ne)?(D!=null&&ne==="onScroll"&&Ft("scroll",e),p||R===D||(p=[])):(p=p||[]).push(ne,D))}n&&(p=p||[]).push("style",n);var ne=p;(t.updateQueue=ne)&&(t.flags|=4)}},nf=function(e,t,n,s){n!==s&&(t.flags|=4)};function ts(e,t){if(!Ht)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var d=e.child;d!==null;)n|=d.lanes|d.childLanes,s|=d.subtreeFlags&14680064,s|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)n|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Zp(e,t,n){var s=t.pendingProps;switch(lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(t),null;case 1:return Vn(t.type)&&Hs(),Nn(t),null;case 3:return s=t.stateNode,lo(),Bt($n),Bt(kn),bu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jr!==null&&(Xu(jr),jr=null))),Uu(e,t),Nn(t),null;case 5:xu(t);var d=Si(Go.current);if(n=t.type,e!==null&&t.stateNode!=null)tf(e,t,n,s,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Nn(t),null}if(e=Si(qr.current),Ws(t)){s=t.stateNode,n=t.type;var p=t.memoizedProps;switch(s[Kr]=t,s[Ko]=p,e=(t.mode&1)!==0,n){case"dialog":Ft("cancel",s),Ft("close",s);break;case"iframe":case"object":case"embed":Ft("load",s);break;case"video":case"audio":for(d=0;d<Ho.length;d++)Ft(Ho[d],s);break;case"source":Ft("error",s);break;case"img":case"image":case"link":Ft("error",s),Ft("load",s);break;case"details":Ft("toggle",s);break;case"input":ze(s,p),Ft("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!p.multiple},Ft("invalid",s);break;case"textarea":Mr(s,p),Ft("invalid",s)}qe(n,p),d=null;for(var b in p)if(p.hasOwnProperty(b)){var R=p[b];b==="children"?typeof R=="string"?s.textContent!==R&&(p.suppressHydrationWarning!==!0&&Bs(s.textContent,R,e),d=["children",R]):typeof R=="number"&&s.textContent!==""+R&&(p.suppressHydrationWarning!==!0&&Bs(s.textContent,R,e),d=["children",""+R]):c.hasOwnProperty(b)&&R!=null&&b==="onScroll"&&Ft("scroll",s)}switch(n){case"input":Rn(s),jn(s,p,!0);break;case"textarea":Rn(s),Un(s);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(s.onclick=Us)}s=d,t.updateQueue=s,s!==null&&(t.flags|=4)}else{b=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nn(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=b.createElement(n,{is:s.is}):(e=b.createElement(n),n==="select"&&(b=e,s.multiple?b.multiple=!0:s.size&&(b.size=s.size))):e=b.createElementNS(e,n),e[Kr]=t,e[Ko]=s,ef(e,t,!1,!1),t.stateNode=e;e:{switch(b=vr(n,s),n){case"dialog":Ft("cancel",e),Ft("close",e),d=s;break;case"iframe":case"object":case"embed":Ft("load",e),d=s;break;case"video":case"audio":for(d=0;d<Ho.length;d++)Ft(Ho[d],e);d=s;break;case"source":Ft("error",e),d=s;break;case"img":case"image":case"link":Ft("error",e),Ft("load",e),d=s;break;case"details":Ft("toggle",e),d=s;break;case"input":ze(e,s),d=Ir(e,s),Ft("invalid",e);break;case"option":d=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},d=Y({},s,{value:void 0}),Ft("invalid",e);break;case"textarea":Mr(e,s),d=va(e,s),Ft("invalid",e);break;default:d=s}qe(n,d),R=d;for(p in R)if(R.hasOwnProperty(p)){var D=R[p];p==="style"?Gr(e,D):p==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&cn(e,D)):p==="children"?typeof D=="string"?(n!=="textarea"||D!=="")&&ur(e,D):typeof D=="number"&&ur(e,""+D):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(c.hasOwnProperty(p)?D!=null&&p==="onScroll"&&Ft("scroll",e):D!=null&&le(e,p,D,b))}switch(n){case"input":Rn(e),jn(e,s,!1);break;case"textarea":Rn(e),Un(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ze(s.value));break;case"select":e.multiple=!!s.multiple,p=s.value,p!=null?tn(e,!!s.multiple,p,!1):s.defaultValue!=null&&tn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Us)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nn(t),null;case 6:if(e&&t.stateNode!=null)nf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(n=Si(Go.current),Si(qr.current),Ws(t)){if(s=t.stateNode,n=t.memoizedProps,s[Kr]=t,(p=s.nodeValue!==n)&&(e=rr,e!==null))switch(e.tag){case 3:Bs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bs(s.nodeValue,n,(e.mode&1)!==0)}p&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Kr]=t,t.stateNode=s}return Nn(t),null;case 13:if(Bt(qt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ht&&ar!==null&&(t.mode&1)!==0&&(t.flags&128)===0)id(),ao(),t.flags|=98560,p=!1;else if(p=Ws(t),s!==null&&s.dehydrated!==null){if(e===null){if(!p)throw Error(i(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Kr]=t}else ao(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Nn(t),p=!1}else jr!==null&&(Xu(jr),jr=null),p=!0;if(!p)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(qt.current&1)!==0?sn===0&&(sn=3):ec())),t.updateQueue!==null&&(t.flags|=4),Nn(t),null);case 4:return lo(),Uu(e,t),e===null&&$o(t.stateNode.containerInfo),Nn(t),null;case 10:return pu(t.type._context),Nn(t),null;case 17:return Vn(t.type)&&Hs(),Nn(t),null;case 19:if(Bt(qt),p=t.memoizedState,p===null)return Nn(t),null;if(s=(t.flags&128)!==0,b=p.rendering,b===null)if(s)ts(p,!1);else{if(sn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(b=Zs(e),b!==null){for(t.flags|=128,ts(p,!1),s=b.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)p=n,e=s,p.flags&=14680066,b=p.alternate,b===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=b.childLanes,p.lanes=b.lanes,p.child=b.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=b.memoizedProps,p.memoizedState=b.memoizedState,p.updateQueue=b.updateQueue,p.type=b.type,e=b.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mt(qt,qt.current&1|2),t.child}e=e.sibling}p.tail!==null&&gt()>ho&&(t.flags|=128,s=!0,ts(p,!1),t.lanes=4194304)}else{if(!s)if(e=Zs(b),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ts(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!Ht)return Nn(t),null}else 2*gt()-p.renderingStartTime>ho&&n!==1073741824&&(t.flags|=128,s=!0,ts(p,!1),t.lanes=4194304);p.isBackwards?(b.sibling=t.child,t.child=b):(n=p.last,n!==null?n.sibling=b:t.child=b,p.last=b)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=gt(),t.sibling=null,n=qt.current,Mt(qt,s?n&1|2:n&1),t):(Nn(t),null);case 22:case 23:return Zu(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(ir&1073741824)!==0&&(Nn(t),t.subtreeFlags&6&&(t.flags|=8192)):Nn(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function em(e,t){switch(lu(t),t.tag){case 1:return Vn(t.type)&&Hs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lo(),Bt($n),Bt(kn),bu(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return xu(t),null;case 13:if(Bt(qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ao()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Bt(qt),null;case 4:return lo(),null;case 10:return pu(t.type._context),null;case 22:case 23:return Zu(),null;case 24:return null;default:return null}}var ll=!1,_n=!1,tm=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function co(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Qt(e,t,s)}else n.current=null}function zu(e,t,n){try{n()}catch(s){Qt(e,t,s)}}var rf=!1;function nm(e,t){if(Zl=ci,e=I(),A(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var d=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{n.nodeType,p.nodeType}catch{n=null;break e}var b=0,R=-1,D=-1,ne=0,pe=0,me=e,fe=null;t:for(;;){for(var Ue;me!==n||d!==0&&me.nodeType!==3||(R=b+d),me!==p||s!==0&&me.nodeType!==3||(D=b+s),me.nodeType===3&&(b+=me.nodeValue.length),(Ue=me.firstChild)!==null;)fe=me,me=Ue;for(;;){if(me===e)break t;if(fe===n&&++ne===d&&(R=b),fe===p&&++pe===s&&(D=b),(Ue=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=Ue}n=R===-1||D===-1?null:{start:R,end:D}}else n=null}n=n||{start:0,end:0}}else n=null;for(eu={focusedElem:e,selectionRange:n},ci=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var Qe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Qe!==null){var Xe=Qe.memoizedProps,Xt=Qe.memoizedState,W=t.stateNode,H=W.getSnapshotBeforeUpdate(t.elementType===t.type?Xe:Tr(t.type,Xe),Xt);W.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var ee=t.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ve){Qt(t,t.return,ve)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return Qe=rf,rf=!1,Qe}function ns(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var d=s=s.next;do{if((d.tag&e)===e){var p=d.destroy;d.destroy=void 0,p!==void 0&&zu(t,n,p)}d=d.next}while(d!==s)}}function ul(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Hu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function af(e){var t=e.alternate;t!==null&&(e.alternate=null,af(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kr],delete t[Ko],delete t[au],delete t[Fp],delete t[Bp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function of(e){return e.tag===5||e.tag===3||e.tag===4}function sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||of(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $u(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Us));else if(s!==4&&(e=e.child,e!==null))for($u(e,t,n),e=e.sibling;e!==null;)$u(e,t,n),e=e.sibling}function Vu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Vu(e,t,n),e=e.sibling;e!==null;)Vu(e,t,n),e=e.sibling}var wn=null,Or=!1;function $a(e,t,n){for(n=n.child;n!==null;)lf(e,t,n),n=n.sibling}function lf(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Rt,n)}catch{}switch(n.tag){case 5:_n||co(n,t);case 6:var s=wn,d=Or;wn=null,$a(e,t,n),wn=s,Or=d,wn!==null&&(Or?(e=wn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):wn.removeChild(n.stateNode));break;case 18:wn!==null&&(Or?(e=wn,n=n.stateNode,e.nodeType===8?ru(e.parentNode,n):e.nodeType===1&&ru(e,n),kr(e)):ru(wn,n.stateNode));break;case 4:s=wn,d=Or,wn=n.stateNode.containerInfo,Or=!0,$a(e,t,n),wn=s,Or=d;break;case 0:case 11:case 14:case 15:if(!_n&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){d=s=s.next;do{var p=d,b=p.destroy;p=p.tag,b!==void 0&&((p&2)!==0||(p&4)!==0)&&zu(n,t,b),d=d.next}while(d!==s)}$a(e,t,n);break;case 1:if(!_n&&(co(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(R){Qt(n,t,R)}$a(e,t,n);break;case 21:$a(e,t,n);break;case 22:n.mode&1?(_n=(s=_n)||n.memoizedState!==null,$a(e,t,n),_n=s):$a(e,t,n);break;default:$a(e,t,n)}}function uf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tm),t.forEach(function(s){var d=dm.bind(null,e,s);n.has(s)||(n.add(s),s.then(d,d))})}}function Dr(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var d=n[s];try{var p=e,b=t,R=b;e:for(;R!==null;){switch(R.tag){case 5:wn=R.stateNode,Or=!1;break e;case 3:wn=R.stateNode.containerInfo,Or=!0;break e;case 4:wn=R.stateNode.containerInfo,Or=!0;break e}R=R.return}if(wn===null)throw Error(i(160));lf(p,b,d),wn=null,Or=!1;var D=d.alternate;D!==null&&(D.return=null),d.return=null}catch(ne){Qt(d,t,ne)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cf(t,e),t=t.sibling}function cf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dr(t,e),Yr(e),s&4){try{ns(3,e,e.return),ul(3,e)}catch(Xe){Qt(e,e.return,Xe)}try{ns(5,e,e.return)}catch(Xe){Qt(e,e.return,Xe)}}break;case 1:Dr(t,e),Yr(e),s&512&&n!==null&&co(n,n.return);break;case 5:if(Dr(t,e),Yr(e),s&512&&n!==null&&co(n,n.return),e.flags&32){var d=e.stateNode;try{ur(d,"")}catch(Xe){Qt(e,e.return,Xe)}}if(s&4&&(d=e.stateNode,d!=null)){var p=e.memoizedProps,b=n!==null?n.memoizedProps:p,R=e.type,D=e.updateQueue;if(e.updateQueue=null,D!==null)try{R==="input"&&p.type==="radio"&&p.name!=null&&pt(d,p),vr(R,b);var ne=vr(R,p);for(b=0;b<D.length;b+=2){var pe=D[b],me=D[b+1];pe==="style"?Gr(d,me):pe==="dangerouslySetInnerHTML"?cn(d,me):pe==="children"?ur(d,me):le(d,pe,me,ne)}switch(R){case"input":un(d,p);break;case"textarea":Gn(d,p);break;case"select":var fe=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var Ue=p.value;Ue!=null?tn(d,!!p.multiple,Ue,!1):fe!==!!p.multiple&&(p.defaultValue!=null?tn(d,!!p.multiple,p.defaultValue,!0):tn(d,!!p.multiple,p.multiple?[]:"",!1))}d[Ko]=p}catch(Xe){Qt(e,e.return,Xe)}}break;case 6:if(Dr(t,e),Yr(e),s&4){if(e.stateNode===null)throw Error(i(162));d=e.stateNode,p=e.memoizedProps;try{d.nodeValue=p}catch(Xe){Qt(e,e.return,Xe)}}break;case 3:if(Dr(t,e),Yr(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{kr(t.containerInfo)}catch(Xe){Qt(e,e.return,Xe)}break;case 4:Dr(t,e),Yr(e);break;case 13:Dr(t,e),Yr(e),d=e.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Wu=gt())),s&4&&uf(e);break;case 22:if(pe=n!==null&&n.memoizedState!==null,e.mode&1?(_n=(ne=_n)||pe,Dr(t,e),_n=ne):Dr(t,e),Yr(e),s&8192){if(ne=e.memoizedState!==null,(e.stateNode.isHidden=ne)&&!pe&&(e.mode&1)!==0)for(Ke=e,pe=e.child;pe!==null;){for(me=Ke=pe;Ke!==null;){switch(fe=Ke,Ue=fe.child,fe.tag){case 0:case 11:case 14:case 15:ns(4,fe,fe.return);break;case 1:co(fe,fe.return);var Qe=fe.stateNode;if(typeof Qe.componentWillUnmount=="function"){s=fe,n=fe.return;try{t=s,Qe.props=t.memoizedProps,Qe.state=t.memoizedState,Qe.componentWillUnmount()}catch(Xe){Qt(s,n,Xe)}}break;case 5:co(fe,fe.return);break;case 22:if(fe.memoizedState!==null){hf(me);continue}}Ue!==null?(Ue.return=fe,Ke=Ue):hf(me)}pe=pe.sibling}e:for(pe=null,me=e;;){if(me.tag===5){if(pe===null){pe=me;try{d=me.stateNode,ne?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(R=me.stateNode,D=me.memoizedProps.style,b=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=Sn("display",b))}catch(Xe){Qt(e,e.return,Xe)}}}else if(me.tag===6){if(pe===null)try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(Xe){Qt(e,e.return,Xe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===e)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===e)break e;for(;me.sibling===null;){if(me.return===null||me.return===e)break e;pe===me&&(pe=null),me=me.return}pe===me&&(pe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Dr(t,e),Yr(e),s&4&&uf(e);break;case 21:break;default:Dr(t,e),Yr(e)}}function Yr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(of(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var d=s.stateNode;s.flags&32&&(ur(d,""),s.flags&=-33);var p=sf(e);Vu(e,p,d);break;case 3:case 4:var b=s.stateNode.containerInfo,R=sf(e);$u(e,R,b);break;default:throw Error(i(161))}}catch(D){Qt(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rm(e,t,n){Ke=e,df(e)}function df(e,t,n){for(var s=(e.mode&1)!==0;Ke!==null;){var d=Ke,p=d.child;if(d.tag===22&&s){var b=d.memoizedState!==null||ll;if(!b){var R=d.alternate,D=R!==null&&R.memoizedState!==null||_n;R=ll;var ne=_n;if(ll=b,(_n=D)&&!ne)for(Ke=d;Ke!==null;)b=Ke,D=b.child,b.tag===22&&b.memoizedState!==null?pf(d):D!==null?(D.return=b,Ke=D):pf(d);for(;p!==null;)Ke=p,df(p),p=p.sibling;Ke=d,ll=R,_n=ne}ff(e)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,Ke=p):ff(e)}}function ff(e){for(;Ke!==null;){var t=Ke;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:_n||ul(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!_n)if(n===null)s.componentDidMount();else{var d=t.elementType===t.type?n.memoizedProps:Tr(t.type,n.memoizedProps);s.componentDidUpdate(d,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&fd(t,p,s);break;case 3:var b=t.updateQueue;if(b!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fd(t,b,n)}break;case 5:var R=t.stateNode;if(n===null&&t.flags&4){n=R;var D=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&n.focus();break;case"img":D.src&&(n.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ne=t.alternate;if(ne!==null){var pe=ne.memoizedState;if(pe!==null){var me=pe.dehydrated;me!==null&&kr(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}_n||t.flags&512&&Hu(t)}catch(fe){Qt(t,t.return,fe)}}if(t===e){Ke=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function hf(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function pf(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ul(4,t)}catch(D){Qt(t,n,D)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var d=t.return;try{s.componentDidMount()}catch(D){Qt(t,d,D)}}var p=t.return;try{Hu(t)}catch(D){Qt(t,p,D)}break;case 5:var b=t.return;try{Hu(t)}catch(D){Qt(t,b,D)}}}catch(D){Qt(t,t.return,D)}if(t===e){Ke=null;break}var R=t.sibling;if(R!==null){R.return=t.return,Ke=R;break}Ke=t.return}}var am=Math.ceil,cl=ie.ReactCurrentDispatcher,Ku=ie.ReactCurrentOwner,mr=ie.ReactCurrentBatchConfig,Ct=0,pn=null,Zt=null,bn=0,ir=0,fo=Fa(0),sn=0,rs=null,ki=0,dl=0,qu=0,as=null,qn=null,Wu=0,ho=1/0,pa=null,fl=!1,Yu=null,Va=null,hl=!1,Ka=null,pl=0,is=0,Qu=null,ml=-1,gl=0;function Fn(){return(Ct&6)!==0?gt():ml!==-1?ml:ml=gt()}function qa(e){return(e.mode&1)===0?1:(Ct&2)!==0&&bn!==0?bn&-bn:zp.transition!==null?(gl===0&&(gl=Zr()),gl):(e=kt,e!==0||(e=window.event,e=e===void 0?16:fi(e.type)),e)}function Lr(e,t,n,s){if(50<is)throw is=0,Qu=null,Error(i(185));ea(e,n,s),((Ct&2)===0||e!==pn)&&(e===pn&&((Ct&2)===0&&(dl|=n),sn===4&&Wa(e,bn)),Wn(e,s),n===1&&Ct===0&&(t.mode&1)===0&&(ho=gt()+500,Vs&&Ua()))}function Wn(e,t){var n=e.callbackNode;si(e,t);var s=oi(e,e===pn?bn:0);if(s===0)n!==null&&er(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&er(n),t===1)e.tag===0?Up(gf.bind(null,e)):ed(gf.bind(null,e)),Ip(function(){(Ct&6)===0&&Ua()}),n=null;else{switch(No(s)){case 1:n=En;break;case 4:n=Ln;break;case 16:n=tr;break;case 536870912:n=ht;break;default:n=tr}n=kf(n,mf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mf(e,t){if(ml=-1,gl=0,(Ct&6)!==0)throw Error(i(327));var n=e.callbackNode;if(po()&&e.callbackNode!==n)return null;var s=oi(e,e===pn?bn:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=yl(e,s);else{t=s;var d=Ct;Ct|=2;var p=vf();(pn!==e||bn!==t)&&(pa=null,ho=gt()+500,Ni(e,t));do try{sm();break}catch(R){yf(e,R)}while(!0);hu(),cl.current=p,Ct=d,Zt!==null?t=0:(pn=null,bn=0,t=sn)}if(t!==0){if(t===2&&(d=Jr(e),d!==0&&(s=d,t=Gu(e,d))),t===1)throw n=rs,Ni(e,0),Wa(e,s),Wn(e,gt()),n;if(t===6)Wa(e,s);else{if(d=e.current.alternate,(s&30)===0&&!im(d)&&(t=yl(e,s),t===2&&(p=Jr(e),p!==0&&(s=p,t=Gu(e,p))),t===1))throw n=rs,Ni(e,0),Wa(e,s),Wn(e,gt()),n;switch(e.finishedWork=d,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:_i(e,qn,pa);break;case 3:if(Wa(e,s),(s&130023424)===s&&(t=Wu+500-gt(),10<t)){if(oi(e,0)!==0)break;if(d=e.suspendedLanes,(d&s)!==s){Fn(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=nu(_i.bind(null,e,qn,pa),t);break}_i(e,qn,pa);break;case 4:if(Wa(e,s),(s&4194240)===s)break;for(t=e.eventTimes,d=-1;0<s;){var b=31-He(s);p=1<<b,b=t[b],b>d&&(d=b),s&=~p}if(s=d,s=gt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*am(s/1960))-s,10<s){e.timeoutHandle=nu(_i.bind(null,e,qn,pa),s);break}_i(e,qn,pa);break;case 5:_i(e,qn,pa);break;default:throw Error(i(329))}}}return Wn(e,gt()),e.callbackNode===n?mf.bind(null,e):null}function Gu(e,t){var n=as;return e.current.memoizedState.isDehydrated&&(Ni(e,t).flags|=256),e=yl(e,t),e!==2&&(t=qn,qn=n,t!==null&&Xu(t)),e}function Xu(e){qn===null?qn=e:qn.push.apply(qn,e)}function im(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var d=n[s],p=d.getSnapshot;d=d.value;try{if(!V(p(),d))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wa(e,t){for(t&=~qu,t&=~dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-He(t),s=1<<n;e[n]=-1,t&=~s}}function gf(e){if((Ct&6)!==0)throw Error(i(327));po();var t=oi(e,0);if((t&1)===0)return Wn(e,gt()),null;var n=yl(e,t);if(e.tag!==0&&n===2){var s=Jr(e);s!==0&&(t=s,n=Gu(e,s))}if(n===1)throw n=rs,Ni(e,0),Wa(e,t),Wn(e,gt()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_i(e,qn,pa),Wn(e,gt()),null}function Ju(e,t){var n=Ct;Ct|=1;try{return e(t)}finally{Ct=n,Ct===0&&(ho=gt()+500,Vs&&Ua())}}function Ci(e){Ka!==null&&Ka.tag===0&&(Ct&6)===0&&po();var t=Ct;Ct|=1;var n=mr.transition,s=kt;try{if(mr.transition=null,kt=1,e)return e()}finally{kt=s,mr.transition=n,Ct=t,(Ct&6)===0&&Ua()}}function Zu(){ir=fo.current,Bt(fo)}function Ni(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ap(n)),Zt!==null)for(n=Zt.return;n!==null;){var s=n;switch(lu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Hs();break;case 3:lo(),Bt($n),Bt(kn),bu();break;case 5:xu(s);break;case 4:lo();break;case 13:Bt(qt);break;case 19:Bt(qt);break;case 10:pu(s.type._context);break;case 22:case 23:Zu()}n=n.return}if(pn=e,Zt=e=Ya(e.current,null),bn=ir=t,sn=0,rs=null,qu=dl=ki=0,qn=as=null,bi!==null){for(t=0;t<bi.length;t++)if(n=bi[t],s=n.interleaved,s!==null){n.interleaved=null;var d=s.next,p=n.pending;if(p!==null){var b=p.next;p.next=d,s.next=b}n.pending=s}bi=null}return e}function yf(e,t){do{var n=Zt;try{if(hu(),el.current=al,tl){for(var s=Wt.memoizedState;s!==null;){var d=s.queue;d!==null&&(d.pending=null),s=s.next}tl=!1}if(Ei=0,hn=on=Wt=null,Xo=!1,Jo=0,Ku.current=null,n===null||n.return===null){sn=1,rs=t,Zt=null;break}e:{var p=e,b=n.return,R=n,D=t;if(t=bn,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var ne=D,pe=R,me=pe.tag;if((pe.mode&1)===0&&(me===0||me===11||me===15)){var fe=pe.alternate;fe?(pe.updateQueue=fe.updateQueue,pe.memoizedState=fe.memoizedState,pe.lanes=fe.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Ue=zd(b);if(Ue!==null){Ue.flags&=-257,Hd(Ue,b,R,p,t),Ue.mode&1&&Ud(p,ne,t),t=Ue,D=ne;var Qe=t.updateQueue;if(Qe===null){var Xe=new Set;Xe.add(D),t.updateQueue=Xe}else Qe.add(D);break e}else{if((t&1)===0){Ud(p,ne,t),ec();break e}D=Error(i(426))}}else if(Ht&&R.mode&1){var Xt=zd(b);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),Hd(Xt,b,R,p,t),du(uo(D,R));break e}}p=D=uo(D,R),sn!==4&&(sn=2),as===null?as=[p]:as.push(p),p=b;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var W=Fd(p,D,t);dd(p,W);break e;case 1:R=D;var H=p.type,ee=p.stateNode;if((p.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Va===null||!Va.has(ee)))){p.flags|=65536,t&=-t,p.lanes|=t;var ve=Bd(p,R,t);dd(p,ve);break e}}p=p.return}while(p!==null)}wf(n)}catch(Je){t=Je,Zt===n&&n!==null&&(Zt=n=n.return);continue}break}while(!0)}function vf(){var e=cl.current;return cl.current=al,e===null?al:e}function ec(){(sn===0||sn===3||sn===2)&&(sn=4),pn===null||(ki&268435455)===0&&(dl&268435455)===0||Wa(pn,bn)}function yl(e,t){var n=Ct;Ct|=2;var s=vf();(pn!==e||bn!==t)&&(pa=null,Ni(e,t));do try{om();break}catch(d){yf(e,d)}while(!0);if(hu(),Ct=n,cl.current=s,Zt!==null)throw Error(i(261));return pn=null,bn=0,sn}function om(){for(;Zt!==null;)xf(Zt)}function sm(){for(;Zt!==null&&!jt();)xf(Zt)}function xf(e){var t=Ef(e.alternate,e,ir);e.memoizedProps=e.pendingProps,t===null?wf(e):Zt=t,Ku.current=null}function wf(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Zp(n,t,ir),n!==null){Zt=n;return}}else{if(n=em(n,t),n!==null){n.flags&=32767,Zt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sn=6,Zt=null;return}}if(t=t.sibling,t!==null){Zt=t;return}Zt=t=e}while(t!==null);sn===0&&(sn=5)}function _i(e,t,n){var s=kt,d=mr.transition;try{mr.transition=null,kt=1,lm(e,t,n,s)}finally{mr.transition=d,kt=s}return null}function lm(e,t,n,s){do po();while(Ka!==null);if((Ct&6)!==0)throw Error(i(327));n=e.finishedWork;var d=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var p=n.lanes|n.childLanes;if(Mi(e,p),e===pn&&(Zt=pn=null,bn=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||hl||(hl=!0,kf(tr,function(){return po(),null})),p=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||p){p=mr.transition,mr.transition=null;var b=kt;kt=1;var R=Ct;Ct|=4,Ku.current=null,nm(e,n),cf(n,e),Q(eu),ci=!!Zl,eu=Zl=null,e.current=n,rm(n),rn(),Ct=R,kt=b,mr.transition=p}else e.current=n;if(hl&&(hl=!1,Ka=e,pl=d),p=e.pendingLanes,p===0&&(Va=null),Br(n.stateNode),Wn(e,gt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)d=t[n],s(d.value,{componentStack:d.stack,digest:d.digest});if(fl)throw fl=!1,e=Yu,Yu=null,e;return(pl&1)!==0&&e.tag!==0&&po(),p=e.pendingLanes,(p&1)!==0?e===Qu?is++:(is=0,Qu=e):is=0,Ua(),null}function po(){if(Ka!==null){var e=No(pl),t=mr.transition,n=kt;try{if(mr.transition=null,kt=16>e?16:e,Ka===null)var s=!1;else{if(e=Ka,Ka=null,pl=0,(Ct&6)!==0)throw Error(i(331));var d=Ct;for(Ct|=4,Ke=e.current;Ke!==null;){var p=Ke,b=p.child;if((Ke.flags&16)!==0){var R=p.deletions;if(R!==null){for(var D=0;D<R.length;D++){var ne=R[D];for(Ke=ne;Ke!==null;){var pe=Ke;switch(pe.tag){case 0:case 11:case 15:ns(8,pe,p)}var me=pe.child;if(me!==null)me.return=pe,Ke=me;else for(;Ke!==null;){pe=Ke;var fe=pe.sibling,Ue=pe.return;if(af(pe),pe===ne){Ke=null;break}if(fe!==null){fe.return=Ue,Ke=fe;break}Ke=Ue}}}var Qe=p.alternate;if(Qe!==null){var Xe=Qe.child;if(Xe!==null){Qe.child=null;do{var Xt=Xe.sibling;Xe.sibling=null,Xe=Xt}while(Xe!==null)}}Ke=p}}if((p.subtreeFlags&2064)!==0&&b!==null)b.return=p,Ke=b;else e:for(;Ke!==null;){if(p=Ke,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ns(9,p,p.return)}var W=p.sibling;if(W!==null){W.return=p.return,Ke=W;break e}Ke=p.return}}var H=e.current;for(Ke=H;Ke!==null;){b=Ke;var ee=b.child;if((b.subtreeFlags&2064)!==0&&ee!==null)ee.return=b,Ke=ee;else e:for(b=H;Ke!==null;){if(R=Ke,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:ul(9,R)}}catch(Je){Qt(R,R.return,Je)}if(R===b){Ke=null;break e}var ve=R.sibling;if(ve!==null){ve.return=R.return,Ke=ve;break e}Ke=R.return}}if(Ct=d,Ua(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Rt,e)}catch{}s=!0}return s}finally{kt=n,mr.transition=t}}return!1}function bf(e,t,n){t=uo(n,t),t=Fd(e,t,1),e=Ha(e,t,1),t=Fn(),e!==null&&(ea(e,1,t),Wn(e,t))}function Qt(e,t,n){if(e.tag===3)bf(e,e,n);else for(;t!==null;){if(t.tag===3){bf(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Va===null||!Va.has(s))){e=uo(n,e),e=Bd(t,e,1),t=Ha(t,e,1),e=Fn(),t!==null&&(ea(t,1,e),Wn(t,e));break}}t=t.return}}function um(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Fn(),e.pingedLanes|=e.suspendedLanes&n,pn===e&&(bn&n)===n&&(sn===4||sn===3&&(bn&130023424)===bn&&500>gt()-Wu?Ni(e,0):qu|=n),Wn(e,t)}function Sf(e,t){t===0&&((e.mode&1)===0?t=1:(t=ii,ii<<=1,(ii&130023424)===0&&(ii=4194304)));var n=Fn();e=da(e,t),e!==null&&(ea(e,t,n),Wn(e,n))}function cm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sf(e,n)}function dm(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(n=d.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),Sf(e,n)}var Ef;Ef=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$n.current)Kn=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Kn=!1,Jp(e,t,n);Kn=(e.flags&131072)!==0}else Kn=!1,Ht&&(t.flags&1048576)!==0&&td(t,qs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;sl(e,t),e=t.pendingProps;var d=to(t,kn.current);so(t,n),d=ku(null,t,s,e,d,n);var p=Cu();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vn(s)?(p=!0,$s(t)):p=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,yu(t),d.updater=il,t.stateNode=d,d._reactInternals=t,Tu(t,s,e,n),t=Au(null,t,s,!0,p,n)):(t.tag=0,Ht&&p&&su(t),Mn(null,t,d,n),t=t.child),t;case 16:s=t.elementType;e:{switch(sl(e,t),e=t.pendingProps,d=s._init,s=d(s._payload),t.type=s,d=t.tag=hm(s),e=Tr(s,e),d){case 0:t=Lu(null,t,s,e,n);break e;case 1:t=Yd(null,t,s,e,n);break e;case 11:t=$d(null,t,s,e,n);break e;case 14:t=Vd(null,t,s,Tr(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Tr(s,d),Lu(e,t,s,d,n);case 1:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Tr(s,d),Yd(e,t,s,d,n);case 3:e:{if(Qd(t),e===null)throw Error(i(387));s=t.pendingProps,p=t.memoizedState,d=p.element,cd(e,t),Js(t,s,null,n);var b=t.memoizedState;if(s=b.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){d=uo(Error(i(423)),t),t=Gd(e,t,s,n,d);break e}else if(s!==d){d=uo(Error(i(424)),t),t=Gd(e,t,s,n,d);break e}else for(ar=Ma(t.stateNode.containerInfo.firstChild),rr=t,Ht=!0,jr=null,n=ld(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ao(),s===d){t=ha(e,t,n);break e}Mn(e,t,s,n)}t=t.child}return t;case 5:return hd(t),e===null&&cu(t),s=t.type,d=t.pendingProps,p=e!==null?e.memoizedProps:null,b=d.children,tu(s,d)?b=null:p!==null&&tu(s,p)&&(t.flags|=32),Wd(e,t),Mn(e,t,b,n),t.child;case 6:return e===null&&cu(t),null;case 13:return Xd(e,t,n);case 4:return vu(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=io(t,null,s,n):Mn(e,t,s,n),t.child;case 11:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Tr(s,d),$d(e,t,s,d,n);case 7:return Mn(e,t,t.pendingProps,n),t.child;case 8:return Mn(e,t,t.pendingProps.children,n),t.child;case 12:return Mn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,d=t.pendingProps,p=t.memoizedProps,b=d.value,Mt(Qs,s._currentValue),s._currentValue=b,p!==null)if(V(p.value,b)){if(p.children===d.children&&!$n.current){t=ha(e,t,n);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var R=p.dependencies;if(R!==null){b=p.child;for(var D=R.firstContext;D!==null;){if(D.context===s){if(p.tag===1){D=fa(-1,n&-n),D.tag=2;var ne=p.updateQueue;if(ne!==null){ne=ne.shared;var pe=ne.pending;pe===null?D.next=D:(D.next=pe.next,pe.next=D),ne.pending=D}}p.lanes|=n,D=p.alternate,D!==null&&(D.lanes|=n),mu(p.return,n,t),R.lanes|=n;break}D=D.next}}else if(p.tag===10)b=p.type===t.type?null:p.child;else if(p.tag===18){if(b=p.return,b===null)throw Error(i(341));b.lanes|=n,R=b.alternate,R!==null&&(R.lanes|=n),mu(b,n,t),b=p.sibling}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===t){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}Mn(e,t,d.children,n),t=t.child}return t;case 9:return d=t.type,s=t.pendingProps.children,so(t,n),d=hr(d),s=s(d),t.flags|=1,Mn(e,t,s,n),t.child;case 14:return s=t.type,d=Tr(s,t.pendingProps),d=Tr(s.type,d),Vd(e,t,s,d,n);case 15:return Kd(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Tr(s,d),sl(e,t),t.tag=1,Vn(s)?(e=!0,$s(t)):e=!1,so(t,n),Id(t,s,d),Tu(t,s,d,n),Au(null,t,s,!0,e,n);case 19:return Zd(e,t,n);case 22:return qd(e,t,n)}throw Error(i(156,t.tag))};function kf(e,t){return Dt(e,t)}function fm(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(e,t,n,s){return new fm(e,t,n,s)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hm(e){if(typeof e=="function")return tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pe)return 11;if(e===nt)return 14}return 2}function Ya(e,t){var n=e.alternate;return n===null?(n=gr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vl(e,t,n,s,d,p){var b=2;if(s=e,typeof e=="function")tc(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case K:return Pi(n.children,d,p,t);case ke:b=8,d|=8;break;case Oe:return e=gr(12,n,t,d|2),e.elementType=Oe,e.lanes=p,e;case be:return e=gr(13,n,t,d),e.elementType=be,e.lanes=p,e;case Re:return e=gr(19,n,t,d),e.elementType=Re,e.lanes=p,e;case st:return xl(n,d,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _e:b=10;break e;case ft:b=9;break e;case Pe:b=11;break e;case nt:b=14;break e;case at:b=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=gr(b,n,t,d),t.elementType=e,t.type=s,t.lanes=p,t}function Pi(e,t,n,s){return e=gr(7,e,s,t),e.lanes=n,e}function xl(e,t,n,s){return e=gr(22,e,s,t),e.elementType=st,e.lanes=n,e.stateNode={isHidden:!1},e}function nc(e,t,n){return e=gr(6,e,null,t),e.lanes=n,e}function rc(e,t,n){return t=gr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pm(e,t,n,s,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=li(0),this.expirationTimes=li(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.identifierPrefix=s,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ac(e,t,n,s,d,p,b,R,D){return e=new pm(e,t,n,R,D),t===1?(t=1,p===!0&&(t|=8)):t=0,p=gr(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yu(p),e}function mm(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ge,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Cf(e){if(!e)return Ba;e=e._reactInternals;e:{if(Ae(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(Vn(n))return Jc(e,n,t)}return t}function Nf(e,t,n,s,d,p,b,R,D){return e=ac(n,s,!0,e,d,p,b,R,D),e.context=Cf(null),n=e.current,s=Fn(),d=qa(n),p=fa(s,d),p.callback=t??null,Ha(n,p,d),e.current.lanes=d,ea(e,d,s),Wn(e,s),e}function wl(e,t,n,s){var d=t.current,p=Fn(),b=qa(d);return n=Cf(n),t.context===null?t.context=n:t.pendingContext=n,t=fa(p,b),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ha(d,t,b),e!==null&&(Lr(e,d,b,p),Xs(e,d,b)),b}function bl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _f(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ic(e,t){_f(e,t),(e=e.alternate)&&_f(e,t)}function gm(){return null}var Pf=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}Sl.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));wl(e,t,null,null)},Sl.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ci(function(){wl(null,e,null,null)}),t[sa]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ss();e={blockedOn:null,target:e,priority:t};for(var n=0;n<an.length&&t!==0&&t<an[n].priority;n++);an.splice(n,0,e),n===0&&ks(e)}};function sc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function El(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rf(){}function ym(e,t,n,s,d){if(d){if(typeof s=="function"){var p=s;s=function(){var ne=bl(b);p.call(ne)}}var b=Nf(t,s,e,0,null,!1,!1,"",Rf);return e._reactRootContainer=b,e[sa]=b.current,$o(e.nodeType===8?e.parentNode:e),Ci(),b}for(;d=e.lastChild;)e.removeChild(d);if(typeof s=="function"){var R=s;s=function(){var ne=bl(D);R.call(ne)}}var D=ac(e,0,!1,null,null,!1,!1,"",Rf);return e._reactRootContainer=D,e[sa]=D.current,$o(e.nodeType===8?e.parentNode:e),Ci(function(){wl(t,D,n,s)}),D}function kl(e,t,n,s,d){var p=n._reactRootContainer;if(p){var b=p;if(typeof d=="function"){var R=d;d=function(){var D=bl(b);R.call(D)}}wl(t,b,e,d)}else b=ym(n,t,e,d,s);return bl(b)}bs=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ka(t.pendingLanes);n!==0&&(Fi(t,n|1),Wn(t,gt()),(Ct&6)===0&&(ho=gt()+500,Ua()))}break;case 13:Ci(function(){var s=da(e,1);if(s!==null){var d=Fn();Lr(s,e,1,d)}}),ic(e,1)}},St=function(e){if(e.tag===13){var t=da(e,134217728);if(t!==null){var n=Fn();Lr(t,e,134217728,n)}ic(e,134217728)}},_o=function(e){if(e.tag===13){var t=qa(e),n=da(e,t);if(n!==null){var s=Fn();Lr(n,e,t,s)}ic(e,t)}},Ss=function(){return kt},Es=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},Ne=function(e,t,n){switch(t){case"input":if(un(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var d=zs(s);if(!d)throw Error(i(90));rt(s),un(s,d)}}}break;case"textarea":Gn(e,n);break;case"select":t=n.value,t!=null&&tn(e,!!n.multiple,t,!1)}},ri=Ju,Xr=Ci;var vm={usingClientEntryPoint:!1,Events:[qo,Zi,zs,wa,ba,Ju]},os={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xm={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nt(e),e===null?null:e.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||gm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{Rt=Cl.inject(xm),Yt=Cl}catch{}}return Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vm,Yn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sc(t))throw Error(i(200));return mm(e,t,null,n)},Yn.createRoot=function(e,t){if(!sc(e))throw Error(i(299));var n=!1,s="",d=Pf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=ac(e,1,!1,null,null,n,!1,s,d),e[sa]=t.current,$o(e.nodeType===8?e.parentNode:e),new oc(t)},Yn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Nt(t),e=e===null?null:e.stateNode,e},Yn.flushSync=function(e){return Ci(e)},Yn.hydrate=function(e,t,n){if(!El(t))throw Error(i(200));return kl(null,e,t,!0,n)},Yn.hydrateRoot=function(e,t,n){if(!sc(e))throw Error(i(405));var s=n!=null&&n.hydratedSources||null,d=!1,p="",b=Pf;if(n!=null&&(n.unstable_strictMode===!0&&(d=!0),n.identifierPrefix!==void 0&&(p=n.identifierPrefix),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),t=Nf(t,null,e,1,n??null,d,!1,p,b),e[sa]=t.current,$o(e),s)for(e=0;e<s.length;e++)n=s[e],d=n._getVersion,d=d(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,d]:t.mutableSourceEagerHydrationData.push(n,d);return new Sl(t)},Yn.render=function(e,t,n){if(!El(t))throw Error(i(200));return kl(null,e,t,!1,n)},Yn.unmountComponentAtNode=function(e){if(!El(e))throw Error(i(40));return e._reactRootContainer?(Ci(function(){kl(null,null,e,!1,function(){e._reactRootContainer=null,e[sa]=null})}),!0):!1},Yn.unstable_batchedUpdates=Ju,Yn.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!El(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return kl(e,t,n,!1,s)},Yn.version="18.3.1-next-f1338f8080-20240426",Yn}var Mf;function Fh(){if(Mf)return cc.exports;Mf=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),cc.exports=jm(),cc.exports}var Ff;function Tm(){if(Ff)return Nl;Ff=1;var a=Fh();return Nl.createRoot=a.createRoot,Nl.hydrateRoot=a.hydrateRoot,Nl}var Om=Tm();const Dm=Hl(Om);var Bh=Fh();const Lm=Hl(Bh),Am=Mh({__proto__:null,default:Lm},[Bh]);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vt(){return Vt=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(a[l]=i[l])}return a},Vt.apply(this,arguments)}var en;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(en||(en={}));const Bf="popstate";function Im(a){a===void 0&&(a={});function r(l,c){let{pathname:h,search:g,hash:v}=l.location;return ms("",{pathname:h,search:g,hash:v},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(l,c){return typeof c=="string"?c:Li(c)}return Fm(r,i,null,a)}function wt(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function Di(a,r){if(!a){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Mm(){return Math.random().toString(36).substr(2,8)}function Uf(a,r){return{usr:a.state,key:a.key,idx:r}}function ms(a,r,i,l){return i===void 0&&(i=null),Vt({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof r=="string"?Za(r):r,{state:i,key:r&&r.key||l||Mm()})}function Li(a){let{pathname:r="/",search:i="",hash:l=""}=a;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function Za(a){let r={};if(a){let i=a.indexOf("#");i>=0&&(r.hash=a.substr(i),a=a.substr(0,i));let l=a.indexOf("?");l>=0&&(r.search=a.substr(l),a=a.substr(0,l)),a&&(r.pathname=a)}return r}function Fm(a,r,i,l){l===void 0&&(l={});let{window:c=document.defaultView,v5Compat:h=!1}=l,g=c.history,v=en.Pop,x=null,E=_();E==null&&(E=0,g.replaceState(Vt({},g.state,{idx:E}),""));function _(){return(g.state||{idx:null}).idx}function k(){v=en.Pop;let re=_(),we=re==null?null:re-E;E=re,x&&x({action:v,location:Z.location,delta:we})}function T(re,we){v=en.Push;let de=ms(Z.location,re,we);E=_()+1;let le=Uf(de,E),ie=Z.createHref(de);try{g.pushState(le,"",ie)}catch(We){if(We instanceof DOMException&&We.name==="DataCloneError")throw We;c.location.assign(ie)}h&&x&&x({action:v,location:Z.location,delta:1})}function $(re,we){v=en.Replace;let de=ms(Z.location,re,we);E=_();let le=Uf(de,E),ie=Z.createHref(de);g.replaceState(le,"",ie),h&&x&&x({action:v,location:Z.location,delta:0})}function z(re){let we=c.location.origin!=="null"?c.location.origin:c.location.href,de=typeof re=="string"?re:Li(re);return de=de.replace(/ $/,"%20"),wt(we,"No window.location.(origin|href) available to create URL for href: "+de),new URL(de,we)}let Z={get action(){return v},get location(){return a(c,g)},listen(re){if(x)throw new Error("A history only accepts one active listener");return c.addEventListener(Bf,k),x=re,()=>{c.removeEventListener(Bf,k),x=null}},createHref(re){return r(c,re)},createURL:z,encodeLocation(re){let we=z(re);return{pathname:we.pathname,search:we.search,hash:we.hash}},push:T,replace:$,go(re){return g.go(re)}};return Z}var Tt;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(Tt||(Tt={}));const Bm=new Set(["lazy","caseSensitive","path","id","index","children"]);function Um(a){return a.index===!0}function Ol(a,r,i,l){return i===void 0&&(i=[]),l===void 0&&(l={}),a.map((c,h)=>{let g=[...i,String(h)],v=typeof c.id=="string"?c.id:g.join("-");if(wt(c.index!==!0||!c.children,"Cannot specify children on an index route"),wt(!l[v],'Found a route id collision on id "'+v+`".  Route id's must be globally unique within Data Router usages`),Um(c)){let x=Vt({},c,r(c),{id:v});return l[v]=x,x}else{let x=Vt({},c,r(c),{id:v,children:void 0});return l[v]=x,c.children&&(x.children=Ol(c.children,r,g,l)),x}})}function ji(a,r,i){return i===void 0&&(i="/"),jl(a,r,i,!1)}function jl(a,r,i,l){let c=typeof r=="string"?Za(r):r,h=ga(c.pathname||"/",i);if(h==null)return null;let g=Uh(a);Hm(g);let v=null;for(let x=0;v==null&&x<g.length;++x){let E=Zm(h);v=Xm(g[x],E,l)}return v}function zm(a,r){let{route:i,pathname:l,params:c}=a;return{id:i.id,pathname:l,params:c,data:r[i.id],handle:i.handle}}function Uh(a,r,i,l){r===void 0&&(r=[]),i===void 0&&(i=[]),l===void 0&&(l="");let c=(h,g,v)=>{let x={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};x.relativePath.startsWith("/")&&(wt(x.relativePath.startsWith(l),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(l.length));let E=ma([l,x.relativePath]),_=i.concat(x);h.children&&h.children.length>0&&(wt(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+E+'".')),Uh(h.children,r,_,E)),!(h.path==null&&!h.index)&&r.push({path:E,score:Qm(E,h.index),routesMeta:_})};return a.forEach((h,g)=>{var v;if(h.path===""||!((v=h.path)!=null&&v.includes("?")))c(h,g);else for(let x of zh(h.path))c(h,g,x)}),r}function zh(a){let r=a.split("/");if(r.length===0)return[];let[i,...l]=r,c=i.endsWith("?"),h=i.replace(/\?$/,"");if(l.length===0)return c?[h,""]:[h];let g=zh(l.join("/")),v=[];return v.push(...g.map(x=>x===""?h:[h,x].join("/"))),c&&v.push(...g),v.map(x=>a.startsWith("/")&&x===""?"/":x)}function Hm(a){a.sort((r,i)=>r.score!==i.score?i.score-r.score:Gm(r.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}const $m=/^:[\w-]+$/,Vm=3,Km=2,qm=1,Wm=10,Ym=-2,zf=a=>a==="*";function Qm(a,r){let i=a.split("/"),l=i.length;return i.some(zf)&&(l+=Ym),r&&(l+=Km),i.filter(c=>!zf(c)).reduce((c,h)=>c+($m.test(h)?Vm:h===""?qm:Wm),l)}function Gm(a,r){return a.length===r.length&&a.slice(0,-1).every((l,c)=>l===r[c])?a[a.length-1]-r[r.length-1]:0}function Xm(a,r,i){i===void 0&&(i=!1);let{routesMeta:l}=a,c={},h="/",g=[];for(let v=0;v<l.length;++v){let x=l[v],E=v===l.length-1,_=h==="/"?r:r.slice(h.length)||"/",k=Dl({path:x.relativePath,caseSensitive:x.caseSensitive,end:E},_),T=x.route;if(!k&&E&&i&&!l[l.length-1].route.index&&(k=Dl({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},_)),!k)return null;Object.assign(c,k.params),g.push({params:c,pathname:ma([h,k.pathname]),pathnameBase:rg(ma([h,k.pathnameBase])),route:T}),k.pathnameBase!=="/"&&(h=ma([h,k.pathnameBase]))}return g}function Dl(a,r){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,l]=Jm(a.path,a.caseSensitive,a.end),c=r.match(i);if(!c)return null;let h=c[0],g=h.replace(/(.)\/+$/,"$1"),v=c.slice(1);return{params:l.reduce((E,_,k)=>{let{paramName:T,isOptional:$}=_;if(T==="*"){let Z=v[k]||"";g=h.slice(0,h.length-Z.length).replace(/(.)\/+$/,"$1")}const z=v[k];return $&&!z?E[T]=void 0:E[T]=(z||"").replace(/%2F/g,"/"),E},{}),pathname:h,pathnameBase:g,pattern:a}}function Jm(a,r,i){r===void 0&&(r=!1),i===void 0&&(i=!0),Di(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let l=[],c="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,v,x)=>(l.push({paramName:v,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(l.push({paramName:"*"}),c+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":a!==""&&a!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),l]}function Zm(a){try{return a.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Di(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),a}}function ga(a,r){if(r==="/")return a;if(!a.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,l=a.charAt(i);return l&&l!=="/"?null:a.slice(i)||"/"}const eg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tg=a=>eg.test(a);function ng(a,r){r===void 0&&(r="/");let{pathname:i,search:l="",hash:c=""}=typeof a=="string"?Za(a):a,h;if(i)if(tg(i))h=i;else{if(i.includes("//")){let g=i;i=i.replace(/\/\/+/g,"/"),Di(!1,"Pathnames cannot have embedded double slashes - normalizing "+(g+" -> "+i))}i.startsWith("/")?h=Hf(i.substring(1),"/"):h=Hf(i,r)}else h=r;return{pathname:h,search:ag(l),hash:ig(c)}}function Hf(a,r){let i=r.replace(/\/+$/,"").split("/");return a.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function hc(a,r,i,l){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hh(a){return a.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function Dc(a,r){let i=Hh(a);return r?i.map((l,c)=>c===i.length-1?l.pathname:l.pathnameBase):i.map(l=>l.pathnameBase)}function Lc(a,r,i,l){l===void 0&&(l=!1);let c;typeof a=="string"?c=Za(a):(c=Vt({},a),wt(!c.pathname||!c.pathname.includes("?"),hc("?","pathname","search",c)),wt(!c.pathname||!c.pathname.includes("#"),hc("#","pathname","hash",c)),wt(!c.search||!c.search.includes("#"),hc("#","search","hash",c)));let h=a===""||c.pathname==="",g=h?"/":c.pathname,v;if(g==null)v=i;else{let k=r.length-1;if(!l&&g.startsWith("..")){let T=g.split("/");for(;T[0]==="..";)T.shift(),k-=1;c.pathname=T.join("/")}v=k>=0?r[k]:"/"}let x=ng(c,v),E=g&&g!=="/"&&g.endsWith("/"),_=(h||g===".")&&i.endsWith("/");return!x.pathname.endsWith("/")&&(E||_)&&(x.pathname+="/"),x}const ma=a=>a.join("/").replace(/\/\/+/g,"/"),rg=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),ag=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,ig=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;class Ll{constructor(r,i,l,c){c===void 0&&(c=!1),this.status=r,this.statusText=i||"",this.internal=c,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}}function gs(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const $h=["post","put","patch","delete"],og=new Set($h),sg=["get",...$h],lg=new Set(sg),ug=new Set([301,302,303,307,308]),cg=new Set([307,308]),pc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dg={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ls={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ac=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fg=a=>({hasErrorBoundary:!!a.hasErrorBoundary}),Vh="remix-router-transitions";function hg(a){const r=a.window?a.window:typeof window<"u"?window:void 0,i=typeof r<"u"&&typeof r.document<"u"&&typeof r.document.createElement<"u",l=!i;wt(a.routes.length>0,"You must provide a non-empty routes array to createRouter");let c;if(a.mapRouteProperties)c=a.mapRouteProperties;else if(a.detectErrorBoundary){let j=a.detectErrorBoundary;c=F=>({hasErrorBoundary:j(F)})}else c=fg;let h={},g=Ol(a.routes,c,void 0,h),v,x=a.basename||"/",E=a.dataStrategy||yg,_=a.patchRoutesOnNavigation,k=Vt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},a.future),T=null,$=new Set,z=null,Z=null,re=null,we=a.hydrationData!=null,de=ji(g,a.history.location,x),le=!1,ie=null;if(de==null&&!_){let j=Qn(404,{pathname:a.history.location.pathname}),{matches:F,route:G}=Zf(g);de=F,ie={[G.id]:j}}de&&!a.hydrationData&&Xr(de,g,a.history.location.pathname).active&&(de=null);let We;if(de)if(de.some(j=>j.route.lazy))We=!1;else if(!de.some(j=>j.route.loader))We=!0;else if(k.v7_partialHydration){let j=a.hydrationData?a.hydrationData.loaderData:null,F=a.hydrationData?a.hydrationData.errors:null;if(F){let G=de.findIndex(ue=>F[ue.route.id]!==void 0);We=de.slice(0,G+1).every(ue=>!kc(ue.route,j,F))}else We=de.every(G=>!kc(G.route,j,F))}else We=a.hydrationData!=null;else if(We=!1,de=[],k.v7_partialHydration){let j=Xr(null,g,a.history.location.pathname);j.active&&j.matches&&(le=!0,de=j.matches)}let Ge,K={historyAction:a.history.action,location:a.history.location,matches:de,initialized:We,navigation:pc,restoreScrollPosition:a.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:a.hydrationData&&a.hydrationData.loaderData||{},actionData:a.hydrationData&&a.hydrationData.actionData||null,errors:a.hydrationData&&a.hydrationData.errors||ie,fetchers:new Map,blockers:new Map},ke=en.Pop,Oe=!1,_e,ft=!1,Pe=new Map,be=null,Re=!1,nt=!1,at=[],st=new Set,se=new Map,De=0,Y=-1,P=new Map,X=new Set,je=new Map,ge=new Map,$e=new Set,oe=new Map,Me=new Map,Ze;function ut(){if(T=a.history.listen(j=>{let{action:F,location:G,delta:ue}=j;if(Ze){Ze(),Ze=void 0;return}Di(Me.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=Ne({currentLocation:K.location,nextLocation:G,historyAction:F});if(Se&&ue!=null){let Ye=new Promise(et=>{Ze=et});a.history.go(ue*-1),Jn(Se,{state:"blocked",location:G,proceed(){Jn(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Ye.then(()=>a.history.go(ue))},reset(){let et=new Map(K.blockers);et.set(Se,ls),rt({blockers:et})}});return}return pt(F,G)}),i){Tg(r,Pe);let j=()=>Og(r,Pe);r.addEventListener("pagehide",j),be=()=>r.removeEventListener("pagehide",j)}return K.initialized||pt(en.Pop,K.location,{initialHydration:!0}),Ge}function Ce(){T&&T(),be&&be(),$.clear(),_e&&_e.abort(),K.fetchers.forEach((j,F)=>On(F)),K.blockers.forEach((j,F)=>zn(F))}function Rn(j){return $.add(j),()=>$.delete(j)}function rt(j,F){F===void 0&&(F={}),K=Vt({},K,j);let G=[],ue=[];k.v7_fetcherPersist&&K.fetchers.forEach((Se,Ye)=>{Se.state==="idle"&&($e.has(Ye)?ue.push(Ye):G.push(Ye))}),$e.forEach(Se=>{!K.fetchers.has(Se)&&!se.has(Se)&&ue.push(Se)}),[...$].forEach(Se=>Se(K,{deletedFetchers:ue,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),k.v7_fetcherPersist?(G.forEach(Se=>K.fetchers.delete(Se)),ue.forEach(Se=>On(Se))):ue.forEach(Se=>$e.delete(Se))}function Ut(j,F,G){var ue,Se;let{flushSync:Ye}=G===void 0?{}:G,et=K.actionData!=null&&K.navigation.formMethod!=null&&Ar(K.navigation.formMethod)&&K.navigation.state==="loading"&&((ue=j.state)==null?void 0:ue._isRedirect)!==!0,Ve;F.actionData?Object.keys(F.actionData).length>0?Ve=F.actionData:Ve=null:et?Ve=K.actionData:Ve=null;let Fe=F.loaderData?Xf(K.loaderData,F.loaderData,F.matches||[],F.errors):K.loaderData,Ie=K.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((vt,Ot)=>Ie.set(Ot,ls)));let Ae=Oe===!0||K.navigation.formMethod!=null&&Ar(K.navigation.formMethod)&&((Se=j.state)==null?void 0:Se._isRedirect)!==!0;v&&(g=v,v=void 0),Re||ke===en.Pop||(ke===en.Push?a.history.push(j,j.state):ke===en.Replace&&a.history.replace(j,j.state));let lt;if(ke===en.Pop){let vt=Pe.get(K.location.pathname);vt&&vt.has(j.pathname)?lt={currentLocation:K.location,nextLocation:j}:Pe.has(j.pathname)&&(lt={currentLocation:j,nextLocation:K.location})}else if(ft){let vt=Pe.get(K.location.pathname);vt?vt.add(j.pathname):(vt=new Set([j.pathname]),Pe.set(K.location.pathname,vt)),lt={currentLocation:K.location,nextLocation:j}}rt(Vt({},F,{actionData:Ve,loaderData:Fe,historyAction:ke,location:j,initialized:!0,navigation:pc,revalidation:"idle",restoreScrollPosition:ri(j,F.matches||K.matches),preventScrollReset:Ae,blockers:Ie}),{viewTransitionOpts:lt,flushSync:Ye===!0}),ke=en.Pop,Oe=!1,ft=!1,Re=!1,nt=!1,at=[]}async function Ir(j,F){if(typeof j=="number"){a.history.go(j);return}let G=Ec(K.location,K.matches,x,k.v7_prependBasename,j,k.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:ue,submission:Se,error:Ye}=$f(k.v7_normalizeFormMethod,!1,G,F),et=K.location,Ve=ms(K.location,ue,F&&F.state);Ve=Vt({},Ve,a.history.encodeLocation(Ve));let Fe=F&&F.replace!=null?F.replace:void 0,Ie=en.Push;Fe===!0?Ie=en.Replace:Fe===!1||Se!=null&&Ar(Se.formMethod)&&Se.formAction===K.location.pathname+K.location.search&&(Ie=en.Replace);let Ae=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,lt=(F&&F.flushSync)===!0,vt=Ne({currentLocation:et,nextLocation:Ve,historyAction:Ie});if(vt){Jn(vt,{state:"blocked",location:Ve,proceed(){Jn(vt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),Ir(j,F)},reset(){let Ot=new Map(K.blockers);Ot.set(vt,ls),rt({blockers:Ot})}});return}return await pt(Ie,Ve,{submission:Se,pendingError:Ye,preventScrollReset:Ae,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:lt})}function ze(){if(Tn(),rt({revalidation:"loading"}),K.navigation.state!=="submitting"){if(K.navigation.state==="idle"){pt(K.historyAction,K.location,{startUninterruptedRevalidation:!0});return}pt(ke||K.historyAction,K.navigation.location,{overrideNavigation:K.navigation,enableViewTransition:ft===!0})}}async function pt(j,F,G){_e&&_e.abort(),_e=null,ke=j,Re=(G&&G.startUninterruptedRevalidation)===!0,ba(K.location,K.matches),Oe=(G&&G.preventScrollReset)===!0,ft=(G&&G.enableViewTransition)===!0;let ue=v||g,Se=G&&G.overrideNavigation,Ye=G!=null&&G.initialHydration&&K.matches&&K.matches.length>0&&!le?K.matches:ji(ue,F,x),et=(G&&G.flushSync)===!0;if(Ye&&K.initialized&&!nt&&Eg(K.location,F)&&!(G&&G.submission&&Ar(G.submission.formMethod))){Ut(F,{matches:Ye},{flushSync:et});return}let Ve=Xr(Ye,ue,F.pathname);if(Ve.active&&Ve.matches&&(Ye=Ve.matches),!Ye){let{error:Nt,notFoundMatches:mt,route:Dt}=Hn(F.pathname);Ut(F,{matches:mt,loaderData:{},errors:{[Dt.id]:Nt}},{flushSync:et});return}_e=new AbortController;let Fe=go(a.history,F,_e.signal,G&&G.submission),Ie;if(G&&G.pendingError)Ie=[Ti(Ye).route.id,{type:Tt.error,error:G.pendingError}];else if(G&&G.submission&&Ar(G.submission.formMethod)){let Nt=await un(Fe,F,G.submission,Ye,Ve.active,{replace:G.replace,flushSync:et});if(Nt.shortCircuited)return;if(Nt.pendingActionResult){let[mt,Dt]=Nt.pendingActionResult;if(or(Dt)&&gs(Dt.error)&&Dt.error.status===404){_e=null,Ut(F,{matches:Nt.matches,loaderData:{},errors:{[mt]:Dt.error}});return}}Ye=Nt.matches||Ye,Ie=Nt.pendingActionResult,Se=mc(F,G.submission),et=!1,Ve.active=!1,Fe=go(a.history,Fe.url,Fe.signal)}let{shortCircuited:Ae,matches:lt,loaderData:vt,errors:Ot}=await jn(Fe,F,Ye,Ve.active,Se,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,et,Ie);Ae||(_e=null,Ut(F,Vt({matches:lt||Ye},Jf(Ie),{loaderData:vt,errors:Ot})))}async function un(j,F,G,ue,Se,Ye){Ye===void 0&&(Ye={}),Tn();let et=Rg(F,G);if(rt({navigation:et},{flushSync:Ye.flushSync===!0}),Se){let Ie=await Dn(ue,F.pathname,j.signal);if(Ie.type==="aborted")return{shortCircuited:!0};if(Ie.type==="error"){let Ae=Ti(Ie.partialMatches).route.id;return{matches:Ie.partialMatches,pendingActionResult:[Ae,{type:Tt.error,error:Ie.error}]}}else if(Ie.matches)ue=Ie.matches;else{let{notFoundMatches:Ae,error:lt,route:vt}=Hn(F.pathname);return{matches:Ae,pendingActionResult:[vt.id,{type:Tt.error,error:lt}]}}}let Ve,Fe=fs(ue,F);if(!Fe.route.action&&!Fe.route.lazy)Ve={type:Tt.error,error:Qn(405,{method:j.method,pathname:F.pathname,routeId:Fe.route.id})};else if(Ve=(await Un("action",K,j,[Fe],ue,null))[Fe.route.id],j.signal.aborted)return{shortCircuited:!0};if(Oi(Ve)){let Ie;return Ye&&Ye.replace!=null?Ie=Ye.replace:Ie=Yf(Ve.response.headers.get("Location"),new URL(j.url),x,a.history)===K.location.pathname+K.location.search,await Gn(j,Ve,!0,{submission:G,replace:Ie}),{shortCircuited:!0}}if(Xa(Ve))throw Qn(400,{type:"defer-action"});if(or(Ve)){let Ie=Ti(ue,Fe.route.id);return(Ye&&Ye.replace)!==!0&&(ke=en.Push),{matches:ue,pendingActionResult:[Ie.route.id,Ve]}}return{matches:ue,pendingActionResult:[Fe.route.id,Ve]}}async function jn(j,F,G,ue,Se,Ye,et,Ve,Fe,Ie,Ae){let lt=Se||mc(F,Ye),vt=Ye||et||th(lt),Ot=!Re&&(!k.v7_partialHydration||!Fe);if(ue){if(Ot){let Rt=lr(Ae);rt(Vt({navigation:lt},Rt!==void 0?{actionData:Rt}:{}),{flushSync:Ie})}let ht=await Dn(G,F.pathname,j.signal);if(ht.type==="aborted")return{shortCircuited:!0};if(ht.type==="error"){let Rt=Ti(ht.partialMatches).route.id;return{matches:ht.partialMatches,loaderData:{},errors:{[Rt]:ht.error}}}else if(ht.matches)G=ht.matches;else{let{error:Rt,notFoundMatches:Yt,route:Br}=Hn(F.pathname);return{matches:Yt,loaderData:{},errors:{[Br.id]:Rt}}}}let Nt=v||g,[mt,Dt]=Kf(a.history,K,G,vt,F,k.v7_partialHydration&&Fe===!0,k.v7_skipActionErrorRevalidation,nt,at,st,$e,je,X,Nt,x,Ae);if(Zn(ht=>!(G&&G.some(Rt=>Rt.route.id===ht))||mt&&mt.some(Rt=>Rt.route.id===ht)),Y=++De,mt.length===0&&Dt.length===0){let ht=Xn();return Ut(F,Vt({matches:G,loaderData:{},errors:Ae&&or(Ae[1])?{[Ae[0]]:Ae[1].error}:null},Jf(Ae),ht?{fetchers:new Map(K.fetchers)}:{}),{flushSync:Ie}),{shortCircuited:!0}}if(Ot){let ht={};if(!ue){ht.navigation=lt;let Rt=lr(Ae);Rt!==void 0&&(ht.actionData=Rt)}Dt.length>0&&(ht.fetchers=Jt(Dt)),rt(ht,{flushSync:Ie})}Dt.forEach(ht=>{Sn(ht.key),ht.controller&&se.set(ht.key,ht.controller)});let er=()=>Dt.forEach(ht=>Sn(ht.key));_e&&_e.signal.addEventListener("abort",er);let{loaderResults:jt,fetcherResults:rn}=await nn(K,G,mt,Dt,j);if(j.signal.aborted)return{shortCircuited:!0};_e&&_e.signal.removeEventListener("abort",er),Dt.forEach(ht=>se.delete(ht.key));let gt=_l(jt);if(gt)return await Gn(j,gt.result,!0,{replace:Ve}),{shortCircuited:!0};if(gt=_l(rn),gt)return X.add(gt.key),await Gn(j,gt.result,!0,{replace:Ve}),{shortCircuited:!0};let{loaderData:Sa,errors:En}=Gf(K,G,jt,Ae,Dt,rn,oe);oe.forEach((ht,Rt)=>{ht.subscribe(Yt=>{(Yt||ht.done)&&oe.delete(Rt)})}),k.v7_partialHydration&&Fe&&K.errors&&(En=Vt({},K.errors,En));let Ln=Xn(),tr=qe(Y),Fr=Ln||tr||Dt.length>0;return Vt({matches:G,loaderData:Sa,errors:En},Fr?{fetchers:new Map(K.fetchers)}:{})}function lr(j){if(j&&!or(j[1]))return{[j[0]]:j[1].data};if(K.actionData)return Object.keys(K.actionData).length===0?null:K.actionData}function Jt(j){return j.forEach(F=>{let G=K.fetchers.get(F.key),ue=us(void 0,G?G.data:void 0);K.fetchers.set(F.key,ue)}),new Map(K.fetchers)}function tn(j,F,G,ue){if(l)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Sn(j);let Se=(ue&&ue.flushSync)===!0,Ye=v||g,et=Ec(K.location,K.matches,x,k.v7_prependBasename,G,k.v7_relativeSplatPath,F,ue==null?void 0:ue.relative),Ve=ji(Ye,et,x),Fe=Xr(Ve,Ye,et);if(Fe.active&&Fe.matches&&(Ve=Fe.matches),!Ve){cn(j,F,Qn(404,{pathname:et}),{flushSync:Se});return}let{path:Ie,submission:Ae,error:lt}=$f(k.v7_normalizeFormMethod,!0,et,ue);if(lt){cn(j,F,lt,{flushSync:Se});return}let vt=fs(Ve,Ie),Ot=(ue&&ue.preventScrollReset)===!0;if(Ae&&Ar(Ae.formMethod)){va(j,F,Ie,vt,Ve,Fe.active,Se,Ot,Ae);return}je.set(j,{routeId:F,path:Ie}),Mr(j,F,Ie,vt,Ve,Fe.active,Se,Ot,Ae)}async function va(j,F,G,ue,Se,Ye,et,Ve,Fe){Tn(),je.delete(j);function Ie(He){if(!He.route.action&&!He.route.lazy){let br=Qn(405,{method:Fe.formMethod,pathname:G,routeId:F});return cn(j,F,br,{flushSync:et}),!0}return!1}if(!Ye&&Ie(ue))return;let Ae=K.fetchers.get(j);yn(j,jg(Fe,Ae),{flushSync:et});let lt=new AbortController,vt=go(a.history,G,lt.signal,Fe);if(Ye){let He=await Dn(Se,new URL(vt.url).pathname,vt.signal,j);if(He.type==="aborted")return;if(He.type==="error"){cn(j,F,He.error,{flushSync:et});return}else if(He.matches){if(Se=He.matches,ue=fs(Se,G),Ie(ue))return}else{cn(j,F,Qn(404,{pathname:G}),{flushSync:et});return}}se.set(j,lt);let Ot=De,mt=(await Un("action",K,vt,[ue],Se,j))[ue.route.id];if(vt.signal.aborted){se.get(j)===lt&&se.delete(j);return}if(k.v7_fetcherPersist&&$e.has(j)){if(Oi(mt)||or(mt)){yn(j,Ga(void 0));return}}else{if(Oi(mt))if(se.delete(j),Y>Ot){yn(j,Ga(void 0));return}else return X.add(j),yn(j,us(Fe)),Gn(vt,mt,!1,{fetcherSubmission:Fe,preventScrollReset:Ve});if(or(mt)){cn(j,F,mt.error);return}}if(Xa(mt))throw Qn(400,{type:"defer-action"});let Dt=K.navigation.location||K.location,er=go(a.history,Dt,lt.signal),jt=v||g,rn=K.navigation.state!=="idle"?ji(jt,K.navigation.location,x):K.matches;wt(rn,"Didn't find any matches after fetcher action");let gt=++De;P.set(j,gt);let Sa=us(Fe,mt.data);K.fetchers.set(j,Sa);let[En,Ln]=Kf(a.history,K,rn,Fe,Dt,!1,k.v7_skipActionErrorRevalidation,nt,at,st,$e,je,X,jt,x,[ue.route.id,mt]);Ln.filter(He=>He.key!==j).forEach(He=>{let br=He.key,ai=K.fetchers.get(br),Ea=us(void 0,ai?ai.data:void 0);K.fetchers.set(br,Ea),Sn(br),He.controller&&se.set(br,He.controller)}),rt({fetchers:new Map(K.fetchers)});let tr=()=>Ln.forEach(He=>Sn(He.key));lt.signal.addEventListener("abort",tr);let{loaderResults:Fr,fetcherResults:ht}=await nn(K,rn,En,Ln,er);if(lt.signal.aborted)return;lt.signal.removeEventListener("abort",tr),P.delete(j),se.delete(j),Ln.forEach(He=>se.delete(He.key));let Rt=_l(Fr);if(Rt)return Gn(er,Rt.result,!1,{preventScrollReset:Ve});if(Rt=_l(ht),Rt)return X.add(Rt.key),Gn(er,Rt.result,!1,{preventScrollReset:Ve});let{loaderData:Yt,errors:Br}=Gf(K,rn,Fr,void 0,Ln,ht,oe);if(K.fetchers.has(j)){let He=Ga(mt.data);K.fetchers.set(j,He)}qe(gt),K.navigation.state==="loading"&&gt>Y?(wt(ke,"Expected pending action"),_e&&_e.abort(),Ut(K.navigation.location,{matches:rn,loaderData:Yt,errors:Br,fetchers:new Map(K.fetchers)})):(rt({errors:Br,loaderData:Xf(K.loaderData,Yt,rn,Br),fetchers:new Map(K.fetchers)}),nt=!1)}async function Mr(j,F,G,ue,Se,Ye,et,Ve,Fe){let Ie=K.fetchers.get(j);yn(j,us(Fe,Ie?Ie.data:void 0),{flushSync:et});let Ae=new AbortController,lt=go(a.history,G,Ae.signal);if(Ye){let mt=await Dn(Se,new URL(lt.url).pathname,lt.signal,j);if(mt.type==="aborted")return;if(mt.type==="error"){cn(j,F,mt.error,{flushSync:et});return}else if(mt.matches)Se=mt.matches,ue=fs(Se,G);else{cn(j,F,Qn(404,{pathname:G}),{flushSync:et});return}}se.set(j,Ae);let vt=De,Nt=(await Un("loader",K,lt,[ue],Se,j))[ue.route.id];if(Xa(Nt)&&(Nt=await Ic(Nt,lt.signal,!0)||Nt),se.get(j)===Ae&&se.delete(j),!lt.signal.aborted){if($e.has(j)){yn(j,Ga(void 0));return}if(Oi(Nt))if(Y>vt){yn(j,Ga(void 0));return}else{X.add(j),await Gn(lt,Nt,!1,{preventScrollReset:Ve});return}if(or(Nt)){cn(j,F,Nt.error);return}wt(!Xa(Nt),"Unhandled fetcher deferred data"),yn(j,Ga(Nt.data))}}async function Gn(j,F,G,ue){let{submission:Se,fetcherSubmission:Ye,preventScrollReset:et,replace:Ve}=ue===void 0?{}:ue;F.response.headers.has("X-Remix-Revalidate")&&(nt=!0);let Fe=F.response.headers.get("Location");wt(Fe,"Expected a Location header on the redirect Response"),Fe=Yf(Fe,new URL(j.url),x,a.history);let Ie=ms(K.location,Fe,{_isRedirect:!0});if(i){let mt=!1;if(F.response.headers.has("X-Remix-Reload-Document"))mt=!0;else if(Ac.test(Fe)){const Dt=a.history.createURL(Fe);mt=Dt.origin!==r.location.origin||ga(Dt.pathname,x)==null}if(mt){Ve?r.location.replace(Fe):r.location.assign(Fe);return}}_e=null;let Ae=Ve===!0||F.response.headers.has("X-Remix-Replace")?en.Replace:en.Push,{formMethod:lt,formAction:vt,formEncType:Ot}=K.navigation;!Se&&!Ye&&lt&&vt&&Ot&&(Se=th(K.navigation));let Nt=Se||Ye;if(cg.has(F.response.status)&&Nt&&Ar(Nt.formMethod))await pt(Ae,Ie,{submission:Vt({},Nt,{formAction:Fe}),preventScrollReset:et||Oe,enableViewTransition:G?ft:void 0});else{let mt=mc(Ie,Se);await pt(Ae,Ie,{overrideNavigation:mt,fetcherSubmission:Ye,preventScrollReset:et||Oe,enableViewTransition:G?ft:void 0})}}async function Un(j,F,G,ue,Se,Ye){let et,Ve={};try{et=await vg(E,j,F,G,ue,Se,Ye,h,c)}catch(Fe){return ue.forEach(Ie=>{Ve[Ie.route.id]={type:Tt.error,error:Fe}}),Ve}for(let[Fe,Ie]of Object.entries(et))if(kg(Ie)){let Ae=Ie.result;Ve[Fe]={type:Tt.redirect,response:bg(Ae,G,Fe,Se,x,k.v7_relativeSplatPath)}}else Ve[Fe]=await wg(Ie);return Ve}async function nn(j,F,G,ue,Se){let Ye=j.matches,et=Un("loader",j,Se,G,F,null),Ve=Promise.all(ue.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.controller){let vt=(await Un("loader",j,go(a.history,Ae.path,Ae.controller.signal),[Ae.match],Ae.matches,Ae.key))[Ae.match.route.id];return{[Ae.key]:vt}}else return Promise.resolve({[Ae.key]:{type:Tt.error,error:Qn(404,{pathname:Ae.path})}})})),Fe=await et,Ie=(await Ve).reduce((Ae,lt)=>Object.assign(Ae,lt),{});return await Promise.all([_g(F,Fe,Se.signal,Ye,j.loaderData),Pg(F,Ie,ue)]),{loaderResults:Fe,fetcherResults:Ie}}function Tn(){nt=!0,at.push(...Zn()),je.forEach((j,F)=>{se.has(F)&&st.add(F),Sn(F)})}function yn(j,F,G){G===void 0&&(G={}),K.fetchers.set(j,F),rt({fetchers:new Map(K.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function cn(j,F,G,ue){ue===void 0&&(ue={});let Se=Ti(K.matches,F);On(j),rt({errors:{[Se.route.id]:G},fetchers:new Map(K.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function ur(j){return ge.set(j,(ge.get(j)||0)+1),$e.has(j)&&$e.delete(j),K.fetchers.get(j)||dg}function On(j){let F=K.fetchers.get(j);se.has(j)&&!(F&&F.state==="loading"&&P.has(j))&&Sn(j),je.delete(j),P.delete(j),X.delete(j),k.v7_fetcherPersist&&$e.delete(j),st.delete(j),K.fetchers.delete(j)}function yr(j){let F=(ge.get(j)||0)-1;F<=0?(ge.delete(j),$e.add(j),k.v7_fetcherPersist||On(j)):ge.set(j,F),rt({fetchers:new Map(K.fetchers)})}function Sn(j){let F=se.get(j);F&&(F.abort(),se.delete(j))}function Gr(j){for(let F of j){let G=ur(F),ue=Ga(G.data);K.fetchers.set(F,ue)}}function Xn(){let j=[],F=!1;for(let G of X){let ue=K.fetchers.get(G);wt(ue,"Expected fetcher: "+G),ue.state==="loading"&&(X.delete(G),j.push(G),F=!0)}return Gr(j),F}function qe(j){let F=[];for(let[G,ue]of P)if(ue<j){let Se=K.fetchers.get(G);wt(Se,"Expected fetcher: "+G),Se.state==="loading"&&(Sn(G),P.delete(G),F.push(G))}return Gr(F),F.length>0}function vr(j,F){let G=K.blockers.get(j)||ls;return Me.get(j)!==F&&Me.set(j,F),G}function zn(j){K.blockers.delete(j),Me.delete(j)}function Jn(j,F){let G=K.blockers.get(j)||ls;wt(G.state==="unblocked"&&F.state==="blocked"||G.state==="blocked"&&F.state==="blocked"||G.state==="blocked"&&F.state==="proceeding"||G.state==="blocked"&&F.state==="unblocked"||G.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+G.state+" -> "+F.state);let ue=new Map(K.blockers);ue.set(j,F),rt({blockers:ue})}function Ne(j){let{currentLocation:F,nextLocation:G,historyAction:ue}=j;if(Me.size===0)return;Me.size>1&&Di(!1,"A router only supports one blocker at a time");let Se=Array.from(Me.entries()),[Ye,et]=Se[Se.length-1],Ve=K.blockers.get(Ye);if(!(Ve&&Ve.state==="proceeding")&&et({currentLocation:F,nextLocation:G,historyAction:ue}))return Ye}function Hn(j){let F=Qn(404,{pathname:j}),G=v||g,{matches:ue,route:Se}=Zf(G);return Zn(),{notFoundMatches:ue,route:Se,error:F}}function Zn(j){let F=[];return oe.forEach((G,ue)=>{(!j||j(ue))&&(G.cancel(),F.push(ue),oe.delete(ue))}),F}function xa(j,F,G){if(z=j,re=F,Z=G||null,!we&&K.navigation===pc){we=!0;let ue=ri(K.location,K.matches);ue!=null&&rt({restoreScrollPosition:ue})}return()=>{z=null,re=null,Z=null}}function wa(j,F){return Z&&Z(j,F.map(ue=>zm(ue,K.loaderData)))||j.key}function ba(j,F){if(z&&re){let G=wa(j,F);z[G]=re()}}function ri(j,F){if(z){let G=wa(j,F),ue=z[G];if(typeof ue=="number")return ue}return null}function Xr(j,F,G){if(_)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:jl(F,G,x,!0)}}else return{active:!0,matches:jl(F,G,x,!0)||[]};return{active:!1,matches:null}}async function Dn(j,F,G,ue){if(!_)return{type:"success",matches:j};let Se=j;for(;;){let Ye=v==null,et=v||g,Ve=h;try{await _({signal:G,path:F,matches:Se,fetcherKey:ue,patch:(Ae,lt)=>{G.aborted||Wf(Ae,lt,et,Ve,c)}})}catch(Ae){return{type:"error",error:Ae,partialMatches:Se}}finally{Ye&&!G.aborted&&(g=[...g])}if(G.aborted)return{type:"aborted"};let Fe=ji(et,F,x);if(Fe)return{type:"success",matches:Fe};let Ie=jl(et,F,x,!0);if(!Ie||Se.length===Ie.length&&Se.every((Ae,lt)=>Ae.route.id===Ie[lt].route.id))return{type:"success",matches:null};Se=Ie}}function xr(j){h={},v=Ol(j,c,void 0,h)}function wr(j,F){let G=v==null;Wf(j,F,v||g,h,c),G&&(g=[...g],rt({}))}return Ge={get basename(){return x},get future(){return k},get state(){return K},get routes(){return g},get window(){return r},initialize:ut,subscribe:Rn,enableScrollRestoration:xa,navigate:Ir,fetch:tn,revalidate:ze,createHref:j=>a.history.createHref(j),encodeLocation:j=>a.history.encodeLocation(j),getFetcher:ur,deleteFetcher:yr,dispose:Ce,getBlocker:vr,deleteBlocker:zn,patchRoutes:wr,_internalFetchControllers:se,_internalActiveDeferreds:oe,_internalSetRoutes:xr},Ge}function pg(a){return a!=null&&("formData"in a&&a.formData!=null||"body"in a&&a.body!==void 0)}function Ec(a,r,i,l,c,h,g,v){let x,E;if(g){x=[];for(let k of r)if(x.push(k),k.route.id===g){E=k;break}}else x=r,E=r[r.length-1];let _=Lc(c||".",Dc(x,h),ga(a.pathname,i)||a.pathname,v==="path");if(c==null&&(_.search=a.search,_.hash=a.hash),(c==null||c===""||c===".")&&E){let k=Mc(_.search);if(E.route.index&&!k)_.search=_.search?_.search.replace(/^\?/,"?index&"):"?index";else if(!E.route.index&&k){let T=new URLSearchParams(_.search),$=T.getAll("index");T.delete("index"),$.filter(Z=>Z).forEach(Z=>T.append("index",Z));let z=T.toString();_.search=z?"?"+z:""}}return l&&i!=="/"&&(_.pathname=_.pathname==="/"?i:ma([i,_.pathname])),Li(_)}function $f(a,r,i,l){if(!l||!pg(l))return{path:i};if(l.formMethod&&!Ng(l.formMethod))return{path:i,error:Qn(405,{method:l.formMethod})};let c=()=>({path:i,error:Qn(400,{type:"invalid-body"})}),h=l.formMethod||"get",g=a?h.toUpperCase():h.toLowerCase(),v=Wh(i);if(l.body!==void 0){if(l.formEncType==="text/plain"){if(!Ar(g))return c();let T=typeof l.body=="string"?l.body:l.body instanceof FormData||l.body instanceof URLSearchParams?Array.from(l.body.entries()).reduce(($,z)=>{let[Z,re]=z;return""+$+Z+"="+re+`
`},""):String(l.body);return{path:i,submission:{formMethod:g,formAction:v,formEncType:l.formEncType,formData:void 0,json:void 0,text:T}}}else if(l.formEncType==="application/json"){if(!Ar(g))return c();try{let T=typeof l.body=="string"?JSON.parse(l.body):l.body;return{path:i,submission:{formMethod:g,formAction:v,formEncType:l.formEncType,formData:void 0,json:T,text:void 0}}}catch{return c()}}}wt(typeof FormData=="function","FormData is not available in this environment");let x,E;if(l.formData)x=Cc(l.formData),E=l.formData;else if(l.body instanceof FormData)x=Cc(l.body),E=l.body;else if(l.body instanceof URLSearchParams)x=l.body,E=Qf(x);else if(l.body==null)x=new URLSearchParams,E=new FormData;else try{x=new URLSearchParams(l.body),E=Qf(x)}catch{return c()}let _={formMethod:g,formAction:v,formEncType:l&&l.formEncType||"application/x-www-form-urlencoded",formData:E,json:void 0,text:void 0};if(Ar(_.formMethod))return{path:i,submission:_};let k=Za(i);return r&&k.search&&Mc(k.search)&&x.append("index",""),k.search="?"+x,{path:Li(k),submission:_}}function Vf(a,r,i){i===void 0&&(i=!1);let l=a.findIndex(c=>c.route.id===r);return l>=0?a.slice(0,i?l+1:l):a}function Kf(a,r,i,l,c,h,g,v,x,E,_,k,T,$,z,Z){let re=Z?or(Z[1])?Z[1].error:Z[1].data:void 0,we=a.createURL(r.location),de=a.createURL(c),le=i;h&&r.errors?le=Vf(i,Object.keys(r.errors)[0],!0):Z&&or(Z[1])&&(le=Vf(i,Z[0]));let ie=Z?Z[1].statusCode:void 0,We=g&&ie&&ie>=400,Ge=le.filter((ke,Oe)=>{let{route:_e}=ke;if(_e.lazy)return!0;if(_e.loader==null)return!1;if(h)return kc(_e,r.loaderData,r.errors);if(mg(r.loaderData,r.matches[Oe],ke)||x.some(be=>be===ke.route.id))return!0;let ft=r.matches[Oe],Pe=ke;return qf(ke,Vt({currentUrl:we,currentParams:ft.params,nextUrl:de,nextParams:Pe.params},l,{actionResult:re,actionStatus:ie,defaultShouldRevalidate:We?!1:v||we.pathname+we.search===de.pathname+de.search||we.search!==de.search||Kh(ft,Pe)}))}),K=[];return k.forEach((ke,Oe)=>{if(h||!i.some(Re=>Re.route.id===ke.routeId)||_.has(Oe))return;let _e=ji($,ke.path,z);if(!_e){K.push({key:Oe,routeId:ke.routeId,path:ke.path,matches:null,match:null,controller:null});return}let ft=r.fetchers.get(Oe),Pe=fs(_e,ke.path),be=!1;T.has(Oe)?be=!1:E.has(Oe)?(E.delete(Oe),be=!0):ft&&ft.state!=="idle"&&ft.data===void 0?be=v:be=qf(Pe,Vt({currentUrl:we,currentParams:r.matches[r.matches.length-1].params,nextUrl:de,nextParams:i[i.length-1].params},l,{actionResult:re,actionStatus:ie,defaultShouldRevalidate:We?!1:v})),be&&K.push({key:Oe,routeId:ke.routeId,path:ke.path,matches:_e,match:Pe,controller:new AbortController})}),[Ge,K]}function kc(a,r,i){if(a.lazy)return!0;if(!a.loader)return!1;let l=r!=null&&r[a.id]!==void 0,c=i!=null&&i[a.id]!==void 0;return!l&&c?!1:typeof a.loader=="function"&&a.loader.hydrate===!0?!0:!l&&!c}function mg(a,r,i){let l=!r||i.route.id!==r.route.id,c=a[i.route.id]===void 0;return l||c}function Kh(a,r){let i=a.route.path;return a.pathname!==r.pathname||i!=null&&i.endsWith("*")&&a.params["*"]!==r.params["*"]}function qf(a,r){if(a.route.shouldRevalidate){let i=a.route.shouldRevalidate(r);if(typeof i=="boolean")return i}return r.defaultShouldRevalidate}function Wf(a,r,i,l,c){var h;let g;if(a){let E=l[a];wt(E,"No route found to patch children into: routeId = "+a),E.children||(E.children=[]),g=E.children}else g=i;let v=r.filter(E=>!g.some(_=>qh(E,_))),x=Ol(v,c,[a||"_","patch",String(((h=g)==null?void 0:h.length)||"0")],l);g.push(...x)}function qh(a,r){return"id"in a&&"id"in r&&a.id===r.id?!0:a.index===r.index&&a.path===r.path&&a.caseSensitive===r.caseSensitive?(!a.children||a.children.length===0)&&(!r.children||r.children.length===0)?!0:a.children.every((i,l)=>{var c;return(c=r.children)==null?void 0:c.some(h=>qh(i,h))}):!1}async function gg(a,r,i){if(!a.lazy)return;let l=await a.lazy();if(!a.lazy)return;let c=i[a.id];wt(c,"No route found in manifest");let h={};for(let g in l){let x=c[g]!==void 0&&g!=="hasErrorBoundary";Di(!x,'Route "'+c.id+'" has a static property "'+g+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+g+'" will be ignored.')),!x&&!Bm.has(g)&&(h[g]=l[g])}Object.assign(c,h),Object.assign(c,Vt({},r(c),{lazy:void 0}))}async function yg(a){let{matches:r}=a,i=r.filter(c=>c.shouldLoad);return(await Promise.all(i.map(c=>c.resolve()))).reduce((c,h,g)=>Object.assign(c,{[i[g].route.id]:h}),{})}async function vg(a,r,i,l,c,h,g,v,x,E){let _=h.map($=>$.route.lazy?gg($.route,x,v):void 0),k=h.map(($,z)=>{let Z=_[z],re=c.some(de=>de.route.id===$.route.id);return Vt({},$,{shouldLoad:re,resolve:async de=>(de&&l.method==="GET"&&($.route.lazy||$.route.loader)&&(re=!0),re?xg(r,l,$,Z,de,E):Promise.resolve({type:Tt.data,result:void 0}))})}),T=await a({matches:k,request:l,params:h[0].params,fetcherKey:g,context:E});try{await Promise.all(_)}catch{}return T}async function xg(a,r,i,l,c,h){let g,v,x=E=>{let _,k=new Promise((z,Z)=>_=Z);v=()=>_(),r.signal.addEventListener("abort",v);let T=z=>typeof E!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+a+'" [routeId: '+i.route.id+"]"))):E({request:r,params:i.params,context:h},...z!==void 0?[z]:[]),$=(async()=>{try{return{type:"data",result:await(c?c(Z=>T(Z)):T())}}catch(z){return{type:"error",result:z}}})();return Promise.race([$,k])};try{let E=i.route[a];if(l)if(E){let _,[k]=await Promise.all([x(E).catch(T=>{_=T}),l]);if(_!==void 0)throw _;g=k}else if(await l,E=i.route[a],E)g=await x(E);else if(a==="action"){let _=new URL(r.url),k=_.pathname+_.search;throw Qn(405,{method:r.method,pathname:k,routeId:i.route.id})}else return{type:Tt.data,result:void 0};else if(E)g=await x(E);else{let _=new URL(r.url),k=_.pathname+_.search;throw Qn(404,{pathname:k})}wt(g.result!==void 0,"You defined "+(a==="action"?"an action":"a loader")+" for route "+('"'+i.route.id+"\" but didn't return anything from your `"+a+"` ")+"function. Please return a value or `null`.")}catch(E){return{type:Tt.error,result:E}}finally{v&&r.signal.removeEventListener("abort",v)}return g}async function wg(a){let{result:r,type:i}=a;if(Yh(r)){let k;try{let T=r.headers.get("Content-Type");T&&/\bapplication\/json\b/.test(T)?r.body==null?k=null:k=await r.json():k=await r.text()}catch(T){return{type:Tt.error,error:T}}return i===Tt.error?{type:Tt.error,error:new Ll(r.status,r.statusText,k),statusCode:r.status,headers:r.headers}:{type:Tt.data,data:k,statusCode:r.status,headers:r.headers}}if(i===Tt.error){if(eh(r)){var l,c;if(r.data instanceof Error){var h,g;return{type:Tt.error,error:r.data,statusCode:(h=r.init)==null?void 0:h.status,headers:(g=r.init)!=null&&g.headers?new Headers(r.init.headers):void 0}}return{type:Tt.error,error:new Ll(((l=r.init)==null?void 0:l.status)||500,void 0,r.data),statusCode:gs(r)?r.status:void 0,headers:(c=r.init)!=null&&c.headers?new Headers(r.init.headers):void 0}}return{type:Tt.error,error:r,statusCode:gs(r)?r.status:void 0}}if(Cg(r)){var v,x;return{type:Tt.deferred,deferredData:r,statusCode:(v=r.init)==null?void 0:v.status,headers:((x=r.init)==null?void 0:x.headers)&&new Headers(r.init.headers)}}if(eh(r)){var E,_;return{type:Tt.data,data:r.data,statusCode:(E=r.init)==null?void 0:E.status,headers:(_=r.init)!=null&&_.headers?new Headers(r.init.headers):void 0}}return{type:Tt.data,data:r}}function bg(a,r,i,l,c,h){let g=a.headers.get("Location");if(wt(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ac.test(g)){let v=l.slice(0,l.findIndex(x=>x.route.id===i)+1);g=Ec(new URL(r.url),v,c,!0,g,h),a.headers.set("Location",g)}return a}function Yf(a,r,i,l){let c=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Ac.test(a)){let h=a,g=h.startsWith("//")?new URL(r.protocol+h):new URL(h);if(c.includes(g.protocol))throw new Error("Invalid redirect location");let v=ga(g.pathname,i)!=null;if(g.origin===r.origin&&v)return g.pathname+g.search+g.hash}try{let h=l.createURL(a);if(c.includes(h.protocol))throw new Error("Invalid redirect location")}catch{}return a}function go(a,r,i,l){let c=a.createURL(Wh(r)).toString(),h={signal:i};if(l&&Ar(l.formMethod)){let{formMethod:g,formEncType:v}=l;h.method=g.toUpperCase(),v==="application/json"?(h.headers=new Headers({"Content-Type":v}),h.body=JSON.stringify(l.json)):v==="text/plain"?h.body=l.text:v==="application/x-www-form-urlencoded"&&l.formData?h.body=Cc(l.formData):h.body=l.formData}return new Request(c,h)}function Cc(a){let r=new URLSearchParams;for(let[i,l]of a.entries())r.append(i,typeof l=="string"?l:l.name);return r}function Qf(a){let r=new FormData;for(let[i,l]of a.entries())r.append(i,l);return r}function Sg(a,r,i,l,c){let h={},g=null,v,x=!1,E={},_=i&&or(i[1])?i[1].error:void 0;return a.forEach(k=>{if(!(k.route.id in r))return;let T=k.route.id,$=r[T];if(wt(!Oi($),"Cannot handle redirect results in processLoaderData"),or($)){let z=$.error;_!==void 0&&(z=_,_=void 0),g=g||{};{let Z=Ti(a,T);g[Z.route.id]==null&&(g[Z.route.id]=z)}h[T]=void 0,x||(x=!0,v=gs($.error)?$.error.status:500),$.headers&&(E[T]=$.headers)}else Xa($)?(l.set(T,$.deferredData),h[T]=$.deferredData.data,$.statusCode!=null&&$.statusCode!==200&&!x&&(v=$.statusCode),$.headers&&(E[T]=$.headers)):(h[T]=$.data,$.statusCode&&$.statusCode!==200&&!x&&(v=$.statusCode),$.headers&&(E[T]=$.headers))}),_!==void 0&&i&&(g={[i[0]]:_},h[i[0]]=void 0),{loaderData:h,errors:g,statusCode:v||200,loaderHeaders:E}}function Gf(a,r,i,l,c,h,g){let{loaderData:v,errors:x}=Sg(r,i,l,g);return c.forEach(E=>{let{key:_,match:k,controller:T}=E,$=h[_];if(wt($,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(or($)){let z=Ti(a.matches,k==null?void 0:k.route.id);x&&x[z.route.id]||(x=Vt({},x,{[z.route.id]:$.error})),a.fetchers.delete(_)}else if(Oi($))wt(!1,"Unhandled fetcher revalidation redirect");else if(Xa($))wt(!1,"Unhandled fetcher deferred data");else{let z=Ga($.data);a.fetchers.set(_,z)}}),{loaderData:v,errors:x}}function Xf(a,r,i,l){let c=Vt({},r);for(let h of i){let g=h.route.id;if(r.hasOwnProperty(g)?r[g]!==void 0&&(c[g]=r[g]):a[g]!==void 0&&h.route.loader&&(c[g]=a[g]),l&&l.hasOwnProperty(g))break}return c}function Jf(a){return a?or(a[1])?{actionData:{}}:{actionData:{[a[0]]:a[1].data}}:{}}function Ti(a,r){return(r?a.slice(0,a.findIndex(l=>l.route.id===r)+1):[...a]).reverse().find(l=>l.route.hasErrorBoundary===!0)||a[0]}function Zf(a){let r=a.length===1?a[0]:a.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r}}function Qn(a,r){let{pathname:i,routeId:l,method:c,type:h,message:g}=r===void 0?{}:r,v="Unknown Server Error",x="Unknown @remix-run/router error";return a===400?(v="Bad Request",c&&i&&l?x="You made a "+c+' request to "'+i+'" but '+('did not provide a `loader` for route "'+l+'", ')+"so there is no way to handle the request.":h==="defer-action"?x="defer() is not supported in actions":h==="invalid-body"&&(x="Unable to encode submission body")):a===403?(v="Forbidden",x='Route "'+l+'" does not match URL "'+i+'"'):a===404?(v="Not Found",x='No route matches URL "'+i+'"'):a===405&&(v="Method Not Allowed",c&&i&&l?x="You made a "+c.toUpperCase()+' request to "'+i+'" but '+('did not provide an `action` for route "'+l+'", ')+"so there is no way to handle the request.":c&&(x='Invalid request method "'+c.toUpperCase()+'"')),new Ll(a||500,v,new Error(x),!0)}function _l(a){let r=Object.entries(a);for(let i=r.length-1;i>=0;i--){let[l,c]=r[i];if(Oi(c))return{key:l,result:c}}}function Wh(a){let r=typeof a=="string"?Za(a):a;return Li(Vt({},r,{hash:""}))}function Eg(a,r){return a.pathname!==r.pathname||a.search!==r.search?!1:a.hash===""?r.hash!=="":a.hash===r.hash?!0:r.hash!==""}function kg(a){return Yh(a.result)&&ug.has(a.result.status)}function Xa(a){return a.type===Tt.deferred}function or(a){return a.type===Tt.error}function Oi(a){return(a&&a.type)===Tt.redirect}function eh(a){return typeof a=="object"&&a!=null&&"type"in a&&"data"in a&&"init"in a&&a.type==="DataWithResponseInit"}function Cg(a){let r=a;return r&&typeof r=="object"&&typeof r.data=="object"&&typeof r.subscribe=="function"&&typeof r.cancel=="function"&&typeof r.resolveData=="function"}function Yh(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.headers=="object"&&typeof a.body<"u"}function Ng(a){return lg.has(a.toLowerCase())}function Ar(a){return og.has(a.toLowerCase())}async function _g(a,r,i,l,c){let h=Object.entries(r);for(let g=0;g<h.length;g++){let[v,x]=h[g],E=a.find(T=>(T==null?void 0:T.route.id)===v);if(!E)continue;let _=l.find(T=>T.route.id===E.route.id),k=_!=null&&!Kh(_,E)&&(c&&c[E.route.id])!==void 0;Xa(x)&&k&&await Ic(x,i,!1).then(T=>{T&&(r[v]=T)})}}async function Pg(a,r,i){for(let l=0;l<i.length;l++){let{key:c,routeId:h,controller:g}=i[l],v=r[c];a.find(E=>(E==null?void 0:E.route.id)===h)&&Xa(v)&&(wt(g,"Expected an AbortController for revalidating fetcher deferred result"),await Ic(v,g.signal,!0).then(E=>{E&&(r[c]=E)}))}}async function Ic(a,r,i){if(i===void 0&&(i=!1),!await a.deferredData.resolveData(r)){if(i)try{return{type:Tt.data,data:a.deferredData.unwrappedData}}catch(c){return{type:Tt.error,error:c}}return{type:Tt.data,data:a.deferredData.data}}}function Mc(a){return new URLSearchParams(a).getAll("index").some(r=>r==="")}function fs(a,r){let i=typeof r=="string"?Za(r).search:r.search;if(a[a.length-1].route.index&&Mc(i||""))return a[a.length-1];let l=Hh(a);return l[l.length-1]}function th(a){let{formMethod:r,formAction:i,formEncType:l,text:c,formData:h,json:g}=a;if(!(!r||!i||!l)){if(c!=null)return{formMethod:r,formAction:i,formEncType:l,formData:void 0,json:void 0,text:c};if(h!=null)return{formMethod:r,formAction:i,formEncType:l,formData:h,json:void 0,text:void 0};if(g!==void 0)return{formMethod:r,formAction:i,formEncType:l,formData:void 0,json:g,text:void 0}}}function mc(a,r){return r?{state:"loading",location:a,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}:{state:"loading",location:a,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Rg(a,r){return{state:"submitting",location:a,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}}function us(a,r){return a?{state:"loading",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:r}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function jg(a,r){return{state:"submitting",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:r?r.data:void 0}}function Ga(a){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function Tg(a,r){try{let i=a.sessionStorage.getItem(Vh);if(i){let l=JSON.parse(i);for(let[c,h]of Object.entries(l||{}))h&&Array.isArray(h)&&r.set(c,new Set(h||[]))}}catch{}}function Og(a,r){if(r.size>0){let i={};for(let[l,c]of r)i[l]=[...c];try{a.sessionStorage.setItem(Vh,JSON.stringify(i))}catch(l){Di(!1,"Failed to save applied view transitions in sessionStorage ("+l+").")}}}/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(a[l]=i[l])}return a},Al.apply(this,arguments)}const vs=J.createContext(null),Fc=J.createContext(null),ei=J.createContext(null),Bc=J.createContext(null),ya=J.createContext({outlet:null,matches:[],isDataRoute:!1}),Qh=J.createContext(null);function Dg(a,r){let{relative:i}=r===void 0?{}:r;xs()||wt(!1);let{basename:l,navigator:c}=J.useContext(ei),{hash:h,pathname:g,search:v}=Vl(a,{relative:i}),x=g;return l!=="/"&&(x=g==="/"?l:ma([l,g])),c.createHref({pathname:x,search:v,hash:h})}function xs(){return J.useContext(Bc)!=null}function ws(){return xs()||wt(!1),J.useContext(Bc).location}function Gh(a){J.useContext(ei).static||J.useLayoutEffect(a)}function Eo(){let{isDataRoute:a}=J.useContext(ya);return a?Wg():Lg()}function Lg(){xs()||wt(!1);let a=J.useContext(vs),{basename:r,future:i,navigator:l}=J.useContext(ei),{matches:c}=J.useContext(ya),{pathname:h}=ws(),g=JSON.stringify(Dc(c,i.v7_relativeSplatPath)),v=J.useRef(!1);return Gh(()=>{v.current=!0}),J.useCallback(function(E,_){if(_===void 0&&(_={}),!v.current)return;if(typeof E=="number"){l.go(E);return}let k=Lc(E,JSON.parse(g),h,_.relative==="path");a==null&&r!=="/"&&(k.pathname=k.pathname==="/"?r:ma([r,k.pathname])),(_.replace?l.replace:l.push)(k,_.state,_)},[r,l,g,h,a])}const Ag=J.createContext(null);function Ig(a){let r=J.useContext(ya).outlet;return r&&J.createElement(Ag.Provider,{value:a},r)}function Xh(){let{matches:a}=J.useContext(ya),r=a[a.length-1];return r?r.params:{}}function Vl(a,r){let{relative:i}=r===void 0?{}:r,{future:l}=J.useContext(ei),{matches:c}=J.useContext(ya),{pathname:h}=ws(),g=JSON.stringify(Dc(c,l.v7_relativeSplatPath));return J.useMemo(()=>Lc(a,JSON.parse(g),h,i==="path"),[a,g,h,i])}function Mg(a,r,i,l){xs()||wt(!1);let{navigator:c}=J.useContext(ei),{matches:h}=J.useContext(ya),g=h[h.length-1],v=g?g.params:{};g&&g.pathname;let x=g?g.pathnameBase:"/";g&&g.route;let E=ws(),_;_=E;let k=_.pathname||"/",T=k;if(x!=="/"){let Z=x.replace(/^\//,"").split("/");T="/"+k.replace(/^\//,"").split("/").slice(Z.length).join("/")}let $=ji(a,{pathname:T});return Hg($&&$.map(Z=>Object.assign({},Z,{params:Object.assign({},v,Z.params),pathname:ma([x,c.encodeLocation?c.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?x:ma([x,c.encodeLocation?c.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),h,i,l)}function Fg(){let a=qg(),r=gs(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},r),i?J.createElement("pre",{style:c},i):null,null)}const Bg=J.createElement(Fg,null);class Ug extends J.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?J.createElement(ya.Provider,{value:this.props.routeContext},J.createElement(Qh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zg(a){let{routeContext:r,match:i,children:l}=a,c=J.useContext(vs);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),J.createElement(ya.Provider,{value:r},l)}function Hg(a,r,i,l){var c;if(r===void 0&&(r=[]),i===void 0&&(i=null),l===void 0&&(l=null),a==null){var h;if(!i)return null;if(i.errors)a=i.matches;else if((h=l)!=null&&h.v7_partialHydration&&r.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let g=a,v=(c=i)==null?void 0:c.errors;if(v!=null){let _=g.findIndex(k=>k.route.id&&(v==null?void 0:v[k.route.id])!==void 0);_>=0||wt(!1),g=g.slice(0,Math.min(g.length,_+1))}let x=!1,E=-1;if(i&&l&&l.v7_partialHydration)for(let _=0;_<g.length;_++){let k=g[_];if((k.route.HydrateFallback||k.route.hydrateFallbackElement)&&(E=_),k.route.id){let{loaderData:T,errors:$}=i,z=k.route.loader&&T[k.route.id]===void 0&&(!$||$[k.route.id]===void 0);if(k.route.lazy||z){x=!0,E>=0?g=g.slice(0,E+1):g=[g[0]];break}}}return g.reduceRight((_,k,T)=>{let $,z=!1,Z=null,re=null;i&&($=v&&k.route.id?v[k.route.id]:void 0,Z=k.route.errorElement||Bg,x&&(E<0&&T===0?(Yg("route-fallback"),z=!0,re=null):E===T&&(z=!0,re=k.route.hydrateFallbackElement||null)));let we=r.concat(g.slice(0,T+1)),de=()=>{let le;return $?le=Z:z?le=re:k.route.Component?le=J.createElement(k.route.Component,null):k.route.element?le=k.route.element:le=_,J.createElement(zg,{match:k,routeContext:{outlet:_,matches:we,isDataRoute:i!=null},children:le})};return i&&(k.route.ErrorBoundary||k.route.errorElement||T===0)?J.createElement(Ug,{location:i.location,revalidation:i.revalidation,component:Z,error:$,children:de(),routeContext:{outlet:null,matches:we,isDataRoute:!0}}):de()},null)}var Jh=(function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a})(Jh||{}),Zh=(function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a})(Zh||{});function $g(a){let r=J.useContext(vs);return r||wt(!1),r}function Vg(a){let r=J.useContext(Fc);return r||wt(!1),r}function Kg(a){let r=J.useContext(ya);return r||wt(!1),r}function ep(a){let r=Kg(),i=r.matches[r.matches.length-1];return i.route.id||wt(!1),i.route.id}function qg(){var a;let r=J.useContext(Qh),i=Vg(),l=ep();return r!==void 0?r:(a=i.errors)==null?void 0:a[l]}function Wg(){let{router:a}=$g(Jh.UseNavigateStable),r=ep(Zh.UseNavigateStable),i=J.useRef(!1);return Gh(()=>{i.current=!0}),J.useCallback(function(c,h){h===void 0&&(h={}),i.current&&(typeof c=="number"?a.navigate(c):a.navigate(c,Al({fromRouteId:r},h)))},[a,r])}const nh={};function Yg(a,r,i){nh[a]||(nh[a]=!0)}function Qg(a,r){a==null||a.v7_startTransition,(a==null?void 0:a.v7_relativeSplatPath)===void 0&&(!r||r.v7_relativeSplatPath),r&&(r.v7_fetcherPersist,r.v7_normalizeFormMethod,r.v7_partialHydration,r.v7_skipActionErrorRevalidation)}function Gg(a){return Ig(a.context)}function Xg(a){let{basename:r="/",children:i=null,location:l,navigationType:c=en.Pop,navigator:h,static:g=!1,future:v}=a;xs()&&wt(!1);let x=r.replace(/^\/*/,"/"),E=J.useMemo(()=>({basename:x,navigator:h,static:g,future:Al({v7_relativeSplatPath:!1},v)}),[x,v,h,g]);typeof l=="string"&&(l=Za(l));let{pathname:_="/",search:k="",hash:T="",state:$=null,key:z="default"}=l,Z=J.useMemo(()=>{let re=ga(_,x);return re==null?null:{location:{pathname:re,search:k,hash:T,state:$,key:z},navigationType:c}},[x,_,k,T,$,z,c]);return Z==null?null:J.createElement(ei.Provider,{value:E},J.createElement(Bc.Provider,{children:i,value:Z}))}new Promise(()=>{});function Jg(a){let r={hasErrorBoundary:a.ErrorBoundary!=null||a.errorElement!=null};return a.Component&&Object.assign(r,{element:J.createElement(a.Component),Component:void 0}),a.HydrateFallback&&Object.assign(r,{hydrateFallbackElement:J.createElement(a.HydrateFallback),HydrateFallback:void 0}),a.ErrorBoundary&&Object.assign(r,{errorElement:J.createElement(a.ErrorBoundary),ErrorBoundary:void 0}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bo(){return bo=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(a[l]=i[l])}return a},bo.apply(this,arguments)}function tp(a,r){if(a==null)return{};var i={},l=Object.keys(a),c,h;for(h=0;h<l.length;h++)c=l[h],!(r.indexOf(c)>=0)&&(i[c]=a[c]);return i}function Zg(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function ey(a,r){return a.button===0&&(!r||r==="_self")&&!Zg(a)}const ty=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ny=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ry="6";try{window.__reactRouterVersion=ry}catch{}function ay(a,r){return hg({basename:r==null?void 0:r.basename,future:bo({},r==null?void 0:r.future,{v7_prependBasename:!0}),history:Im({window:r==null?void 0:r.window}),hydrationData:(r==null?void 0:r.hydrationData)||iy(),routes:a,mapRouteProperties:Jg,dataStrategy:r==null?void 0:r.dataStrategy,patchRoutesOnNavigation:r==null?void 0:r.patchRoutesOnNavigation,window:r==null?void 0:r.window}).initialize()}function iy(){var a;let r=(a=window)==null?void 0:a.__staticRouterHydrationData;return r&&r.errors&&(r=bo({},r,{errors:oy(r.errors)})),r}function oy(a){if(!a)return null;let r=Object.entries(a),i={};for(let[l,c]of r)if(c&&c.__type==="RouteErrorResponse")i[l]=new Ll(c.status,c.statusText,c.data,c.internal===!0);else if(c&&c.__type==="Error"){if(c.__subType){let h=window[c.__subType];if(typeof h=="function")try{let g=new h(c.message);g.stack="",i[l]=g}catch{}}if(i[l]==null){let h=new Error(c.message);h.stack="",i[l]=h}}else i[l]=c;return i}const np=J.createContext({isTransitioning:!1}),sy=J.createContext(new Map),ly="startTransition",rh=_m[ly],uy="flushSync",ah=Am[uy];function cy(a){rh?rh(a):a()}function cs(a){ah?ah(a):a()}class dy{constructor(){this.status="pending",this.promise=new Promise((r,i)=>{this.resolve=l=>{this.status==="pending"&&(this.status="resolved",r(l))},this.reject=l=>{this.status==="pending"&&(this.status="rejected",i(l))}})}}function fy(a){let{fallbackElement:r,router:i,future:l}=a,[c,h]=J.useState(i.state),[g,v]=J.useState(),[x,E]=J.useState({isTransitioning:!1}),[_,k]=J.useState(),[T,$]=J.useState(),[z,Z]=J.useState(),re=J.useRef(new Map),{v7_startTransition:we}=l||{},de=J.useCallback(ke=>{we?cy(ke):ke()},[we]),le=J.useCallback((ke,Oe)=>{let{deletedFetchers:_e,flushSync:ft,viewTransitionOpts:Pe}=Oe;ke.fetchers.forEach((Re,nt)=>{Re.data!==void 0&&re.current.set(nt,Re.data)}),_e.forEach(Re=>re.current.delete(Re));let be=i.window==null||i.window.document==null||typeof i.window.document.startViewTransition!="function";if(!Pe||be){ft?cs(()=>h(ke)):de(()=>h(ke));return}if(ft){cs(()=>{T&&(_&&_.resolve(),T.skipTransition()),E({isTransitioning:!0,flushSync:!0,currentLocation:Pe.currentLocation,nextLocation:Pe.nextLocation})});let Re=i.window.document.startViewTransition(()=>{cs(()=>h(ke))});Re.finished.finally(()=>{cs(()=>{k(void 0),$(void 0),v(void 0),E({isTransitioning:!1})})}),cs(()=>$(Re));return}T?(_&&_.resolve(),T.skipTransition(),Z({state:ke,currentLocation:Pe.currentLocation,nextLocation:Pe.nextLocation})):(v(ke),E({isTransitioning:!0,flushSync:!1,currentLocation:Pe.currentLocation,nextLocation:Pe.nextLocation}))},[i.window,T,_,re,de]);J.useLayoutEffect(()=>i.subscribe(le),[i,le]),J.useEffect(()=>{x.isTransitioning&&!x.flushSync&&k(new dy)},[x]),J.useEffect(()=>{if(_&&g&&i.window){let ke=g,Oe=_.promise,_e=i.window.document.startViewTransition(async()=>{de(()=>h(ke)),await Oe});_e.finished.finally(()=>{k(void 0),$(void 0),v(void 0),E({isTransitioning:!1})}),$(_e)}},[de,g,_,i.window]),J.useEffect(()=>{_&&g&&c.location.key===g.location.key&&_.resolve()},[_,T,c.location,g]),J.useEffect(()=>{!x.isTransitioning&&z&&(v(z.state),E({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}),Z(void 0))},[x.isTransitioning,z]),J.useEffect(()=>{},[]);let ie=J.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:ke=>i.navigate(ke),push:(ke,Oe,_e)=>i.navigate(ke,{state:Oe,preventScrollReset:_e==null?void 0:_e.preventScrollReset}),replace:(ke,Oe,_e)=>i.navigate(ke,{replace:!0,state:Oe,preventScrollReset:_e==null?void 0:_e.preventScrollReset})}),[i]),We=i.basename||"/",Ge=J.useMemo(()=>({router:i,navigator:ie,static:!1,basename:We}),[i,ie,We]),K=J.useMemo(()=>({v7_relativeSplatPath:i.future.v7_relativeSplatPath}),[i.future.v7_relativeSplatPath]);return J.useEffect(()=>Qg(l,i.future),[l,i.future]),J.createElement(J.Fragment,null,J.createElement(vs.Provider,{value:Ge},J.createElement(Fc.Provider,{value:c},J.createElement(sy.Provider,{value:re.current},J.createElement(np.Provider,{value:x},J.createElement(Xg,{basename:We,location:c.location,navigationType:c.historyAction,navigator:ie,future:K},c.initialized||i.future.v7_partialHydration?J.createElement(hy,{routes:i.routes,future:i.future,state:c}):r))))),null)}const hy=J.memo(py);function py(a){let{routes:r,future:i,state:l}=a;return Mg(r,void 0,l,i)}const my=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,So=J.forwardRef(function(r,i){let{onClick:l,relative:c,reloadDocument:h,replace:g,state:v,target:x,to:E,preventScrollReset:_,viewTransition:k}=r,T=tp(r,ty),{basename:$}=J.useContext(ei),z,Z=!1;if(typeof E=="string"&&gy.test(E)&&(z=E,my))try{let le=new URL(window.location.href),ie=E.startsWith("//")?new URL(le.protocol+E):new URL(E),We=ga(ie.pathname,$);ie.origin===le.origin&&We!=null?E=We+ie.search+ie.hash:Z=!0}catch{}let re=Dg(E,{relative:c}),we=vy(E,{replace:g,state:v,target:x,preventScrollReset:_,relative:c,viewTransition:k});function de(le){l&&l(le),le.defaultPrevented||we(le)}return J.createElement("a",bo({},T,{href:z||re,onClick:Z||h?l:de,ref:i,target:x}))}),ih=J.forwardRef(function(r,i){let{"aria-current":l="page",caseSensitive:c=!1,className:h="",end:g=!1,style:v,to:x,viewTransition:E,children:_}=r,k=tp(r,ny),T=Vl(x,{relative:k.relative}),$=ws(),z=J.useContext(Fc),{navigator:Z,basename:re}=J.useContext(ei),we=z!=null&&xy(T)&&E===!0,de=Z.encodeLocation?Z.encodeLocation(T).pathname:T.pathname,le=$.pathname,ie=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;c||(le=le.toLowerCase(),ie=ie?ie.toLowerCase():null,de=de.toLowerCase()),ie&&re&&(ie=ga(ie,re)||ie);const We=de!=="/"&&de.endsWith("/")?de.length-1:de.length;let Ge=le===de||!g&&le.startsWith(de)&&le.charAt(We)==="/",K=ie!=null&&(ie===de||!g&&ie.startsWith(de)&&ie.charAt(de.length)==="/"),ke={isActive:Ge,isPending:K,isTransitioning:we},Oe=Ge?l:void 0,_e;typeof h=="function"?_e=h(ke):_e=[h,Ge?"active":null,K?"pending":null,we?"transitioning":null].filter(Boolean).join(" ");let ft=typeof v=="function"?v(ke):v;return J.createElement(So,bo({},k,{"aria-current":Oe,className:_e,ref:i,style:ft,to:x,viewTransition:E}),typeof _=="function"?_(ke):_)});var Nc;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(Nc||(Nc={}));var oh;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(oh||(oh={}));function yy(a){let r=J.useContext(vs);return r||wt(!1),r}function vy(a,r){let{target:i,replace:l,state:c,preventScrollReset:h,relative:g,viewTransition:v}=r===void 0?{}:r,x=Eo(),E=ws(),_=Vl(a,{relative:g});return J.useCallback(k=>{if(ey(k,i)){k.preventDefault();let T=l!==void 0?l:Li(E)===Li(_);x(a,{replace:T,state:c,preventScrollReset:h,relative:g,viewTransition:v})}},[E,x,_,l,c,i,a,h,g,v])}function xy(a,r){r===void 0&&(r={});let i=J.useContext(np);i==null&&wt(!1);let{basename:l}=yy(Nc.useViewTransitionState),c=Vl(a,{relative:r.relative});if(!i.isTransitioning)return!1;let h=ga(i.currentLocation.pathname,l)||i.currentLocation.pathname,g=ga(i.nextLocation.pathname,l)||i.nextLocation.pathname;return Dl(c.pathname,g)!=null||Dl(c.pathname,h)!=null}const sh=a=>{let r;const i=new Set,l=(E,_)=>{const k=typeof E=="function"?E(r):E;if(!Object.is(k,r)){const T=r;r=_??(typeof k!="object"||k===null)?k:Object.assign({},r,k),i.forEach($=>$(r,T))}},c=()=>r,v={setState:l,getState:c,getInitialState:()=>x,subscribe:E=>(i.add(E),()=>i.delete(E))},x=r=a(l,c,v);return v},wy=(a=>a?sh(a):sh),by=a=>a;function Sy(a,r=by){const i=xo.useSyncExternalStore(a.subscribe,xo.useCallback(()=>r(a.getState()),[a,r]),xo.useCallback(()=>r(a.getInitialState()),[a,r]));return xo.useDebugValue(i),i}const lh=a=>{const r=wy(a),i=l=>Sy(r,l);return Object.assign(i,r),i},Ey=(a=>a?lh(a):lh),rp="dagda-theme";function uh(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function ky(){const a=localStorage.getItem(rp);return a==="light"||a==="dark"||a==="auto"?a:"auto"}const ap=Ey(a=>{const r=ky(),i=r==="auto"?uh():r;return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",l=>{a(c=>{if(c.choice!=="auto")return{};const h=l.matches?"dark":"light";return document.documentElement.setAttribute("data-theme",h),{resolvedTheme:h}})}),{choice:r,resolvedTheme:i,setTheme:l=>{localStorage.setItem(rp,l);const c=l==="auto"?uh():l;document.documentElement.setAttribute("data-theme",c),a({choice:l,resolvedTheme:c})}}});function Cy(){const{resolvedTheme:a}=ap();return J.useEffect(()=>{document.documentElement.setAttribute("data-theme",a)},[a]),S.jsxs("div",{className:"flex min-h-screen flex-col bg-base-100 text-base-content",children:[S.jsxs("header",{className:"navbar bg-base-200 shadow-sm",children:[S.jsx("div",{className:"flex-1",children:S.jsx(ih,{to:"/",className:"btn btn-ghost text-xl font-bold",children:" Dagda"})}),S.jsx("div",{className:"flex-none",children:S.jsx(ih,{to:"/settings",className:"btn btn-ghost btn-sm",children:""})})]}),S.jsx("main",{className:"flex-1",children:S.jsx(Gg,{})})]})}const dt=a=>typeof a=="string",ds=()=>{let a,r;const i=new Promise((l,c)=>{a=l,r=c});return i.resolve=a,i.reject=r,i},ch=a=>a==null?"":""+a,Ny=(a,r,i)=>{a.forEach(l=>{r[l]&&(i[l]=r[l])})},_y=/###/g,dh=a=>a&&a.indexOf("###")>-1?a.replace(_y,"."):a,fh=a=>!a||dt(a),hs=(a,r,i)=>{const l=dt(r)?r.split("."):r;let c=0;for(;c<l.length-1;){if(fh(a))return{};const h=dh(l[c]);!a[h]&&i&&(a[h]=new i),Object.prototype.hasOwnProperty.call(a,h)?a=a[h]:a={},++c}return fh(a)?{}:{obj:a,k:dh(l[c])}},hh=(a,r,i)=>{const{obj:l,k:c}=hs(a,r,Object);if(l!==void 0||r.length===1){l[c]=i;return}let h=r[r.length-1],g=r.slice(0,r.length-1),v=hs(a,g,Object);for(;v.obj===void 0&&g.length;)h=`${g[g.length-1]}.${h}`,g=g.slice(0,g.length-1),v=hs(a,g,Object),v!=null&&v.obj&&typeof v.obj[`${v.k}.${h}`]<"u"&&(v.obj=void 0);v.obj[`${v.k}.${h}`]=i},Py=(a,r,i,l)=>{const{obj:c,k:h}=hs(a,r,Object);c[h]=c[h]||[],c[h].push(i)},Il=(a,r)=>{const{obj:i,k:l}=hs(a,r);if(i&&Object.prototype.hasOwnProperty.call(i,l))return i[l]},Ry=(a,r,i)=>{const l=Il(a,i);return l!==void 0?l:Il(r,i)},ip=(a,r,i)=>{for(const l in r)l!=="__proto__"&&l!=="constructor"&&(l in a?dt(a[l])||a[l]instanceof String||dt(r[l])||r[l]instanceof String?i&&(a[l]=r[l]):ip(a[l],r[l],i):a[l]=r[l]);return a},Ri=a=>a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var jy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ty=a=>dt(a)?a.replace(/[&<>"'\/]/g,r=>jy[r]):a;class Oy{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const i=this.regExpMap.get(r);if(i!==void 0)return i;const l=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,l),this.regExpQueue.push(r),l}}const Dy=[" ",",","?","!",";"],Ly=new Oy(20),Ay=(a,r,i)=>{r=r||"",i=i||"";const l=Dy.filter(g=>r.indexOf(g)<0&&i.indexOf(g)<0);if(l.length===0)return!0;const c=Ly.getRegExp(`(${l.map(g=>g==="?"?"\\?":g).join("|")})`);let h=!c.test(a);if(!h){const g=a.indexOf(i);g>0&&!c.test(a.substring(0,g))&&(h=!0)}return h},_c=(a,r,i=".")=>{if(!a)return;if(a[r])return Object.prototype.hasOwnProperty.call(a,r)?a[r]:void 0;const l=r.split(i);let c=a;for(let h=0;h<l.length;){if(!c||typeof c!="object")return;let g,v="";for(let x=h;x<l.length;++x)if(x!==h&&(v+=i),v+=l[x],g=c[v],g!==void 0){if(["string","number","boolean"].indexOf(typeof g)>-1&&x<l.length-1)continue;h+=x-h+1;break}c=g}return c},ys=a=>a==null?void 0:a.replace("_","-"),Iy={type:"logger",log(a){this.output("log",a)},warn(a){this.output("warn",a)},error(a){this.output("error",a)},output(a,r){var i,l;(l=(i=console==null?void 0:console[a])==null?void 0:i.apply)==null||l.call(i,console,r)}};class Ml{constructor(r,i={}){this.init(r,i)}init(r,i={}){this.prefix=i.prefix||"i18next:",this.logger=r||Iy,this.options=i,this.debug=i.debug}log(...r){return this.forward(r,"log","",!0)}warn(...r){return this.forward(r,"warn","",!0)}error(...r){return this.forward(r,"error","")}deprecate(...r){return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(r,i,l,c){return c&&!this.debug?null:(dt(r[0])&&(r[0]=`${l}${this.prefix} ${r[0]}`),this.logger[i](r))}create(r){return new Ml(this.logger,{prefix:`${this.prefix}:${r}:`,...this.options})}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new Ml(this.logger,r)}}var Qr=new Ml;class Kl{constructor(){this.observers={}}on(r,i){return r.split(" ").forEach(l=>{this.observers[l]||(this.observers[l]=new Map);const c=this.observers[l].get(i)||0;this.observers[l].set(i,c+1)}),this}off(r,i){if(this.observers[r]){if(!i){delete this.observers[r];return}this.observers[r].delete(i)}}emit(r,...i){this.observers[r]&&Array.from(this.observers[r].entries()).forEach(([c,h])=>{for(let g=0;g<h;g++)c(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([c,h])=>{for(let g=0;g<h;g++)c.apply(c,[r,...i])})}}class ph extends Kl{constructor(r,i={ns:["translation"],defaultNS:"translation"}){super(),this.data=r||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){const i=this.options.ns.indexOf(r);i>-1&&this.options.ns.splice(i,1)}getResource(r,i,l,c={}){var E,_;const h=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,g=c.ignoreJSONStructure!==void 0?c.ignoreJSONStructure:this.options.ignoreJSONStructure;let v;r.indexOf(".")>-1?v=r.split("."):(v=[r,i],l&&(Array.isArray(l)?v.push(...l):dt(l)&&h?v.push(...l.split(h)):v.push(l)));const x=Il(this.data,v);return!x&&!i&&!l&&r.indexOf(".")>-1&&(r=v[0],i=v[1],l=v.slice(2).join(".")),x||!g||!dt(l)?x:_c((_=(E=this.data)==null?void 0:E[r])==null?void 0:_[i],l,h)}addResource(r,i,l,c,h={silent:!1}){const g=h.keySeparator!==void 0?h.keySeparator:this.options.keySeparator;let v=[r,i];l&&(v=v.concat(g?l.split(g):l)),r.indexOf(".")>-1&&(v=r.split("."),c=i,i=v[1]),this.addNamespaces(i),hh(this.data,v,c),h.silent||this.emit("added",r,i,l,c)}addResources(r,i,l,c={silent:!1}){for(const h in l)(dt(l[h])||Array.isArray(l[h]))&&this.addResource(r,i,h,l[h],{silent:!0});c.silent||this.emit("added",r,i,l)}addResourceBundle(r,i,l,c,h,g={silent:!1,skipCopy:!1}){let v=[r,i];r.indexOf(".")>-1&&(v=r.split("."),c=l,l=i,i=v[1]),this.addNamespaces(i);let x=Il(this.data,v)||{};g.skipCopy||(l=JSON.parse(JSON.stringify(l))),c?ip(x,l,h):x={...x,...l},hh(this.data,v,x),g.silent||this.emit("added",r,i,l)}removeResourceBundle(r,i){this.hasResourceBundle(r,i)&&delete this.data[r][i],this.removeNamespaces(i),this.emit("removed",r,i)}hasResourceBundle(r,i){return this.getResource(r,i)!==void 0}getResourceBundle(r,i){return i||(i=this.options.defaultNS),this.getResource(r,i)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){const i=this.getDataByLanguage(r);return!!(i&&Object.keys(i)||[]).find(c=>i[c]&&Object.keys(i[c]).length>0)}toJSON(){return this.data}}var op={processors:{},addPostProcessor(a){this.processors[a.name]=a},handle(a,r,i,l,c){return a.forEach(h=>{var g;r=((g=this.processors[h])==null?void 0:g.process(r,i,l,c))??r}),r}};const sp=Symbol("i18next/PATH_KEY");function My(){const a=[],r=Object.create(null);let i;return r.get=(l,c)=>{var h;return(h=i==null?void 0:i.revoke)==null||h.call(i),c===sp?a:(a.push(c),i=Proxy.revocable(l,r),i.proxy)},Proxy.revocable(Object.create(null),r).proxy}function Pc(a,r){const{[sp]:i}=a(My());return i.join((r==null?void 0:r.keySeparator)??".")}const mh={},gc=a=>!dt(a)&&typeof a!="boolean"&&typeof a!="number";class Fl extends Kl{constructor(r,i={}){super(),Ny(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Qr.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r,i={interpolation:{}}){const l={...i};if(r==null)return!1;const c=this.resolve(r,l);if((c==null?void 0:c.res)===void 0)return!1;const h=gc(c.res);return!(l.returnObjects===!1&&h)}extractFromKey(r,i){let l=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;l===void 0&&(l=":");const c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let h=i.ns||this.options.defaultNS||[];const g=l&&r.indexOf(l)>-1,v=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!Ay(r,l,c);if(g&&!v){const x=r.match(this.interpolator.nestingRegexp);if(x&&x.length>0)return{key:r,namespaces:dt(h)?[h]:h};const E=r.split(l);(l!==c||l===c&&this.options.ns.indexOf(E[0])>-1)&&(h=E.shift()),r=E.join(c)}return{key:r,namespaces:dt(h)?[h]:h}}translate(r,i,l){let c=typeof i=="object"?{...i}:i;if(typeof c!="object"&&this.options.overloadTranslationOptionHandler&&(c=this.options.overloadTranslationOptionHandler(arguments)),typeof c=="object"&&(c={...c}),c||(c={}),r==null)return"";typeof r=="function"&&(r=Pc(r,{...this.options,...c})),Array.isArray(r)||(r=[String(r)]);const h=c.returnDetails!==void 0?c.returnDetails:this.options.returnDetails,g=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,{key:v,namespaces:x}=this.extractFromKey(r[r.length-1],c),E=x[x.length-1];let _=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;_===void 0&&(_=":");const k=c.lng||this.language,T=c.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((k==null?void 0:k.toLowerCase())==="cimode")return T?h?{res:`${E}${_}${v}`,usedKey:v,exactUsedKey:v,usedLng:k,usedNS:E,usedParams:this.getUsedParamsDetails(c)}:`${E}${_}${v}`:h?{res:v,usedKey:v,exactUsedKey:v,usedLng:k,usedNS:E,usedParams:this.getUsedParamsDetails(c)}:v;const $=this.resolve(r,c);let z=$==null?void 0:$.res;const Z=($==null?void 0:$.usedKey)||v,re=($==null?void 0:$.exactUsedKey)||v,we=["[object Number]","[object Function]","[object RegExp]"],de=c.joinArrays!==void 0?c.joinArrays:this.options.joinArrays,le=!this.i18nFormat||this.i18nFormat.handleAsObject,ie=c.count!==void 0&&!dt(c.count),We=Fl.hasDefaultValue(c),Ge=ie?this.pluralResolver.getSuffix(k,c.count,c):"",K=c.ordinal&&ie?this.pluralResolver.getSuffix(k,c.count,{ordinal:!1}):"",ke=ie&&!c.ordinal&&c.count===0,Oe=ke&&c[`defaultValue${this.options.pluralSeparator}zero`]||c[`defaultValue${Ge}`]||c[`defaultValue${K}`]||c.defaultValue;let _e=z;le&&!z&&We&&(_e=Oe);const ft=gc(_e),Pe=Object.prototype.toString.apply(_e);if(le&&_e&&ft&&we.indexOf(Pe)<0&&!(dt(de)&&Array.isArray(_e))){if(!c.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const be=this.options.returnedObjectHandler?this.options.returnedObjectHandler(Z,_e,{...c,ns:x}):`key '${v} (${this.language})' returned an object instead of string.`;return h?($.res=be,$.usedParams=this.getUsedParamsDetails(c),$):be}if(g){const be=Array.isArray(_e),Re=be?[]:{},nt=be?re:Z;for(const at in _e)if(Object.prototype.hasOwnProperty.call(_e,at)){const st=`${nt}${g}${at}`;We&&!z?Re[at]=this.translate(st,{...c,defaultValue:gc(Oe)?Oe[at]:void 0,joinArrays:!1,ns:x}):Re[at]=this.translate(st,{...c,joinArrays:!1,ns:x}),Re[at]===st&&(Re[at]=_e[at])}z=Re}}else if(le&&dt(de)&&Array.isArray(z))z=z.join(de),z&&(z=this.extendTranslation(z,r,c,l));else{let be=!1,Re=!1;!this.isValidLookup(z)&&We&&(be=!0,z=Oe),this.isValidLookup(z)||(Re=!0,z=v);const at=(c.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Re?void 0:z,st=We&&Oe!==z&&this.options.updateMissing;if(Re||be||st){if(this.logger.log(st?"updateKey":"missingKey",k,E,v,st?Oe:z),g){const P=this.resolve(v,{...c,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let se=[];const De=this.languageUtils.getFallbackCodes(this.options.fallbackLng,c.lng||this.language);if(this.options.saveMissingTo==="fallback"&&De&&De[0])for(let P=0;P<De.length;P++)se.push(De[P]);else this.options.saveMissingTo==="all"?se=this.languageUtils.toResolveHierarchy(c.lng||this.language):se.push(c.lng||this.language);const Y=(P,X,je)=>{var $e;const ge=We&&je!==z?je:at;this.options.missingKeyHandler?this.options.missingKeyHandler(P,E,X,ge,st,c):($e=this.backendConnector)!=null&&$e.saveMissing&&this.backendConnector.saveMissing(P,E,X,ge,st,c),this.emit("missingKey",P,E,X,z)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ie?se.forEach(P=>{const X=this.pluralResolver.getSuffixes(P,c);ke&&c[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(je=>{Y([P],v+je,c[`defaultValue${je}`]||Oe)})}):Y(se,v,Oe))}z=this.extendTranslation(z,r,c,$,l),Re&&z===v&&this.options.appendNamespaceToMissingKey&&(z=`${E}${_}${v}`),(Re||be)&&this.options.parseMissingKeyHandler&&(z=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${E}${_}${v}`:v,be?z:void 0,c))}return h?($.res=z,$.usedParams=this.getUsedParamsDetails(c),$):z}extendTranslation(r,i,l,c,h){var x,E;if((x=this.i18nFormat)!=null&&x.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...l},l.lng||this.language||c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!l.skipInterpolation){l.interpolation&&this.interpolator.init({...l,interpolation:{...this.options.interpolation,...l.interpolation}});const _=dt(r)&&(((E=l==null?void 0:l.interpolation)==null?void 0:E.skipOnVariables)!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let k;if(_){const $=r.match(this.interpolator.nestingRegexp);k=$&&$.length}let T=l.replace&&!dt(l.replace)?l.replace:l;if(this.options.interpolation.defaultVariables&&(T={...this.options.interpolation.defaultVariables,...T}),r=this.interpolator.interpolate(r,T,l.lng||this.language||c.usedLng,l),_){const $=r.match(this.interpolator.nestingRegexp),z=$&&$.length;k<z&&(l.nest=!1)}!l.lng&&c&&c.res&&(l.lng=this.language||c.usedLng),l.nest!==!1&&(r=this.interpolator.nest(r,(...$)=>(h==null?void 0:h[0])===$[0]&&!l.context?(this.logger.warn(`It seems you are nesting recursively key: ${$[0]} in key: ${i[0]}`),null):this.translate(...$,i),l)),l.interpolation&&this.interpolator.reset()}const g=l.postProcess||this.options.postProcess,v=dt(g)?[g]:g;return r!=null&&(v!=null&&v.length)&&l.applyPostProcessor!==!1&&(r=op.handle(v,r,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...c,usedParams:this.getUsedParamsDetails(l)},...l}:l,this)),r}resolve(r,i={}){let l,c,h,g,v;return dt(r)&&(r=[r]),r.forEach(x=>{if(this.isValidLookup(l))return;const E=this.extractFromKey(x,i),_=E.key;c=_;let k=E.namespaces;this.options.fallbackNS&&(k=k.concat(this.options.fallbackNS));const T=i.count!==void 0&&!dt(i.count),$=T&&!i.ordinal&&i.count===0,z=i.context!==void 0&&(dt(i.context)||typeof i.context=="number")&&i.context!=="",Z=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);k.forEach(re=>{var we,de;this.isValidLookup(l)||(v=re,!mh[`${Z[0]}-${re}`]&&((we=this.utils)!=null&&we.hasLoadedNamespace)&&!((de=this.utils)!=null&&de.hasLoadedNamespace(v))&&(mh[`${Z[0]}-${re}`]=!0,this.logger.warn(`key "${c}" for languages "${Z.join(", ")}" won't get resolved as namespace "${v}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Z.forEach(le=>{var Ge;if(this.isValidLookup(l))return;g=le;const ie=[_];if((Ge=this.i18nFormat)!=null&&Ge.addLookupKeys)this.i18nFormat.addLookupKeys(ie,_,le,re,i);else{let K;T&&(K=this.pluralResolver.getSuffix(le,i.count,i));const ke=`${this.options.pluralSeparator}zero`,Oe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(T&&(i.ordinal&&K.indexOf(Oe)===0&&ie.push(_+K.replace(Oe,this.options.pluralSeparator)),ie.push(_+K),$&&ie.push(_+ke)),z){const _e=`${_}${this.options.contextSeparator||"_"}${i.context}`;ie.push(_e),T&&(i.ordinal&&K.indexOf(Oe)===0&&ie.push(_e+K.replace(Oe,this.options.pluralSeparator)),ie.push(_e+K),$&&ie.push(_e+ke))}}let We;for(;We=ie.pop();)this.isValidLookup(l)||(h=We,l=this.getResource(le,re,We,i))}))})}),{res:l,usedKey:c,exactUsedKey:h,usedLng:g,usedNS:v}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,i,l,c={}){var h;return(h=this.i18nFormat)!=null&&h.getResource?this.i18nFormat.getResource(r,i,l,c):this.resourceStore.getResource(r,i,l,c)}getUsedParamsDetails(r={}){const i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],l=r.replace&&!dt(r.replace);let c=l?r.replace:r;if(l&&typeof r.count<"u"&&(c.count=r.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!l){c={...c};for(const h of i)delete c[h]}return c}static hasDefaultValue(r){const i="defaultValue";for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)&&i===l.substring(0,i.length)&&r[l]!==void 0)return!0;return!1}}class gh{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Qr.create("languageUtils")}getScriptPartFromCode(r){if(r=ys(r),!r||r.indexOf("-")<0)return null;const i=r.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(r){if(r=ys(r),!r||r.indexOf("-")<0)return r;const i=r.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(r){if(dt(r)&&r.indexOf("-")>-1){let i;try{i=Intl.getCanonicalLocales(r)[0]}catch{}return i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i||(this.options.lowerCaseLng?r.toLowerCase():r)}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let i;return r.forEach(l=>{if(i)return;const c=this.formatLanguageCode(l);(!this.options.supportedLngs||this.isSupportedCode(c))&&(i=c)}),!i&&this.options.supportedLngs&&r.forEach(l=>{if(i)return;const c=this.getScriptPartFromCode(l);if(this.isSupportedCode(c))return i=c;const h=this.getLanguagePartFromCode(l);if(this.isSupportedCode(h))return i=h;i=this.options.supportedLngs.find(g=>{if(g===h)return g;if(!(g.indexOf("-")<0&&h.indexOf("-")<0)&&(g.indexOf("-")>0&&h.indexOf("-")<0&&g.substring(0,g.indexOf("-"))===h||g.indexOf(h)===0&&h.length>1))return g})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(r,i){if(!r)return[];if(typeof r=="function"&&(r=r(i)),dt(r)&&(r=[r]),Array.isArray(r))return r;if(!i)return r.default||[];let l=r[i];return l||(l=r[this.getScriptPartFromCode(i)]),l||(l=r[this.formatLanguageCode(i)]),l||(l=r[this.getLanguagePartFromCode(i)]),l||(l=r.default),l||[]}toResolveHierarchy(r,i){const l=this.getFallbackCodes((i===!1?[]:i)||this.options.fallbackLng||[],r),c=[],h=g=>{g&&(this.isSupportedCode(g)?c.push(g):this.logger.warn(`rejecting language code not found in supportedLngs: ${g}`))};return dt(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&h(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&h(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&h(this.getLanguagePartFromCode(r))):dt(r)&&h(this.formatLanguageCode(r)),l.forEach(g=>{c.indexOf(g)<0&&h(this.formatLanguageCode(g))}),c}}const yh={zero:0,one:1,two:2,few:3,many:4,other:5},vh={select:a=>a===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Fy{constructor(r,i={}){this.languageUtils=r,this.options=i,this.logger=Qr.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(r,i={}){const l=ys(r==="dev"?"en":r),c=i.ordinal?"ordinal":"cardinal",h=JSON.stringify({cleanedCode:l,type:c});if(h in this.pluralRulesCache)return this.pluralRulesCache[h];let g;try{g=new Intl.PluralRules(l,{type:c})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),vh;if(!r.match(/-|_/))return vh;const x=this.languageUtils.getLanguagePartFromCode(r);g=this.getRule(x,i)}return this.pluralRulesCache[h]=g,g}needsPlural(r,i={}){let l=this.getRule(r,i);return l||(l=this.getRule("dev",i)),(l==null?void 0:l.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(r,i,l={}){return this.getSuffixes(r,l).map(c=>`${i}${c}`)}getSuffixes(r,i={}){let l=this.getRule(r,i);return l||(l=this.getRule("dev",i)),l?l.resolvedOptions().pluralCategories.sort((c,h)=>yh[c]-yh[h]).map(c=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${c}`):[]}getSuffix(r,i,l={}){const c=this.getRule(r,l);return c?`${this.options.prepend}${l.ordinal?`ordinal${this.options.prepend}`:""}${c.select(i)}`:(this.logger.warn(`no plural rule found for: ${r}`),this.getSuffix("dev",i,l))}}const xh=(a,r,i,l=".",c=!0)=>{let h=Ry(a,r,i);return!h&&c&&dt(i)&&(h=_c(a,i,l),h===void 0&&(h=_c(r,i,l))),h},yc=a=>a.replace(/\$/g,"$$$$");class wh{constructor(r={}){var i;this.logger=Qr.create("interpolator"),this.options=r,this.format=((i=r==null?void 0:r.interpolation)==null?void 0:i.format)||(l=>l),this.init(r)}init(r={}){r.interpolation||(r.interpolation={escapeValue:!0});const{escape:i,escapeValue:l,useRawValueToEscape:c,prefix:h,prefixEscaped:g,suffix:v,suffixEscaped:x,formatSeparator:E,unescapeSuffix:_,unescapePrefix:k,nestingPrefix:T,nestingPrefixEscaped:$,nestingSuffix:z,nestingSuffixEscaped:Z,nestingOptionsSeparator:re,maxReplaces:we,alwaysFormat:de}=r.interpolation;this.escape=i!==void 0?i:Ty,this.escapeValue=l!==void 0?l:!0,this.useRawValueToEscape=c!==void 0?c:!1,this.prefix=h?Ri(h):g||"{{",this.suffix=v?Ri(v):x||"}}",this.formatSeparator=E||",",this.unescapePrefix=_?"":k||"-",this.unescapeSuffix=this.unescapePrefix?"":_||"",this.nestingPrefix=T?Ri(T):$||Ri("$t("),this.nestingSuffix=z?Ri(z):Z||Ri(")"),this.nestingOptionsSeparator=re||",",this.maxReplaces=we||1e3,this.alwaysFormat=de!==void 0?de:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const r=(i,l)=>(i==null?void 0:i.source)===l?(i.lastIndex=0,i):new RegExp(l,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(r,i,l,c){var $;let h,g,v;const x=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},E=z=>{if(z.indexOf(this.formatSeparator)<0){const de=xh(i,x,z,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(de,void 0,l,{...c,...i,interpolationkey:z}):de}const Z=z.split(this.formatSeparator),re=Z.shift().trim(),we=Z.join(this.formatSeparator).trim();return this.format(xh(i,x,re,this.options.keySeparator,this.options.ignoreJSONStructure),we,l,{...c,...i,interpolationkey:re})};this.resetRegExp();const _=(c==null?void 0:c.missingInterpolationHandler)||this.options.missingInterpolationHandler,k=(($=c==null?void 0:c.interpolation)==null?void 0:$.skipOnVariables)!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:z=>yc(z)},{regex:this.regexp,safeValue:z=>this.escapeValue?yc(this.escape(z)):yc(z)}].forEach(z=>{for(v=0;h=z.regex.exec(r);){const Z=h[1].trim();if(g=E(Z),g===void 0)if(typeof _=="function"){const we=_(r,h,c);g=dt(we)?we:""}else if(c&&Object.prototype.hasOwnProperty.call(c,Z))g="";else if(k){g=h[0];continue}else this.logger.warn(`missed to pass in variable ${Z} for interpolating ${r}`),g="";else!dt(g)&&!this.useRawValueToEscape&&(g=ch(g));const re=z.safeValue(g);if(r=r.replace(h[0],re),k?(z.regex.lastIndex+=g.length,z.regex.lastIndex-=h[0].length):z.regex.lastIndex=0,v++,v>=this.maxReplaces)break}}),r}nest(r,i,l={}){let c,h,g;const v=(x,E)=>{const _=this.nestingOptionsSeparator;if(x.indexOf(_)<0)return x;const k=x.split(new RegExp(`${Ri(_)}[ ]*{`));let T=`{${k[1]}`;x=k[0],T=this.interpolate(T,g);const $=T.match(/'/g),z=T.match(/"/g);((($==null?void 0:$.length)??0)%2===0&&!z||((z==null?void 0:z.length)??0)%2!==0)&&(T=T.replace(/'/g,'"'));try{g=JSON.parse(T),E&&(g={...E,...g})}catch(Z){return this.logger.warn(`failed parsing options string in nesting for key ${x}`,Z),`${x}${_}${T}`}return g.defaultValue&&g.defaultValue.indexOf(this.prefix)>-1&&delete g.defaultValue,x};for(;c=this.nestingRegexp.exec(r);){let x=[];g={...l},g=g.replace&&!dt(g.replace)?g.replace:g,g.applyPostProcessor=!1,delete g.defaultValue;const E=/{.*}/.test(c[1])?c[1].lastIndexOf("}")+1:c[1].indexOf(this.formatSeparator);if(E!==-1&&(x=c[1].slice(E).split(this.formatSeparator).map(_=>_.trim()).filter(Boolean),c[1]=c[1].slice(0,E)),h=i(v.call(this,c[1].trim(),g),g),h&&c[0]===r&&!dt(h))return h;dt(h)||(h=ch(h)),h||(this.logger.warn(`missed to resolve ${c[1]} for nesting ${r}`),h=""),x.length&&(h=x.reduce((_,k)=>this.format(_,k,l.lng,{...l,interpolationkey:c[1].trim()}),h.trim())),r=r.replace(c[0],h),this.regexp.lastIndex=0}return r}}const By=a=>{let r=a.toLowerCase().trim();const i={};if(a.indexOf("(")>-1){const l=a.split("(");r=l[0].toLowerCase().trim();const c=l[1].substring(0,l[1].length-1);r==="currency"&&c.indexOf(":")<0?i.currency||(i.currency=c.trim()):r==="relativetime"&&c.indexOf(":")<0?i.range||(i.range=c.trim()):c.split(";").forEach(g=>{if(g){const[v,...x]=g.split(":"),E=x.join(":").trim().replace(/^'+|'+$/g,""),_=v.trim();i[_]||(i[_]=E),E==="false"&&(i[_]=!1),E==="true"&&(i[_]=!0),isNaN(E)||(i[_]=parseInt(E,10))}})}return{formatName:r,formatOptions:i}},bh=a=>{const r={};return(i,l,c)=>{let h=c;c&&c.interpolationkey&&c.formatParams&&c.formatParams[c.interpolationkey]&&c[c.interpolationkey]&&(h={...h,[c.interpolationkey]:void 0});const g=l+JSON.stringify(h);let v=r[g];return v||(v=a(ys(l),c),r[g]=v),v(i)}},Uy=a=>(r,i,l)=>a(ys(i),l)(r);class zy{constructor(r={}){this.logger=Qr.create("formatter"),this.options=r,this.init(r)}init(r,i={interpolation:{}}){this.formatSeparator=i.interpolation.formatSeparator||",";const l=i.cacheInBuiltFormats?bh:Uy;this.formats={number:l((c,h)=>{const g=new Intl.NumberFormat(c,{...h});return v=>g.format(v)}),currency:l((c,h)=>{const g=new Intl.NumberFormat(c,{...h,style:"currency"});return v=>g.format(v)}),datetime:l((c,h)=>{const g=new Intl.DateTimeFormat(c,{...h});return v=>g.format(v)}),relativetime:l((c,h)=>{const g=new Intl.RelativeTimeFormat(c,{...h});return v=>g.format(v,h.range||"day")}),list:l((c,h)=>{const g=new Intl.ListFormat(c,{...h});return v=>g.format(v)})}}add(r,i){this.formats[r.toLowerCase().trim()]=i}addCached(r,i){this.formats[r.toLowerCase().trim()]=bh(i)}format(r,i,l,c={}){const h=i.split(this.formatSeparator);if(h.length>1&&h[0].indexOf("(")>1&&h[0].indexOf(")")<0&&h.find(v=>v.indexOf(")")>-1)){const v=h.findIndex(x=>x.indexOf(")")>-1);h[0]=[h[0],...h.splice(1,v)].join(this.formatSeparator)}return h.reduce((v,x)=>{var k;const{formatName:E,formatOptions:_}=By(x);if(this.formats[E]){let T=v;try{const $=((k=c==null?void 0:c.formatParams)==null?void 0:k[c.interpolationkey])||{},z=$.locale||$.lng||c.locale||c.lng||l;T=this.formats[E](v,z,{..._,...c,...$})}catch($){this.logger.warn($)}return T}else this.logger.warn(`there was no format function for ${E}`);return v},r)}}const Hy=(a,r)=>{a.pending[r]!==void 0&&(delete a.pending[r],a.pendingCount--)};class $y extends Kl{constructor(r,i,l,c={}){var h,g;super(),this.backend=r,this.store=i,this.services=l,this.languageUtils=l.languageUtils,this.options=c,this.logger=Qr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=c.maxParallelReads||10,this.readingCalls=0,this.maxRetries=c.maxRetries>=0?c.maxRetries:5,this.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,this.state={},this.queue=[],(g=(h=this.backend)==null?void 0:h.init)==null||g.call(h,l,c.backend,c)}queueLoad(r,i,l,c){const h={},g={},v={},x={};return r.forEach(E=>{let _=!0;i.forEach(k=>{const T=`${E}|${k}`;!l.reload&&this.store.hasResourceBundle(E,k)?this.state[T]=2:this.state[T]<0||(this.state[T]===1?g[T]===void 0&&(g[T]=!0):(this.state[T]=1,_=!1,g[T]===void 0&&(g[T]=!0),h[T]===void 0&&(h[T]=!0),x[k]===void 0&&(x[k]=!0)))}),_||(v[E]=!0)}),(Object.keys(h).length||Object.keys(g).length)&&this.queue.push({pending:g,pendingCount:Object.keys(g).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(h),pending:Object.keys(g),toLoadLanguages:Object.keys(v),toLoadNamespaces:Object.keys(x)}}loaded(r,i,l){const c=r.split("|"),h=c[0],g=c[1];i&&this.emit("failedLoading",h,g,i),!i&&l&&this.store.addResourceBundle(h,g,l,void 0,void 0,{skipCopy:!0}),this.state[r]=i?-1:2,i&&l&&(this.state[r]=0);const v={};this.queue.forEach(x=>{Py(x.loaded,[h],g),Hy(x,r),i&&x.errors.push(i),x.pendingCount===0&&!x.done&&(Object.keys(x.loaded).forEach(E=>{v[E]||(v[E]={});const _=x.loaded[E];_.length&&_.forEach(k=>{v[E][k]===void 0&&(v[E][k]=!0)})}),x.done=!0,x.errors.length?x.callback(x.errors):x.callback())}),this.emit("loaded",v),this.queue=this.queue.filter(x=>!x.done)}read(r,i,l,c=0,h=this.retryTimeout,g){if(!r.length)return g(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:i,fcName:l,tried:c,wait:h,callback:g});return}this.readingCalls++;const v=(E,_)=>{if(this.readingCalls--,this.waitingReads.length>0){const k=this.waitingReads.shift();this.read(k.lng,k.ns,k.fcName,k.tried,k.wait,k.callback)}if(E&&_&&c<this.maxRetries){setTimeout(()=>{this.read.call(this,r,i,l,c+1,h*2,g)},h);return}g(E,_)},x=this.backend[l].bind(this.backend);if(x.length===2){try{const E=x(r,i);E&&typeof E.then=="function"?E.then(_=>v(null,_)).catch(v):v(null,E)}catch(E){v(E)}return}return x(r,i,v)}prepareLoading(r,i,l={},c){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();dt(r)&&(r=this.languageUtils.toResolveHierarchy(r)),dt(i)&&(i=[i]);const h=this.queueLoad(r,i,l,c);if(!h.toLoad.length)return h.pending.length||c(),null;h.toLoad.forEach(g=>{this.loadOne(g)})}load(r,i,l){this.prepareLoading(r,i,{},l)}reload(r,i,l){this.prepareLoading(r,i,{reload:!0},l)}loadOne(r,i=""){const l=r.split("|"),c=l[0],h=l[1];this.read(c,h,"read",void 0,void 0,(g,v)=>{g&&this.logger.warn(`${i}loading namespace ${h} for language ${c} failed`,g),!g&&v&&this.logger.log(`${i}loaded namespace ${h} for language ${c}`,v),this.loaded(r,g,v)})}saveMissing(r,i,l,c,h,g={},v=()=>{}){var x,E,_,k,T;if((E=(x=this.services)==null?void 0:x.utils)!=null&&E.hasLoadedNamespace&&!((k=(_=this.services)==null?void 0:_.utils)!=null&&k.hasLoadedNamespace(i))){this.logger.warn(`did not save key "${l}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(l==null||l==="")){if((T=this.backend)!=null&&T.create){const $={...g,isUpdate:h},z=this.backend.create.bind(this.backend);if(z.length<6)try{let Z;z.length===5?Z=z(r,i,l,c,$):Z=z(r,i,l,c),Z&&typeof Z.then=="function"?Z.then(re=>v(null,re)).catch(v):v(null,Z)}catch(Z){v(Z)}else z(r,i,l,c,v,$)}!r||!r[0]||this.store.addResource(r[0],i,l,c)}}}const vc=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:a=>{let r={};if(typeof a[1]=="object"&&(r=a[1]),dt(a[1])&&(r.defaultValue=a[1]),dt(a[2])&&(r.tDescription=a[2]),typeof a[2]=="object"||typeof a[3]=="object"){const i=a[3]||a[2];Object.keys(i).forEach(l=>{r[l]=i[l]})}return r},interpolation:{escapeValue:!0,format:a=>a,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Sh=a=>{var r,i;return dt(a.ns)&&(a.ns=[a.ns]),dt(a.fallbackLng)&&(a.fallbackLng=[a.fallbackLng]),dt(a.fallbackNS)&&(a.fallbackNS=[a.fallbackNS]),((i=(r=a.supportedLngs)==null?void 0:r.indexOf)==null?void 0:i.call(r,"cimode"))<0&&(a.supportedLngs=a.supportedLngs.concat(["cimode"])),typeof a.initImmediate=="boolean"&&(a.initAsync=a.initImmediate),a},Pl=()=>{},Vy=a=>{Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(i=>{typeof a[i]=="function"&&(a[i]=a[i].bind(a))})},lp="__i18next_supportNoticeShown",Ky=()=>typeof globalThis<"u"&&!!globalThis[lp],qy=()=>{typeof globalThis<"u"&&(globalThis[lp]=!0)},Wy=a=>{var r,i,l,c,h,g,v,x,E,_,k,T,$;return!!(((l=(i=(r=a==null?void 0:a.modules)==null?void 0:r.backend)==null?void 0:i.name)==null?void 0:l.indexOf("Locize"))>0||((v=(g=(h=(c=a==null?void 0:a.modules)==null?void 0:c.backend)==null?void 0:h.constructor)==null?void 0:g.name)==null?void 0:v.indexOf("Locize"))>0||(E=(x=a==null?void 0:a.options)==null?void 0:x.backend)!=null&&E.backends&&a.options.backend.backends.some(z=>{var Z,re,we;return((Z=z==null?void 0:z.name)==null?void 0:Z.indexOf("Locize"))>0||((we=(re=z==null?void 0:z.constructor)==null?void 0:re.name)==null?void 0:we.indexOf("Locize"))>0})||(k=(_=a==null?void 0:a.options)==null?void 0:_.backend)!=null&&k.projectId||($=(T=a==null?void 0:a.options)==null?void 0:T.backend)!=null&&$.backendOptions&&a.options.backend.backendOptions.some(z=>z==null?void 0:z.projectId))};class ps extends Kl{constructor(r={},i){if(super(),this.options=Sh(r),this.services={},this.logger=Qr,this.modules={external:[]},Vy(this),i&&!this.isInitialized&&!r.isClone){if(!this.options.initAsync)return this.init(r,i),this;setTimeout(()=>{this.init(r,i)},0)}}init(r={},i){this.isInitializing=!0,typeof r=="function"&&(i=r,r={}),r.defaultNS==null&&r.ns&&(dt(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const l=vc();this.options={...l,...this.options,...Sh(r)},this.options.interpolation={...l.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=l.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!Wy(this)&&!Ky()&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),qy());const c=E=>E?typeof E=="function"?new E:E:null;if(!this.options.isClone){this.modules.logger?Qr.init(c(this.modules.logger),this.options):Qr.init(null,this.options);let E;this.modules.formatter?E=this.modules.formatter:E=zy;const _=new gh(this.options);this.store=new ph(this.options.resources,this.options);const k=this.services;k.logger=Qr,k.resourceStore=this.store,k.languageUtils=_,k.pluralResolver=new Fy(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==l.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),E&&(!this.options.interpolation.format||this.options.interpolation.format===l.interpolation.format)&&(k.formatter=c(E),k.formatter.init&&k.formatter.init(k,this.options),this.options.interpolation.format=k.formatter.format.bind(k.formatter)),k.interpolator=new wh(this.options),k.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},k.backendConnector=new $y(c(this.modules.backend),k.resourceStore,k,this.options),k.backendConnector.on("*",($,...z)=>{this.emit($,...z)}),this.modules.languageDetector&&(k.languageDetector=c(this.modules.languageDetector),k.languageDetector.init&&k.languageDetector.init(k,this.options.detection,this.options)),this.modules.i18nFormat&&(k.i18nFormat=c(this.modules.i18nFormat),k.i18nFormat.init&&k.i18nFormat.init(this)),this.translator=new Fl(this.services,this.options),this.translator.on("*",($,...z)=>{this.emit($,...z)}),this.modules.external.forEach($=>{$.init&&$.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Pl),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const E=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);E.length>0&&E[0]!=="dev"&&(this.options.lng=E[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(E=>{this[E]=(..._)=>this.store[E](..._)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(E=>{this[E]=(..._)=>(this.store[E](..._),this)});const v=ds(),x=()=>{const E=(_,k)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),v.resolve(k),i(_,k)};if(this.languages&&!this.isInitialized)return E(null,this.t.bind(this));this.changeLanguage(this.options.lng,E)};return this.options.resources||!this.options.initAsync?x():setTimeout(x,0),v}loadResources(r,i=Pl){var h,g;let l=i;const c=dt(r)?r:this.language;if(typeof r=="function"&&(l=r),!this.options.resources||this.options.partialBundledLanguages){if((c==null?void 0:c.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return l();const v=[],x=E=>{if(!E||E==="cimode")return;this.services.languageUtils.toResolveHierarchy(E).forEach(k=>{k!=="cimode"&&v.indexOf(k)<0&&v.push(k)})};c?x(c):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(_=>x(_)),(g=(h=this.options.preload)==null?void 0:h.forEach)==null||g.call(h,E=>x(E)),this.services.backendConnector.load(v,this.options.ns,E=>{!E&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),l(E)})}else l(null)}reloadResources(r,i,l){const c=ds();return typeof r=="function"&&(l=r,r=void 0),typeof i=="function"&&(l=i,i=void 0),r||(r=this.languages),i||(i=this.options.ns),l||(l=Pl),this.services.backendConnector.reload(r,i,h=>{c.resolve(),l(h)}),c}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&op.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1)){for(let i=0;i<this.languages.length;i++){const l=this.languages[i];if(!(["cimode","dev"].indexOf(l)>-1)&&this.store.hasLanguageSomeTranslations(l)){this.resolvedLanguage=l;break}}!this.resolvedLanguage&&this.languages.indexOf(r)<0&&this.store.hasLanguageSomeTranslations(r)&&(this.resolvedLanguage=r,this.languages.unshift(r))}}changeLanguage(r,i){this.isLanguageChangingTo=r;const l=ds();this.emit("languageChanging",r);const c=v=>{this.language=v,this.languages=this.services.languageUtils.toResolveHierarchy(v),this.resolvedLanguage=void 0,this.setResolvedLanguage(v)},h=(v,x)=>{x?this.isLanguageChangingTo===r&&(c(x),this.translator.changeLanguage(x),this.isLanguageChangingTo=void 0,this.emit("languageChanged",x),this.logger.log("languageChanged",x)):this.isLanguageChangingTo=void 0,l.resolve((...E)=>this.t(...E)),i&&i(v,(...E)=>this.t(...E))},g=v=>{var _,k;!r&&!v&&this.services.languageDetector&&(v=[]);const x=dt(v)?v:v&&v[0],E=this.store.hasLanguageSomeTranslations(x)?x:this.services.languageUtils.getBestMatchFromCodes(dt(v)?[v]:v);E&&(this.language||c(E),this.translator.language||this.translator.changeLanguage(E),(k=(_=this.services.languageDetector)==null?void 0:_.cacheUserLanguage)==null||k.call(_,E)),this.loadResources(E,T=>{h(T,E)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?g(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(g):this.services.languageDetector.detect(g):g(r),l}getFixedT(r,i,l){const c=(h,g,...v)=>{let x;typeof g!="object"?x=this.options.overloadTranslationOptionHandler([h,g].concat(v)):x={...g},x.lng=x.lng||c.lng,x.lngs=x.lngs||c.lngs,x.ns=x.ns||c.ns,x.keyPrefix!==""&&(x.keyPrefix=x.keyPrefix||l||c.keyPrefix);const E=this.options.keySeparator||".";let _;return x.keyPrefix&&Array.isArray(h)?_=h.map(k=>(typeof k=="function"&&(k=Pc(k,{...this.options,...g})),`${x.keyPrefix}${E}${k}`)):(typeof h=="function"&&(h=Pc(h,{...this.options,...g})),_=x.keyPrefix?`${x.keyPrefix}${E}${h}`:h),this.t(_,x)};return dt(r)?c.lng=r:c.lngs=r,c.ns=i,c.keyPrefix=l,c}t(...r){var i;return(i=this.translator)==null?void 0:i.translate(...r)}exists(...r){var i;return(i=this.translator)==null?void 0:i.exists(...r)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r,i={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const l=i.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,h=this.languages[this.languages.length-1];if(l.toLowerCase()==="cimode")return!0;const g=(v,x)=>{const E=this.services.backendConnector.state[`${v}|${x}`];return E===-1||E===0||E===2};if(i.precheck){const v=i.precheck(this,g);if(v!==void 0)return v}return!!(this.hasResourceBundle(l,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||g(l,r)&&(!c||g(h,r)))}loadNamespaces(r,i){const l=ds();return this.options.ns?(dt(r)&&(r=[r]),r.forEach(c=>{this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}),this.loadResources(c=>{l.resolve(),i&&i(c)}),l):(i&&i(),Promise.resolve())}loadLanguages(r,i){const l=ds();dt(r)&&(r=[r]);const c=this.options.preload||[],h=r.filter(g=>c.indexOf(g)<0&&this.services.languageUtils.isSupportedCode(g));return h.length?(this.options.preload=c.concat(h),this.loadResources(g=>{l.resolve(),i&&i(g)}),l):(i&&i(),Promise.resolve())}dir(r){var c,h;if(r||(r=this.resolvedLanguage||(((c=this.languages)==null?void 0:c.length)>0?this.languages[0]:this.language)),!r)return"rtl";try{const g=new Intl.Locale(r);if(g&&g.getTextInfo){const v=g.getTextInfo();if(v&&v.direction)return v.direction}}catch{}const i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],l=((h=this.services)==null?void 0:h.languageUtils)||new gh(vc());return r.toLowerCase().indexOf("-latn")>1?"ltr":i.indexOf(l.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(r={},i){const l=new ps(r,i);return l.createInstance=ps.createInstance,l}cloneInstance(r={},i=Pl){const l=r.forkResourceStore;l&&delete r.forkResourceStore;const c={...this.options,...r,isClone:!0},h=new ps(c);if((r.debug!==void 0||r.prefix!==void 0)&&(h.logger=h.logger.clone(r)),["store","services","language"].forEach(v=>{h[v]=this[v]}),h.services={...this.services},h.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},l){const v=Object.keys(this.store.data).reduce((x,E)=>(x[E]={...this.store.data[E]},x[E]=Object.keys(x[E]).reduce((_,k)=>(_[k]={...x[E][k]},_),x[E]),x),{});h.store=new ph(v,c),h.services.resourceStore=h.store}if(r.interpolation){const x={...vc().interpolation,...this.options.interpolation,...r.interpolation},E={...c,interpolation:x};h.services.interpolator=new wh(E)}return h.translator=new Fl(h.services,c),h.translator.on("*",(v,...x)=>{h.emit(v,...x)}),h.init(c,i),h.translator.options=c,h.translator.backendConnector.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},h}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Bn=ps.createInstance();Bn.createInstance;Bn.dir;Bn.init;Bn.loadResources;Bn.reloadResources;Bn.use;Bn.changeLanguage;Bn.getFixedT;Bn.t;Bn.exists;Bn.setDefaultNamespace;Bn.hasLoadedNamespace;Bn.loadNamespaces;Bn.loadLanguages;const Yy=(a,r,i,l)=>{var h,g,v,x;const c=[i,{code:r,...l||{}}];if((g=(h=a==null?void 0:a.services)==null?void 0:h.logger)!=null&&g.forward)return a.services.logger.forward(c,"warn","react-i18next::",!0);Ai(c[0])&&(c[0]=`react-i18next:: ${c[0]}`),(x=(v=a==null?void 0:a.services)==null?void 0:v.logger)!=null&&x.warn?a.services.logger.warn(...c):console!=null&&console.warn&&console.warn(...c)},Eh={},up=(a,r,i,l)=>{Ai(i)&&Eh[i]||(Ai(i)&&(Eh[i]=new Date),Yy(a,r,i,l))},cp=(a,r)=>()=>{if(a.isInitialized)r();else{const i=()=>{setTimeout(()=>{a.off("initialized",i)},0),r()};a.on("initialized",i)}},Rc=(a,r,i)=>{a.loadNamespaces(r,cp(a,i))},kh=(a,r,i,l)=>{if(Ai(i)&&(i=[i]),a.options.preload&&a.options.preload.indexOf(r)>-1)return Rc(a,i,l);i.forEach(c=>{a.options.ns.indexOf(c)<0&&a.options.ns.push(c)}),a.loadLanguages(r,cp(a,l))},Qy=(a,r,i={})=>!r.languages||!r.languages.length?(up(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(a,{lng:i.lng,precheck:(l,c)=>{if(i.bindI18n&&i.bindI18n.indexOf("languageChanging")>-1&&l.services.backendConnector.backend&&l.isLanguageChangingTo&&!c(l.isLanguageChangingTo,a))return!1}}),Ai=a=>typeof a=="string",Gy=a=>typeof a=="object"&&a!==null,Xy=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Jy={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Zy=a=>Jy[a],ev=a=>a.replace(Xy,Zy);let jc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ev,transDefaultProps:void 0};const tv=(a={})=>{jc={...jc,...a}},nv=()=>jc;let dp;const rv=a=>{dp=a},av=()=>dp,iv={type:"3rdParty",init(a){tv(a.options.react),rv(a)}},ov=J.createContext();class sv{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(i=>{this.usedNamespaces[i]||(this.usedNamespaces[i]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var xc={exports:{}},wc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function lv(){if(Ch)return wc;Ch=1;var a=$l();function r(k,T){return k===T&&(k!==0||1/k===1/T)||k!==k&&T!==T}var i=typeof Object.is=="function"?Object.is:r,l=a.useState,c=a.useEffect,h=a.useLayoutEffect,g=a.useDebugValue;function v(k,T){var $=T(),z=l({inst:{value:$,getSnapshot:T}}),Z=z[0].inst,re=z[1];return h(function(){Z.value=$,Z.getSnapshot=T,x(Z)&&re({inst:Z})},[k,$,T]),c(function(){return x(Z)&&re({inst:Z}),k(function(){x(Z)&&re({inst:Z})})},[k]),g($),$}function x(k){var T=k.getSnapshot;k=k.value;try{var $=T();return!i(k,$)}catch{return!0}}function E(k,T){return T()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?E:v;return wc.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:_,wc}var Nh;function uv(){return Nh||(Nh=1,xc.exports=lv()),xc.exports}var cv=uv();const dv=(a,r)=>Ai(r)?r:Gy(r)&&Ai(r.defaultValue)?r.defaultValue:Array.isArray(a)?a[a.length-1]:a,fv={t:dv,ready:!1},hv=()=>()=>{},ti=(a,r={})=>{var Oe,_e,ft;const{i18n:i}=r,{i18n:l,defaultNS:c}=J.useContext(ov)||{},h=i||l||av();h&&!h.reportNamespaces&&(h.reportNamespaces=new sv),h||up(h,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const g=J.useMemo(()=>{var Pe;return{...nv(),...(Pe=h==null?void 0:h.options)==null?void 0:Pe.react,...r}},[h,r]),{useSuspense:v,keyPrefix:x}=g,E=c||((Oe=h==null?void 0:h.options)==null?void 0:Oe.defaultNS),_=Ai(E)?[E]:E||["translation"],k=J.useMemo(()=>_,_);(ft=(_e=h==null?void 0:h.reportNamespaces)==null?void 0:_e.addUsedNamespaces)==null||ft.call(_e,k);const T=J.useRef(0),$=J.useCallback(Pe=>{if(!h)return hv;const{bindI18n:be,bindI18nStore:Re}=g,nt=()=>{T.current+=1,Pe()};return be&&h.on(be,nt),Re&&h.store.on(Re,nt),()=>{be&&be.split(" ").forEach(at=>h.off(at,nt)),Re&&Re.split(" ").forEach(at=>h.store.off(at,nt))}},[h,g]),z=J.useRef(),Z=J.useCallback(()=>{if(!h)return fv;const Pe=!!(h.isInitialized||h.initializedStoreOnce)&&k.every(se=>Qy(se,h,g)),be=r.lng||h.language,Re=T.current,nt=z.current;if(nt&&nt.ready===Pe&&nt.lng===be&&nt.keyPrefix===x&&nt.revision===Re)return nt;const st={t:h.getFixedT(be,g.nsMode==="fallback"?k:k[0],x),ready:Pe,lng:be,keyPrefix:x,revision:Re};return z.current=st,st},[h,k,x,g,r.lng]),[re,we]=J.useState(0),{t:de,ready:le}=cv.useSyncExternalStore($,Z,Z);J.useEffect(()=>{if(h&&!le&&!v){const Pe=()=>we(be=>be+1);r.lng?kh(h,r.lng,k,Pe):Rc(h,k,Pe)}},[h,r.lng,k,le,v,re]);const ie=h||{},We=J.useRef(null),Ge=J.useRef(),K=Pe=>{const be=Object.getOwnPropertyDescriptors(Pe);be.__original&&delete be.__original;const Re=Object.create(Object.getPrototypeOf(Pe),be);if(!Object.prototype.hasOwnProperty.call(Re,"__original"))try{Object.defineProperty(Re,"__original",{value:Pe,writable:!1,enumerable:!1,configurable:!1})}catch{}return Re},ke=J.useMemo(()=>{const Pe=ie,be=Pe==null?void 0:Pe.language;let Re=Pe;Pe&&(We.current&&We.current.__original===Pe?Ge.current!==be?(Re=K(Pe),We.current=Re,Ge.current=be):Re=We.current:(Re=K(Pe),We.current=Re,Ge.current=be));const nt=[de,Re,le];return nt.t=de,nt.i18n=Re,nt.ready=le,nt},[de,ie,le,ie.resolvedLanguage,ie.language,ie.languages]);if(h&&v&&!le)throw new Promise(Pe=>{const be=()=>Pe();r.lng?kh(h,r.lng,k,be):Rc(h,k,be)});return ke};var Tl={exports:{}},pv=Tl.exports,_h;function mv(){return _h||(_h=1,(function(a,r){((i,l)=>{a.exports=l()})(pv,function(){var i=function(o,u){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,m){f.__proto__=m}:function(f,m){for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(f[y]=m[y])}))(o,u)},l=function(){return(l=Object.assign||function(o){for(var u,f=1,m=arguments.length;f<m;f++)for(var y in u=arguments[f])Object.prototype.hasOwnProperty.call(u,y)&&(o[y]=u[y]);return o}).apply(this,arguments)};function c(o,u,f){for(var m,y=0,w=u.length;y<w;y++)!m&&y in u||((m=m||Array.prototype.slice.call(u,0,y))[y]=u[y]);return o.concat(m||Array.prototype.slice.call(u))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Em,g=Object.keys,v=Array.isArray;function x(o,u){return typeof u=="object"&&g(u).forEach(function(f){o[f]=u[f]}),o}typeof Promise>"u"||h.Promise||(h.Promise=Promise);var E=Object.getPrototypeOf,_={}.hasOwnProperty;function k(o,u){return _.call(o,u)}function T(o,u){typeof u=="function"&&(u=u(E(o))),(typeof Reflect>"u"?g:Reflect.ownKeys)(u).forEach(function(f){z(o,f,u[f])})}var $=Object.defineProperty;function z(o,u,f,m){$(o,u,x(f&&k(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},m))}function Z(o){return{from:function(u){return o.prototype=Object.create(u.prototype),z(o.prototype,"constructor",o),{extend:T.bind(null,o.prototype)}}}}var re=Object.getOwnPropertyDescriptor,we=[].slice;function de(o,u,f){return we.call(o,u,f)}function le(o,u){return u(o)}function ie(o){if(!o)throw new Error("Assertion Failed")}function We(o){h.setImmediate?setImmediate(o):setTimeout(o,0)}function Ge(o,u){if(typeof u=="string"&&k(o,u))return o[u];if(!u)return o;if(typeof u!="string"){for(var f=[],m=0,y=u.length;m<y;++m){var w=Ge(o,u[m]);f.push(w)}return f}var C,N=u.indexOf(".");return N===-1||(C=o[u.substr(0,N)])==null?void 0:Ge(C,u.substr(N+1))}function K(o,u,f){if(o&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof u!="string"&&"length"in u){ie(typeof f!="string"&&"length"in f);for(var m=0,y=u.length;m<y;++m)K(o,u[m],f[m])}else{var w,C,N=u.indexOf(".");N!==-1?(w=u.substr(0,N),(N=u.substr(N+1))===""?f===void 0?v(o)&&!isNaN(parseInt(w))?o.splice(w,1):delete o[w]:o[w]=f:K(C=(C=o[w])&&k(o,w)?C:o[w]={},N,f)):f===void 0?v(o)&&!isNaN(parseInt(u))?o.splice(u,1):delete o[u]:o[u]=f}}function ke(o){var u,f={};for(u in o)k(o,u)&&(f[u]=o[u]);return f}var Oe=[].concat;function _e(o){return Oe.apply([],o)}var X="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(_e([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(u){return u+o+"Array"})}))).filter(function(o){return h[o]}),ft=new Set(X.map(function(o){return h[o]})),Pe=null;function be(o){return Pe=new WeakMap,o=(function u(f){if(!f||typeof f!="object")return f;var m=Pe.get(f);if(m)return m;if(v(f)){m=[],Pe.set(f,m);for(var y=0,w=f.length;y<w;++y)m.push(u(f[y]))}else if(ft.has(f.constructor))m=f;else{var C,N=E(f);for(C in m=N===Object.prototype?{}:Object.create(N),Pe.set(f,m),f)k(f,C)&&(m[C]=u(f[C]))}return m})(o),Pe=null,o}var Re={}.toString;function nt(o){return Re.call(o).slice(8,-1)}var at=typeof Symbol<"u"?Symbol.iterator:"@@iterator",st=typeof at=="symbol"?function(o){var u;return o!=null&&(u=o[at])&&u.apply(o)}:function(){return null};function se(o,u){u=o.indexOf(u),0<=u&&o.splice(u,1)}var De={};function Y(o){var u,f,m,y;if(arguments.length===1){if(v(o))return o.slice();if(this===De&&typeof o=="string")return[o];if(y=st(o))for(f=[];!(m=y.next()).done;)f.push(m.value);else{if(o==null)return[o];if(typeof(u=o.length)!="number")return[o];for(f=new Array(u);u--;)f[u]=o[u]}}else for(u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return f}var P=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},X=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],nn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(X),je={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ge(o,u){this.name=o,this.message=u}function $e(o,u){return o+". Errors: "+Object.keys(u).map(function(f){return u[f].toString()}).filter(function(f,m,y){return y.indexOf(f)===m}).join(`
`)}function oe(o,u,f,m){this.failures=u,this.failedKeys=m,this.successCount=f,this.message=$e(o,u)}function Me(o,u){this.name="BulkError",this.failures=Object.keys(u).map(function(f){return u[f]}),this.failuresByPos=u,this.message=$e(o,this.failures)}Z(ge).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Z(oe).from(ge),Z(Me).from(ge);var Ze=nn.reduce(function(o,u){return o[u]=u+"Error",o},{}),ut=ge,Ce=nn.reduce(function(o,u){var f=u+"Error";function m(y,w){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(w?`
 `+w:""),this.inner=w||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=je[u]||f,this.inner=null)}return Z(m).from(ut),o[u]=m,o},{}),Rn=(Ce.Syntax=SyntaxError,Ce.Type=TypeError,Ce.Range=RangeError,X.reduce(function(o,u){return o[u+"Error"]=Ce[u],o},{}));X=nn.reduce(function(o,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(o[u+"Error"]=Ce[u]),o},{});function rt(){}function Ut(o){return o}function Ir(o,u){return o==null||o===Ut?u:function(f){return u(o(f))}}function ze(o,u){return function(){o.apply(this,arguments),u.apply(this,arguments)}}function pt(o,u){return o===rt?u:function(){var f=o.apply(this,arguments),m=(f!==void 0&&(arguments[0]=f),this.onsuccess),y=this.onerror,w=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return m&&(this.onsuccess=this.onsuccess?ze(m,this.onsuccess):m),y&&(this.onerror=this.onerror?ze(y,this.onerror):y),w!==void 0?w:f}}function un(o,u){return o===rt?u:function(){o.apply(this,arguments);var f=this.onsuccess,m=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?ze(f,this.onsuccess):f),m&&(this.onerror=this.onerror?ze(m,this.onerror):m)}}function jn(o,u){return o===rt?u:function(y){var m=o.apply(this,arguments),y=(x(y,m),this.onsuccess),w=this.onerror,C=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?ze(y,this.onsuccess):y),w&&(this.onerror=this.onerror?ze(w,this.onerror):w),m===void 0?C===void 0?void 0:C:x(m,C)}}function lr(o,u){return o===rt?u:function(){return u.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function Jt(o,u){return o===rt?u:function(){var f=o.apply(this,arguments);if(f&&typeof f.then=="function"){for(var m=this,y=arguments.length,w=new Array(y);y--;)w[y]=arguments[y];return f.then(function(){return u.apply(m,w)})}return u.apply(this,arguments)}}X.ModifyError=oe,X.DexieError=ge,X.BulkError=Me;var tn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function va(o){tn=o}var Mr={},Gn=100,Un=typeof Promise>"u"?[]:(nn=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Un=crypto.subtle.digest("SHA-512",new Uint8Array([0])),E(Un),nn]:[nn,E(nn),nn]),nn=Un[0],aa=Un[1],aa=aa&&aa.then,Tn=nn&&nn.constructor,yn=!!Un[2],cn=function(o,u){vr.push([o,u]),On&&(queueMicrotask(Xr),On=!1)},ur=!0,On=!0,yr=[],Sn=[],Gr=Ut,Xn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:rt,pgp:!1,env:{},finalize:rt},qe=Xn,vr=[],zn=0,Jn=[];function Ne(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=qe;if(typeof o!="function"){if(o!==Mr)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&xa(this,this._value)}else this._state=null,this._value=null,++u.ref,(function f(m,y){try{y(function(w){if(m._state===null){if(w===m)throw new TypeError("A promise cannot be resolved with itself.");var C=m._lib&&Dn();w&&typeof w.then=="function"?f(m,function(N,M){w instanceof Ne?w._then(N,M):w.then(N,M)}):(m._state=!0,m._value=w,wa(m)),C&&xr()}},xa.bind(null,m))}catch(w){xa(m,w)}})(this,o)}var Hn={get:function(){var o=qe,u=et;function f(m,y){var w=this,C=!o.global&&(o!==qe||u!==et),N=C&&!Ae(),M=new Ne(function(V,L){ba(w,new Zn(Dt(m,o,C,N),Dt(y,o,C,N),V,L,o))});return this._consoleTask&&(M._consoleTask=this._consoleTask),M}return f.prototype=Mr,f},set:function(o){z(this,"then",o&&o.prototype===Mr?Hn:{get:function(){return o},set:Hn.set})}};function Zn(o,u,f,m,y){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof u=="function"?u:null,this.resolve=f,this.reject=m,this.psd=y}function xa(o,u){var f,m;Sn.push(u),o._state===null&&(f=o._lib&&Dn(),u=Gr(u),o._state=!1,o._value=u,m=o,yr.some(function(y){return y._value===m._value})||yr.push(m),wa(o),f)&&xr()}function wa(o){var u=o._listeners;o._listeners=[];for(var f=0,m=u.length;f<m;++f)ba(o,u[f]);var y=o._PSD;--y.ref||y.finalize(),zn===0&&(++zn,cn(function(){--zn==0&&wr()},[]))}function ba(o,u){if(o._state===null)o._listeners.push(u);else{var f=o._state?u.onFulfilled:u.onRejected;if(f===null)return(o._state?u.resolve:u.reject)(o._value);++u.psd.ref,++zn,cn(ri,[f,o,u])}}function ri(o,u,f){try{var m,y=u._value;!u._state&&Sn.length&&(Sn=[]),m=tn&&u._consoleTask?u._consoleTask.run(function(){return o(y)}):o(y),u._state||Sn.indexOf(y)!==-1||(w=>{for(var C=yr.length;C;)if(yr[--C]._value===w._value)return yr.splice(C,1)})(u),f.resolve(m)}catch(w){f.reject(w)}finally{--zn==0&&wr(),--f.psd.ref||f.psd.finalize()}}function Xr(){mt(Xn,function(){Dn()&&xr()})}function Dn(){var o=ur;return On=ur=!1,o}function xr(){var o,u,f;do for(;0<vr.length;)for(o=vr,vr=[],f=o.length,u=0;u<f;++u){var m=o[u];m[0].apply(null,m[1])}while(0<vr.length);On=ur=!0}function wr(){for(var o=yr,u=(yr=[],o.forEach(function(m){m._PSD.onunhandled.call(null,m._value,m)}),Jn.slice(0)),f=u.length;f;)u[--f]()}function j(o){return new Ne(Mr,!1,o)}function F(o,u){var f=qe;return function(){var m=Dn(),y=qe;try{return Ot(f,!0),o.apply(this,arguments)}catch(w){u&&u(w)}finally{Ot(y,!1),m&&xr()}}}T(Ne.prototype,{then:Hn,_then:function(o,u){ba(this,new Zn(null,null,o,u,qe))},catch:function(o){var u,f;return arguments.length===1?this.then(null,o):(u=o,f=arguments[1],typeof u=="function"?this.then(null,function(m){return(m instanceof u?f:j)(m)}):this.then(null,function(m){return(m&&m.name===u?f:j)(m)}))},finally:function(o){return this.then(function(u){return Ne.resolve(o()).then(function(){return u})},function(u){return Ne.resolve(o()).then(function(){return j(u)})})},timeout:function(o,u){var f=this;return o<1/0?new Ne(function(m,y){var w=setTimeout(function(){return y(new Ce.Timeout(u))},o);f.then(m,y).finally(clearTimeout.bind(null,w))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&z(Ne.prototype,Symbol.toStringTag,"Dexie.Promise"),Xn.env=Nt(),T(Ne,{all:function(){var o=Y.apply(null,arguments).map(lt);return new Ne(function(u,f){o.length===0&&u([]);var m=o.length;o.forEach(function(y,w){return Ne.resolve(y).then(function(C){o[w]=C,--m||u(o)},f)})})},resolve:function(o){return o instanceof Ne?o:o&&typeof o.then=="function"?new Ne(function(u,f){o.then(u,f)}):new Ne(Mr,!0,o)},reject:j,race:function(){var o=Y.apply(null,arguments).map(lt);return new Ne(function(u,f){o.map(function(m){return Ne.resolve(m).then(u,f)})})},PSD:{get:function(){return qe},set:function(o){return qe=o}},totalEchoes:{get:function(){return et}},newPSD:Fe,usePSD:mt,scheduler:{get:function(){return cn},set:function(o){cn=o}},rejectionMapper:{get:function(){return Gr},set:function(o){Gr=o}},follow:function(o,u){return new Ne(function(f,m){return Fe(function(y,w){var C=qe;C.unhandleds=[],C.onunhandled=w,C.finalize=ze(function(){var N,M=this;N=function(){M.unhandleds.length===0?y():w(M.unhandleds[0])},Jn.push(function V(){N(),Jn.splice(Jn.indexOf(V),1)}),++zn,cn(function(){--zn==0&&wr()},[])},C.finalize),o()},u,f,m)})}}),Tn&&(Tn.allSettled&&z(Ne,"allSettled",function(){var o=Y.apply(null,arguments).map(lt);return new Ne(function(u){o.length===0&&u([]);var f=o.length,m=new Array(f);o.forEach(function(y,w){return Ne.resolve(y).then(function(C){return m[w]={status:"fulfilled",value:C}},function(C){return m[w]={status:"rejected",reason:C}}).then(function(){return--f||u(m)})})})}),Tn.any&&typeof AggregateError<"u"&&z(Ne,"any",function(){var o=Y.apply(null,arguments).map(lt);return new Ne(function(u,f){o.length===0&&f(new AggregateError([]));var m=o.length,y=new Array(m);o.forEach(function(w,C){return Ne.resolve(w).then(function(N){return u(N)},function(N){y[C]=N,--m||f(new AggregateError(y))})})})}),Tn.withResolvers)&&(Ne.withResolvers=Tn.withResolvers);var G={awaits:0,echoes:0,id:0},ue=0,Se=[],Ye=0,et=0,Ve=0;function Fe(o,C,f,m){var y=qe,w=Object.create(y),C=(w.parent=y,w.ref=0,w.global=!1,w.id=++Ve,Xn.env,w.env=yn?{Promise:Ne,PromiseProp:{value:Ne,configurable:!0,writable:!0},all:Ne.all,race:Ne.race,allSettled:Ne.allSettled,any:Ne.any,resolve:Ne.resolve,reject:Ne.reject}:{},C&&x(w,C),++y.ref,w.finalize=function(){--this.parent.ref||this.parent.finalize()},mt(w,o,f,m));return w.ref===0&&w.finalize(),C}function Ie(){return G.id||(G.id=++ue),++G.awaits,G.echoes+=Gn,G.id}function Ae(){return!!G.awaits&&(--G.awaits==0&&(G.id=0),G.echoes=G.awaits*Gn,!0)}function lt(o){return G.echoes&&o&&o.constructor===Tn?(Ie(),o.then(function(u){return Ae(),u},function(u){return Ae(),jt(u)})):o}function vt(){var o=Se[Se.length-1];Se.pop(),Ot(o,!1)}function Ot(o,u){var f,m,y=qe;(u?!G.echoes||Ye++&&o===qe:!Ye||--Ye&&o===qe)||queueMicrotask(u?(function(w){++et,G.echoes&&--G.echoes!=0||(G.echoes=G.awaits=G.id=0),Se.push(qe),Ot(w,!0)}).bind(null,o):vt),o!==qe&&(qe=o,y===Xn&&(Xn.env=Nt()),yn)&&(f=Xn.env.Promise,m=o.env,y.global||o.global)&&(Object.defineProperty(h,"Promise",m.PromiseProp),f.all=m.all,f.race=m.race,f.resolve=m.resolve,f.reject=m.reject,m.allSettled&&(f.allSettled=m.allSettled),m.any)&&(f.any=m.any)}function Nt(){var o=h.Promise;return yn?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function mt(o,u,f,m,y){var w=qe;try{return Ot(o,!0),u(f,m,y)}finally{Ot(w,!1)}}function Dt(o,u,f,m){return typeof o!="function"?o:function(){var y=qe;f&&Ie(),Ot(u,!0);try{return o.apply(this,arguments)}finally{Ot(y,!1),m&&queueMicrotask(Ae)}}}function er(o){Promise===Tn&&G.echoes===0?Ye===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+aa).indexOf("[native code]")===-1&&(Ie=Ae=rt);var jt=Ne.reject,rn="",gt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Sa="String expected.",En=[],Ln="__dbnames",tr="readonly",Fr="readwrite";function ht(o,u){return o?u?function(){return o.apply(this,arguments)&&u.apply(this,arguments)}:o:u}var Rt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Yt(o){return typeof o!="string"||/\./.test(o)?function(u){return u}:function(u){return u[o]===void 0&&o in u&&delete(u=be(u))[o],u}}function Br(){throw Ce.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function He(o,u){try{var f=br(o),m=br(u);if(f!==m)return f==="Array"?1:m==="Array"?-1:f==="binary"?1:m==="binary"?-1:f==="string"?1:m==="string"?-1:f==="Date"?1:m!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return u<o?1:o<u?-1:0;case"binary":for(var y=ai(o),w=ai(u),C=y.length,N=w.length,M=C<N?C:N,V=0;V<M;++V)if(y[V]!==w[V])return y[V]<w[V]?-1:1;return C===N?0:C<N?-1:1;case"Array":for(var L=o,O=u,B=L.length,U=O.length,I=B<U?B:U,A=0;A<I;++A){var Q=He(L[A],O[A]);if(Q!==0)return Q}return B===U?0:B<U?-1:1}}catch{}return NaN}function br(o){var u=typeof o;return u=="object"&&(ArrayBuffer.isView(o)||(u=nt(o))==="ArrayBuffer")?"binary":u}function ai(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function Ea(o,u,f){var m=o.schema.yProps;return m?(u&&0<f.numFailures&&(u=u.filter(function(y,w){return!f.failures[w]})),Promise.all(m.map(function(y){return y=y.updatesTable,u?o.db.table(y).where("k").anyOf(u).delete():o.db.table(y).clear()})).then(function(){return f})):f}ii.prototype.execute=function(o){var u=this["@@propmod"];if(u.add!==void 0){var f=u.add;if(v(f))return c(c([],v(o)?o:[],!0),f).sort();if(typeof f=="number")return(Number(o)||0)+f;if(typeof f=="bigint")try{return BigInt(o)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(u.remove!==void 0){var m=u.remove;if(v(m))return v(o)?o.filter(function(y){return!m.includes(y)}).sort():[];if(typeof m=="number")return Number(o)-m;if(typeof m=="bigint")try{return BigInt(o)-m}catch{return BigInt(0)-m}throw new TypeError("Invalid subtrahend ".concat(m))}return f=(f=u.replacePrefix)==null?void 0:f[0],f&&typeof o=="string"&&o.startsWith(f)?u.replacePrefix[1]+o.substring(f.length):o};var Ur=ii;function ii(o){this["@@propmod"]=o}function ka(o,u){for(var f=g(u),m=f.length,y=!1,w=0;w<m;++w){var C=f[w],N=u[C],M=Ge(o,C);N instanceof Ur?(K(o,C,N.execute(M)),y=!0):M!==N&&(K(o,C,N),y=!0)}return y}Lt.prototype._trans=function(o,u,f){var m=this._tx||qe.trans,y=this.name,w=tn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function C(V,L,O){if(O.schema[y])return u(O.idbtrans,O);throw new Ce.NotFound("Table "+y+" not part of transaction")}var N=Dn();try{var M=m&&m.db._novip===this.db._novip?m===qe.trans?m._promise(o,C,f):Fe(function(){return m._promise(o,C,f)},{trans:m,transless:qe.transless||qe}):(function V(L,O,B,U){if(L.idbdb&&(L._state.openComplete||qe.letThrough||L._vip)){var I=L._createTransaction(O,B,L._dbSchema);try{I.create(),L._state.PR1398_maxLoop=3}catch(A){return A.name===Ze.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return V(L,O,B,U)})):jt(A)}return I._promise(O,function(A,Q){return Fe(function(){return qe.trans=I,U(A,Q,I)})}).then(function(A){if(O==="readwrite")try{I.idbtrans.commit()}catch{}return O==="readonly"?A:I._completion.then(function(){return A})})}if(L._state.openComplete)return jt(new Ce.DatabaseClosed(L._state.dbOpenError));if(!L._state.isBeingOpened){if(!L._state.autoOpen)return jt(new Ce.DatabaseClosed);L.open().catch(rt)}return L._state.dbReadyPromise.then(function(){return V(L,O,B,U)})})(this.db,o,[this.name],C);return w&&(M._consoleTask=w,M=M.catch(function(V){return console.trace(V),jt(V)})),M}finally{N&&xr()}},Lt.prototype.get=function(o,u){var f=this;return o&&o.constructor===Object?this.where(o).first(u):o==null?jt(new Ce.Type("Invalid argument to Table.get()")):this._trans("readonly",function(m){return f.core.get({trans:m,key:o}).then(function(y){return f.hook.reading.fire(y)})}).then(u)},Lt.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(v(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var u=g(o);if(u.length===1)return this.where(u[0]).equals(o[u[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&u.every(function(V){return 0<=N.keyPath.indexOf(V)})){for(var M=0;M<u.length;++M)if(u.indexOf(N.keyPath[M])===-1)return!1;return!0}return!1}).sort(function(N,M){return N.keyPath.length-M.keyPath.length})[0];if(f&&this.db._maxKey!==rn)return C=f.keyPath.slice(0,u.length),this.where(C).equals(C.map(function(N){return o[N]}));!f&&tn&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var m=this.schema.idxByName;function y(N,M){return He(N,M)===0}var C=u.reduce(function(L,M){var V=L[0],L=L[1],O=m[M],B=o[M];return[V||O,V||!O?ht(L,O&&O.multi?function(U){return U=Ge(U,M),v(U)&&U.some(function(I){return y(B,I)})}:function(U){return y(B,Ge(U,M))}):L]},[null,null]),w=C[0],C=C[1];return w?this.where(w.name).equals(o[w.keyPath]).filter(C):f?this.filter(C):this.where(u).equals("")},Lt.prototype.filter=function(o){return this.toCollection().and(o)},Lt.prototype.count=function(o){return this.toCollection().count(o)},Lt.prototype.offset=function(o){return this.toCollection().offset(o)},Lt.prototype.limit=function(o){return this.toCollection().limit(o)},Lt.prototype.each=function(o){return this.toCollection().each(o)},Lt.prototype.toArray=function(o){return this.toCollection().toArray(o)},Lt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Lt.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,v(o)?"[".concat(o.join("+"),"]"):o))},Lt.prototype.reverse=function(){return this.toCollection().reverse()},Lt.prototype.mapToClass=function(o){for(var u=this.db,f=this.name,m=((this.schema.mappedClass=o).prototype instanceof Br&&(o=(C=>{var N=L,M=C;if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function V(){this.constructor=N}function L(){return C!==null&&C.apply(this,arguments)||this}return i(N,M),N.prototype=M===null?Object.create(M):(V.prototype=M.prototype,new V),Object.defineProperty(L.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),L.prototype.table=function(){return f},L})(o)),new Set),y=o.prototype;y;y=E(y))Object.getOwnPropertyNames(y).forEach(function(C){return m.add(C)});function w(C){if(!C)return C;var N,M=Object.create(o.prototype);for(N in C)if(!m.has(N))try{M[N]=C[N]}catch{}return M}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=w,this.hook("reading",w),o},Lt.prototype.defineClass=function(){return this.mapToClass(function(o){x(this,o)})},Lt.prototype.add=function(o,u){var f=this,m=this.schema.primKey,y=m.auto,w=m.keyPath,C=o;return w&&y&&(C=Yt(w)(o)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"add",keys:u!=null?[u]:null,values:[C]})}).then(function(N){return N.numFailures?Ne.reject(N.failures[0]):N.lastResult}).then(function(N){if(w)try{K(o,w,N)}catch{}return N})},Lt.prototype.upsert=function(o,u){var f=this,m=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return f.core.get({trans:y,key:o}).then(function(w){var C=w??{};return ka(C,u),m&&K(C,m,o),f.core.mutate({trans:y,type:"put",values:[C],keys:[o],upsert:!0,updates:{keys:[o],changeSpecs:[u]}}).then(function(N){return N.numFailures?Ne.reject(N.failures[0]):!!w})})})},Lt.prototype.update=function(o,u){return typeof o!="object"||v(o)?this.where(":id").equals(o).modify(u):(o=Ge(o,this.schema.primKey.keyPath))===void 0?jt(new Ce.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(u)},Lt.prototype.put=function(o,u){var f=this,m=this.schema.primKey,y=m.auto,w=m.keyPath,C=o;return w&&y&&(C=Yt(w)(o)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"put",values:[C],keys:u!=null?[u]:null})}).then(function(N){return N.numFailures?Ne.reject(N.failures[0]):N.lastResult}).then(function(N){if(w)try{K(o,w,N)}catch{}return N})},Lt.prototype.delete=function(o){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"delete",keys:[o]}).then(function(m){return Ea(u,[o],m)}).then(function(m){return m.numFailures?Ne.reject(m.failures[0]):void 0})})},Lt.prototype.clear=function(){var o=this;return this._trans("readwrite",function(u){return o.core.mutate({trans:u,type:"deleteRange",range:Rt}).then(function(f){return Ea(o,null,f)})}).then(function(u){return u.numFailures?Ne.reject(u.failures[0]):void 0})},Lt.prototype.bulkGet=function(o){var u=this;return this._trans("readonly",function(f){return u.core.getMany({keys:o,trans:f}).then(function(m){return m.map(function(y){return u.hook.reading.fire(y)})})})},Lt.prototype.bulkAdd=function(o,u,f){var m=this,y=Array.isArray(u)?u:void 0,w=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(C){var N=m.schema.primKey,V=N.auto,N=N.keyPath;if(N&&y)throw new Ce.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==o.length)throw new Ce.InvalidArgument("Arguments objects and keys must have the same length");var M=o.length,V=N&&V?o.map(Yt(N)):o;return m.core.mutate({trans:C,type:"add",keys:y,values:V,wantResults:w}).then(function(L){var O=L.numFailures,B=L.failures;if(O===0)return w?L.results:L.lastResult;throw new Me("".concat(m.name,".bulkAdd(): ").concat(O," of ").concat(M," operations failed"),B)})})},Lt.prototype.bulkPut=function(o,u,f){var m=this,y=Array.isArray(u)?u:void 0,w=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(C){var N=m.schema.primKey,V=N.auto,N=N.keyPath;if(N&&y)throw new Ce.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==o.length)throw new Ce.InvalidArgument("Arguments objects and keys must have the same length");var M=o.length,V=N&&V?o.map(Yt(N)):o;return m.core.mutate({trans:C,type:"put",keys:y,values:V,wantResults:w}).then(function(L){var O=L.numFailures,B=L.failures;if(O===0)return w?L.results:L.lastResult;throw new Me("".concat(m.name,".bulkPut(): ").concat(O," of ").concat(M," operations failed"),B)})})},Lt.prototype.bulkUpdate=function(o){var u=this,f=this.core,m=o.map(function(C){return C.key}),y=o.map(function(C){return C.changes}),w=[];return this._trans("readwrite",function(C){return f.getMany({trans:C,keys:m,cache:"clone"}).then(function(N){var M=[],V=[],L=(o.forEach(function(O,B){var U=O.key,I=O.changes,A=N[B];if(A){for(var Q=0,te=Object.keys(I);Q<te.length;Q++){var q=te[Q],ae=I[q];if(q===u.schema.primKey.keyPath){if(He(ae,U)!==0)throw new Ce.Constraint("Cannot update primary key in bulkUpdate()")}else K(A,q,ae)}w.push(B),M.push(U),V.push(A)}}),M.length);return f.mutate({trans:C,type:"put",keys:M,values:V,updates:{keys:m,changeSpecs:y}}).then(function(O){var B=O.numFailures,U=O.failures;if(B===0)return L;for(var I=0,A=Object.keys(U);I<A.length;I++){var Q,te=A[I],q=w[Number(te)];q!=null&&(Q=U[te],delete U[te],U[q]=Q)}throw new Me("".concat(u.name,".bulkUpdate(): ").concat(B," of ").concat(L," operations failed"),U)})})})},Lt.prototype.bulkDelete=function(o){var u=this,f=o.length;return this._trans("readwrite",function(m){return u.core.mutate({trans:m,type:"delete",keys:o}).then(function(y){return Ea(u,o,y)})}).then(function(m){var y=m.numFailures,w=m.failures;if(y===0)return m.lastResult;throw new Me("".concat(u.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),w)})};var oi=Lt;function Lt(){}function si(o){function u(C,N){if(N){for(var M=arguments.length,V=new Array(M-1);--M;)V[M-1]=arguments[M];return f[C].subscribe.apply(null,V),o}if(typeof C=="string")return f[C]}var f={};u.addEventType=w;for(var m=1,y=arguments.length;m<y;++m)w(arguments[m]);return u;function w(C,N,M){var V,L;if(typeof C!="object")return N=N||lr,L={subscribers:[],fire:M=M||rt,subscribe:function(O){L.subscribers.indexOf(O)===-1&&(L.subscribers.push(O),L.fire=N(L.fire,O))},unsubscribe:function(O){L.subscribers=L.subscribers.filter(function(B){return B!==O}),L.fire=L.subscribers.reduce(N,M)}},f[C]=u[C]=L;g(V=C).forEach(function(O){var B=V[O];if(v(B))w(O,V[O][0],V[O][1]);else{if(B!=="asap")throw new Ce.InvalidArgument("Invalid event config");var U=w(O,Ut,function(){for(var I=arguments.length,A=new Array(I);I--;)A[I]=arguments[I];U.subscribers.forEach(function(Q){We(function(){Q.apply(null,A)})})})}})}}function Jr(o,u){return Z(u).from({prototype:o}),u}function Zr(o,u){return!(o.filter||o.algorithm||o.or)&&(u?o.justLimit:!o.replayFilter)}function li(o,u){o.filter=ht(o.filter,u)}function ea(o,u,f){var m=o.replayFilter;o.replayFilter=m?function(){return ht(m(),u())}:u,o.justLimit=f&&!m}function Mi(o,u){if(o.isPrimKey)return u.primaryKey;var f=u.getIndexByKeyPath(o.index);if(f)return f;throw new Ce.Schema("KeyPath "+o.index+" on object store "+u.name+" is not indexed")}function Fi(o,u,f){var m=Mi(o,u.schema);return u.openCursor({trans:f,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:m,range:o.range}})}function kt(o,u,f,m){var y,w,C=o.replayFilter?ht(o.filter,o.replayFilter()):o.filter;return o.or?(y={},w=function(N,M,V){var L,O;C&&!C(M,V,function(B){return M.stop(B)},function(B){return M.fail(B)})||((O=""+(L=M.primaryKey))=="[object ArrayBuffer]"&&(O=""+new Uint8Array(L)),k(y,O))||(y[O]=!0,u(N,M,V))},Promise.all([o.or._iterate(w,f),No(Fi(o,m,f),o.algorithm,w,!o.keysOnly&&o.valueMapper)])):No(Fi(o,m,f),ht(o.algorithm,C),u,!o.keysOnly&&o.valueMapper)}function No(o,u,f,m){var y=F(m?function(w,C,N){return f(m(w),C,N)}:f);return o.then(function(w){if(w)return w.start(function(){var C=function(){return w.continue()};u&&!u(w,function(N){return C=N},function(N){w.stop(N),C=rt},function(N){w.fail(N),C=rt})||y(w.value,w,function(N){return C=N}),C()})})}St.prototype._read=function(o,u){var f=this._ctx;return f.error?f.table._trans(null,jt.bind(null,f.error)):f.table._trans("readonly",o).then(u)},St.prototype._write=function(o){var u=this._ctx;return u.error?u.table._trans(null,jt.bind(null,u.error)):u.table._trans("readwrite",o,"locked")},St.prototype._addAlgorithm=function(o){var u=this._ctx;u.algorithm=ht(u.algorithm,o)},St.prototype._iterate=function(o,u){return kt(this._ctx,o,u,this._ctx.table.core)},St.prototype.clone=function(o){var u=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return o&&x(f,o),u._ctx=f,u},St.prototype.raw=function(){return this._ctx.valueMapper=null,this},St.prototype.each=function(o){var u=this._ctx;return this._read(function(f){return kt(u,o,f,u.table.core)})},St.prototype.count=function(o){var u=this;return this._read(function(f){var m,y=u._ctx,w=y.table.core;return Zr(y,!0)?w.count({trans:f,query:{index:Mi(y,w.schema),range:y.range}}).then(function(C){return Math.min(C,y.limit)}):(m=0,kt(y,function(){return++m,!1},f,w).then(function(){return m}))}).then(o)},St.prototype.sortBy=function(o,u){var f=o.split(".").reverse(),m=f[0],y=f.length-1;function w(M,V){return V?w(M[f[V]],V-1):M[m]}var C=this._ctx.dir==="next"?1:-1;function N(M,V){return He(w(M,y),w(V,y))*C}return this.toArray(function(M){return M.sort(N)}).then(u)},St.prototype.toArray=function(o){var u=this;return this._read(function(f){var m,y,w,C=u._ctx;return C.dir==="next"&&Zr(C,!0)&&0<C.limit?(m=C.valueMapper,y=Mi(C,C.table.core.schema),C.table.core.query({trans:f,limit:C.limit,values:!0,query:{index:y,range:C.range}}).then(function(N){return N=N.result,m?N.map(m):N})):(w=[],kt(C,function(N){return w.push(N)},f,C.table.core).then(function(){return w}))},o)},St.prototype.offset=function(o){var u=this._ctx;return o<=0||(u.offset+=o,Zr(u)?ea(u,function(){var f=o;return function(m,y){return f===0||(f===1?--f:y(function(){m.advance(f),f=0}),!1)}}):ea(u,function(){var f=o;return function(){return--f<0}})),this},St.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),ea(this._ctx,function(){var u=o;return function(f,m,y){return--u<=0&&m(y),0<=u}},!0),this},St.prototype.until=function(o,u){return li(this._ctx,function(f,m,y){return!o(f.value)||(m(y),u)}),this},St.prototype.first=function(o){return this.limit(1).toArray(function(u){return u[0]}).then(o)},St.prototype.last=function(o){return this.reverse().first(o)},St.prototype.filter=function(o){var u;return li(this._ctx,function(f){return o(f.value)}),(u=this._ctx).isMatch=ht(u.isMatch,o),this},St.prototype.and=function(o){return this.filter(o)},St.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},St.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},St.prototype.desc=function(){return this.reverse()},St.prototype.eachKey=function(o){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,m){o(m.key,m)})},St.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},St.prototype.eachPrimaryKey=function(o){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,m){o(m.primaryKey,m)})},St.prototype.keys=function(o){var u=this._ctx,f=(u.keysOnly=!u.isMatch,[]);return this.each(function(m,y){f.push(y.key)}).then(function(){return f}).then(o)},St.prototype.primaryKeys=function(o){var u=this._ctx;if(u.dir==="next"&&Zr(u,!0)&&0<u.limit)return this._read(function(m){var y=Mi(u,u.table.core.schema);return u.table.core.query({trans:m,values:!1,limit:u.limit,query:{index:y,range:u.range}})}).then(function(m){return m.result}).then(o);u.keysOnly=!u.isMatch;var f=[];return this.each(function(m,y){f.push(y.primaryKey)}).then(function(){return f}).then(o)},St.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},St.prototype.firstKey=function(o){return this.limit(1).keys(function(u){return u[0]}).then(o)},St.prototype.lastKey=function(o){return this.reverse().firstKey(o)},St.prototype.distinct=function(){var o,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(o={},li(this._ctx,function(m){var m=m.primaryKey.toString(),y=k(o,m);return o[m]=!0,!y})),this},St.prototype.modify=function(o){var u=this,f=this._ctx;return this._write(function(m){function y(A,Q){var te=Q.failures;B+=A-Q.numFailures;for(var q=0,ae=g(te);q<ae.length;q++){var ce=ae[q];O.push(te[ce])}}var w=typeof o=="function"?o:function(A){return ka(A,o)},C=f.table.core,L=C.schema.primaryKey,N=L.outbound,M=L.extractKey,V=200,L=u.db._options.modifyChunkSize,O=(L&&(V=typeof L=="object"?L[C.name]||L["*"]||200:L),[]),B=0,U=[],I=o===_o;return u.clone().primaryKeys().then(function(A){function Q(q){var ae=Math.min(V,A.length-q),ce=A.slice(q,q+ae);return(I?Promise.resolve([]):C.getMany({trans:m,keys:ce,cache:"immutable"})).then(function(xe){var Ee=[],he=[],Le=N?[]:null,Te=I?ce:[];if(!I)for(var ye=0;ye<ae;++ye){var Be=xe[ye],bt={value:be(Be),primKey:A[q+ye]};w.call(bt,bt.value,bt)!==!1&&(bt.value==null?Te.push(A[q+ye]):N||He(M(Be),M(bt.value))===0?(he.push(bt.value),N&&Le.push(A[q+ye])):(Te.push(A[q+ye]),Ee.push(bt.value)))}return Promise.resolve(0<Ee.length&&C.mutate({trans:m,type:"add",values:Ee}).then(function(Et){for(var tt in Et.failures)Te.splice(parseInt(tt),1);y(Ee.length,Et)})).then(function(){return(0<he.length||te&&typeof o=="object")&&C.mutate({trans:m,type:"put",keys:Le,values:he,criteria:te,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<q}).then(function(Et){return y(he.length,Et)})}).then(function(){return(0<Te.length||te&&I)&&C.mutate({trans:m,type:"delete",keys:Te,criteria:te,isAdditionalChunk:0<q}).then(function(Et){return Ea(f.table,Te,Et)}).then(function(Et){return y(Te.length,Et)})}).then(function(){return A.length>q+ae&&Q(q+V)})})}var te=Zr(f)&&f.limit===1/0&&(typeof o!="function"||I)&&{index:f.index,range:f.range};return Q(0).then(function(){if(0<O.length)throw new oe("Error modifying one or more objects",O,B,U);return A.length})})})},St.prototype.delete=function(){var o=this._ctx,u=o.range;return!Zr(o)||o.table.schema.yProps||!o.isPrimKey&&u.type!==3?this.modify(_o):this._write(function(f){var m=o.table.core.schema.primaryKey,y=u;return o.table.core.count({trans:f,query:{index:m,range:y}}).then(function(w){return o.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(M){var N=M.failures,M=M.numFailures;if(M)throw new oe("Could not delete some values",Object.keys(N).map(function(V){return N[V]}),w-M);return w-M})})})};var bs=St;function St(){}var _o=function(o,u){return u.value=null};function Ss(o,u){return o<u?-1:o===u?0:1}function Es(o,u){return u<o?-1:o===u?0:1}function vn(o,u,f){return o=o instanceof Ca?new o.Collection(o):o,o._ctx.error=new(f||TypeError)(u),o}function Sr(o){return new o.Collection(o,function(){return Er("")}).limit(0)}function nr(U,u,f,m){var y,w,C,N,M,V,L,O=f.length;if(!f.every(function(A){return typeof A=="string"}))return vn(U,Sa);function B(A){y=A==="next"?function(te){return te.toUpperCase()}:function(te){return te.toLowerCase()},w=A==="next"?function(te){return te.toLowerCase()}:function(te){return te.toUpperCase()},C=A==="next"?Ss:Es;var Q=f.map(function(te){return{lower:w(te),upper:y(te)}}).sort(function(te,q){return C(te.lower,q.lower)});N=Q.map(function(te){return te.upper}),M=Q.map(function(te){return te.lower}),L=(V=A)==="next"?"":m}B("next");var U=new U.Collection(U,function(){return xn(N[0],M[O-1]+m)}),I=(U._ondirectionchange=function(A){B(A)},0);return U._addAlgorithm(function(A,Q,te){var q=A.key;if(typeof q=="string"){var ae=w(q);if(u(ae,M,I))return!0;for(var ce=null,xe=I;xe<O;++xe){var Ee=((he,Le,Te,ye,Be,bt)=>{for(var Et=Math.min(he.length,ye.length),tt=-1,yt=0;yt<Et;++yt){var It=Le[yt];if(It!==ye[yt])return Be(he[yt],Te[yt])<0?he.substr(0,yt)+Te[yt]+Te.substr(yt+1):Be(he[yt],ye[yt])<0?he.substr(0,yt)+ye[yt]+Te.substr(yt+1):0<=tt?he.substr(0,tt)+Le[tt]+Te.substr(tt+1):null;Be(he[yt],It)<0&&(tt=yt)}return Et<ye.length&&bt==="next"?he+Te.substr(he.length):Et<he.length&&bt==="prev"?he.substr(0,Te.length):tt<0?null:he.substr(0,tt)+ye[tt]+Te.substr(tt+1)})(q,ae,N[xe],M[xe],C,V);Ee===null&&ce===null?I=xe+1:(ce===null||0<C(ce,Ee))&&(ce=Ee)}Q(ce!==null?function(){A.continue(ce+L)}:te)}return!1}),U}function xn(o,u,f,m){return{type:2,lower:o,upper:u,lowerOpen:f,upperOpen:m}}function Er(o){return{type:1,lower:o,upper:o}}Object.defineProperty(zt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),zt.prototype.between=function(o,u,f,m){f=f!==!1,m=m===!0;try{return 0<this._cmp(o,u)||this._cmp(o,u)===0&&(f||m)&&(!f||!m)?Sr(this):new this.Collection(this,function(){return xn(o,u,!f,!m)})}catch{return vn(this,gt)}},zt.prototype.equals=function(o){return o==null?vn(this,gt):new this.Collection(this,function(){return Er(o)})},zt.prototype.above=function(o){return o==null?vn(this,gt):new this.Collection(this,function(){return xn(o,void 0,!0)})},zt.prototype.aboveOrEqual=function(o){return o==null?vn(this,gt):new this.Collection(this,function(){return xn(o,void 0,!1)})},zt.prototype.below=function(o){return o==null?vn(this,gt):new this.Collection(this,function(){return xn(void 0,o,!1,!0)})},zt.prototype.belowOrEqual=function(o){return o==null?vn(this,gt):new this.Collection(this,function(){return xn(void 0,o)})},zt.prototype.startsWith=function(o){return typeof o!="string"?vn(this,Sa):this.between(o,o+rn,!0,!0)},zt.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):nr(this,function(u,f){return u.indexOf(f[0])===0},[o],rn)},zt.prototype.equalsIgnoreCase=function(o){return nr(this,function(u,f){return u===f[0]},[o],"")},zt.prototype.anyOfIgnoreCase=function(){var o=Y.apply(De,arguments);return o.length===0?Sr(this):nr(this,function(u,f){return f.indexOf(u)!==-1},o,"")},zt.prototype.startsWithAnyOfIgnoreCase=function(){var o=Y.apply(De,arguments);return o.length===0?Sr(this):nr(this,function(u,f){return f.some(function(m){return u.indexOf(m)===0})},o,rn)},zt.prototype.anyOf=function(){var o,u,f=this,m=Y.apply(De,arguments),y=this._cmp;try{m.sort(y)}catch{return vn(this,gt)}return m.length===0?Sr(this):((o=new this.Collection(this,function(){return xn(m[0],m[m.length-1])}))._ondirectionchange=function(w){y=w==="next"?f._ascending:f._descending,m.sort(y)},u=0,o._addAlgorithm(function(w,C,N){for(var M=w.key;0<y(M,m[u]);)if(++u===m.length)return C(N),!1;return y(M,m[u])===0||(C(function(){w.continue(m[u])}),!1)}),o)},zt.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},zt.prototype.noneOf=function(){var o=Y.apply(De,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return vn(this,gt)}var u=o.reduce(function(f,m){return f?f.concat([[f[f.length-1][1],m]]):[[-1/0,m]]},null);return u.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},zt.prototype.inAnyRange=function(o,te){var f=this,m=this._cmp,y=this._ascending,w=this._descending,C=this._min,N=this._max;if(o.length===0)return Sr(this);if(!o.every(function(q){return q[0]!==void 0&&q[1]!==void 0&&y(q[0],q[1])<=0}))return vn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ce.InvalidArgument);var M=!te||te.includeLowers!==!1,V=te&&te.includeUppers===!0,L,O=y;function B(q,ae){return O(q[0],ae[0])}try{(L=o.reduce(function(q,ae){for(var ce=0,xe=q.length;ce<xe;++ce){var Ee=q[ce];if(m(ae[0],Ee[1])<0&&0<m(ae[1],Ee[0])){Ee[0]=C(Ee[0],ae[0]),Ee[1]=N(Ee[1],ae[1]);break}}return ce===xe&&q.push(ae),q},[])).sort(B)}catch{return vn(this,gt)}var U=0,I=V?function(q){return 0<y(q,L[U][1])}:function(q){return 0<=y(q,L[U][1])},A=M?function(q){return 0<w(q,L[U][0])}:function(q){return 0<=w(q,L[U][0])},Q=I,te=new this.Collection(this,function(){return xn(L[0][0],L[L.length-1][1],!M,!V)});return te._ondirectionchange=function(q){O=q==="next"?(Q=I,y):(Q=A,w),L.sort(B)},te._addAlgorithm(function(q,ae,ce){for(var xe,Ee=q.key;Q(Ee);)if(++U===L.length)return ae(ce),!1;return!I(xe=Ee)&&!A(xe)||(f._cmp(Ee,L[U][1])===0||f._cmp(Ee,L[U][0])===0||ae(function(){O===y?q.continue(L[U][0]):q.continue(L[U][1])}),!1)}),te},zt.prototype.startsWithAnyOf=function(){var o=Y.apply(De,arguments);return o.every(function(u){return typeof u=="string"})?o.length===0?Sr(this):this.inAnyRange(o.map(function(u){return[u,u+rn]})):vn(this,"startsWithAnyOf() only works with strings")};var Ca=zt;function zt(){}function an(o){return F(function(u){return ui(u),o(u.target.error),!1})}function ui(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var Na="storagemutated",ta="x-storagemutated-1",zr=si(null,Na),ks=(An.prototype._lock=function(){return ie(!qe.global),++this._reculock,this._reculock!==1||qe.global||(qe.lockOwnerFor=this),this},An.prototype._unlock=function(){if(ie(!qe.global),--this._reculock==0)for(qe.global||(qe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{mt(o[1],o[0])}catch{}}return this},An.prototype._locked=function(){return this._reculock&&qe.lockOwnerFor!==this},An.prototype.create=function(o){var u=this;if(this.mode){var f=this.db.idbdb,m=this.db._state.dbOpenError;if(ie(!this.idbtrans),!o&&!f)switch(m&&m.name){case"DatabaseClosedError":throw new Ce.DatabaseClosed(m);case"MissingAPIError":throw new Ce.MissingAPI(m.message,m);default:throw new Ce.OpenFailed(m)}if(!this.active)throw new Ce.TransactionInactive;ie(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=F(function(y){ui(y),u._reject(o.error)}),o.onabort=F(function(y){ui(y),u.active&&u._reject(new Ce.Abort(o.error)),u.active=!1,u.on("abort").fire(y)}),o.oncomplete=F(function(){u.active=!1,u._resolve(),"mutatedParts"in o&&zr.storagemutated.fire(o.mutatedParts)})}return this},An.prototype._promise=function(o,u,f){var m,y=this;return o==="readwrite"&&this.mode!=="readwrite"?jt(new Ce.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Ne(function(w,C){y._blockedFuncs.push([function(){y._promise(o,u,f).then(w,C)},qe])}):f?Fe(function(){var w=new Ne(function(C,N){y._lock();var M=u(C,N,y);M&&M.then&&M.then(C,N)});return w.finally(function(){return y._unlock()}),w._lib=!0,w}):((m=new Ne(function(w,C){var N=u(w,C,y);N&&N.then&&N.then(w,C)}))._lib=!0,m):jt(new Ce.TransactionInactive)},An.prototype._root=function(){return this.parent?this.parent._root():this},An.prototype.waitFor=function(o){var u,f=this._root(),m=Ne.resolve(o),y=(f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return m}):(f._waitingFor=m,f._waitingQueue=[],u=f.idbtrans.objectStore(f.storeNames[0]),(function w(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(u.get(-1/0).onsuccess=w)})()),f._waitingFor);return new Ne(function(w,C){m.then(function(N){return f._waitingQueue.push(F(w.bind(null,N)))},function(N){return f._waitingQueue.push(F(C.bind(null,N)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},An.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ce.Abort))},An.prototype.table=function(o){var u=this._memoizedTables||(this._memoizedTables={});if(k(u,o))return u[o];var f=this.schema[o];if(f)return(f=new this.db.Table(o,f,this)).core=this.db.core.table(o),u[o]=f;throw new Ce.NotFound("Table "+o+" not part of transaction")},An);function An(){}function Bi(o,u,f,m,y,w,C,N){return{name:o,keyPath:u,unique:f,multi:m,auto:y,compound:w,src:(f&&!C?"&":"")+(m?"*":"")+(y?"++":"")+Cs(u),type:N}}function Cs(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function na(o,u,f){return{name:o,primKey:u,indexes:f,mappedClass:null,idxByName:(m=function(y){return[y.name,y]},f.reduce(function(y,w,C){return w=m(w,C),w&&(y[w[0]]=w[1]),y},{}))};var m}var kr=function(o){try{return o.only([[]]),kr=function(){return[[]]},[[]]}catch{return kr=function(){return rn},rn}};function Hr(o){return o==null?function(){}:typeof o=="string"?(u=o).split(".").length===1?function(f){return f[u]}:function(f){return Ge(f,u)}:function(f){return Ge(f,o)};var u}function ci(o){return[].slice.call(o)}var ql=0;function di(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function Po(o,u,M){function m(I){if(I.type===3)return null;if(I.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var O=I.lower,B=I.upper,U=I.lowerOpen,I=I.upperOpen;return O===void 0?B===void 0?null:u.upperBound(B,!!I):B===void 0?u.lowerBound(O,!!U):u.bound(O,B,!!U,!!I)}function y(L){var O,B=L.name;return{name:B,schema:L,mutate:function(U){var I=U.trans,A=U.type,Q=U.keys,te=U.values,q=U.range;return new Promise(function(ae,ce){ae=F(ae);var xe=I.objectStore(B),Ee=xe.keyPath==null,he=A==="put"||A==="add";if(!he&&A!=="delete"&&A!=="deleteRange")throw new Error("Invalid operation type: "+A);var Le,Te=(Q||te||{length:1}).length;if(Q&&te&&Q.length!==te.length)throw new Error("Given keys array must have same length as given values array.");if(Te===0)return ae({numFailures:0,failures:{},results:[],lastResult:void 0});function ye(Pt){++Et,ui(Pt)}var Be=[],bt=[],Et=0;if(A==="deleteRange"){if(q.type===4)return ae({numFailures:Et,failures:bt,results:[],lastResult:void 0});q.type===3?Be.push(Le=xe.clear()):Be.push(Le=xe.delete(m(q)))}else{var Ee=he?Ee?[te,Q]:[te,null]:[Q,null],tt=Ee[0],yt=Ee[1];if(he)for(var It=0;It<Te;++It)Be.push(Le=yt&&yt[It]!==void 0?xe[A](tt[It],yt[It]):xe[A](tt[It])),Le.onerror=ye;else for(It=0;It<Te;++It)Be.push(Le=xe[A](tt[It])),Le.onerror=ye}function In(Pt){Pt=Pt.target.result,Be.forEach(function(Rr,gi){return Rr.error!=null&&(bt[gi]=Rr.error)}),ae({numFailures:Et,failures:bt,results:A==="delete"?Q:Be.map(function(Rr){return Rr.result}),lastResult:Pt})}Le.onerror=function(Pt){ye(Pt),In(Pt)},Le.onsuccess=In})},getMany:function(U){var I=U.trans,A=U.keys;return new Promise(function(Q,te){Q=F(Q);for(var q,ae=I.objectStore(B),ce=A.length,xe=new Array(ce),Ee=0,he=0,Le=function(Be){Be=Be.target,xe[Be._pos]=Be.result,++he===Ee&&Q(xe)},Te=an(te),ye=0;ye<ce;++ye)A[ye]!=null&&((q=ae.get(A[ye]))._pos=ye,q.onsuccess=Le,q.onerror=Te,++Ee);Ee===0&&Q(xe)})},get:function(U){var I=U.trans,A=U.key;return new Promise(function(Q,te){Q=F(Q);var q=I.objectStore(B).get(A);q.onsuccess=function(ae){return Q(ae.target.result)},q.onerror=an(te)})},query:(O=N,function(U){return new Promise(function(I,A){I=F(I);var Q,te,q,he=U.trans,ae=U.values,ce=U.limit,Ee=U.query,xe=ce===1/0?void 0:ce,Le=Ee.index,Ee=Ee.range,he=he.objectStore(B),he=Le.isPrimaryKey?he:he.index(Le.name),Le=m(Ee);if(ce===0)return I({result:[]});O?((Ee=ae?he.getAll(Le,xe):he.getAllKeys(Le,xe)).onsuccess=function(Te){return I({result:Te.target.result})},Ee.onerror=an(A)):(Q=0,te=!ae&&"openKeyCursor"in he?he.openKeyCursor(Le):he.openCursor(Le),q=[],te.onsuccess=function(Te){var ye=te.result;return!ye||(q.push(ae?ye.value:ye.primaryKey),++Q===ce)?I({result:q}):void ye.continue()},te.onerror=an(A))})}),openCursor:function(U){var I=U.trans,A=U.values,Q=U.query,te=U.reverse,q=U.unique;return new Promise(function(ae,ce){ae=F(ae);var he=Q.index,xe=Q.range,Ee=I.objectStore(B),Ee=he.isPrimaryKey?Ee:Ee.index(he.name),he=te?q?"prevunique":"prev":q?"nextunique":"next",Le=!A&&"openKeyCursor"in Ee?Ee.openKeyCursor(m(xe),he):Ee.openCursor(m(xe),he);Le.onerror=an(ce),Le.onsuccess=F(function(Te){var ye,Be,bt,Et,tt=Le.result;tt?(tt.___id=++ql,tt.done=!1,ye=tt.continue.bind(tt),Be=(Be=tt.continuePrimaryKey)&&Be.bind(tt),bt=tt.advance.bind(tt),Et=function(){throw new Error("Cursor not stopped")},tt.trans=I,tt.stop=tt.continue=tt.continuePrimaryKey=tt.advance=function(){throw new Error("Cursor not started")},tt.fail=F(ce),tt.next=function(){var yt=this,It=1;return this.start(function(){return It--?yt.continue():yt.stop()}).then(function(){return yt})},tt.start=function(yt){function It(){if(Le.result)try{yt()}catch(Pt){tt.fail(Pt)}else tt.done=!0,tt.start=function(){throw new Error("Cursor behind last entry")},tt.stop()}var In=new Promise(function(Pt,Rr){Pt=F(Pt),Le.onerror=an(Rr),tt.fail=Rr,tt.stop=function(gi){tt.stop=tt.continue=tt.continuePrimaryKey=tt.advance=Et,Pt(gi)}});return Le.onsuccess=F(function(Pt){Le.onsuccess=It,It()}),tt.continue=ye,tt.continuePrimaryKey=Be,tt.advance=bt,It(),In},ae(tt)):ae(null)},ce)})},count:function(U){var I=U.query,A=U.trans,Q=I.index,te=I.range;return new Promise(function(q,ae){var ce=A.objectStore(B),ce=Q.isPrimaryKey?ce:ce.index(Q.name),xe=m(te),xe=xe?ce.count(xe):ce.count();xe.onsuccess=F(function(Ee){return q(Ee.target.result)}),xe.onerror=an(ae)})}}}w=M,C=ci((M=o).objectStoreNames);var w,M={schema:{name:M.name,tables:C.map(function(L){return w.objectStore(L)}).map(function(L){var O=L.keyPath,B=L.autoIncrement,I=v(O),U={},I={name:L.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:O==null,compound:I,keyPath:O,autoIncrement:B,unique:!0,extractKey:Hr(O)},indexes:ci(L.indexNames).map(function(A){return L.index(A)}).map(function(q){var ae=q.name,Q=q.unique,te=q.multiEntry,q=q.keyPath,ae={name:ae,compound:v(q),keyPath:q,unique:Q,multiEntry:te,extractKey:Hr(q)};return U[di(q)]=ae}),getIndexByKeyPath:function(A){return U[di(A)]}};return U[":id"]=I.primaryKey,O!=null&&(U[di(O)]=I.primaryKey),I})},hasGetAll:0<C.length&&"getAll"in w.objectStore(C[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},C=M.schema,N=M.hasGetAll,M=C.tables.map(y),V={};return M.forEach(function(L){return V[L.name]=L}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(L){if(V[L])return V[L];throw new Error("Table '".concat(L,"' not found"))},MIN_KEY:-1/0,MAX_KEY:kr(u),schema:C}}function Ui(o,u,f,m){return f=f.IDBKeyRange,u=Po(u,f,m),{dbcore:o.dbcore.reduce(function(y,w){return w=w.create,l(l({},y),w(y))},u)}}function _a(o,u){var f=u.db,f=Ui(o._middlewares,f,o._deps,u);o.core=f.dbcore,o.tables.forEach(function(m){var y=m.name;o.core.schema.tables.some(function(w){return w.name===y})&&(m.core=o.core.table(y),o[y]instanceof o.Table)&&(o[y].core=m.core)})}function fi(o,u,f,m){f.forEach(function(y){var w=m[y];u.forEach(function(C){var N=(function M(V,L){return re(V,L)||(V=E(V))&&M(V,L)})(C,y);(!N||"value"in N&&N.value===void 0)&&(C===o.Transaction.prototype||C instanceof o.Transaction?z(C,y,{get:function(){return this.table(y)},set:function(M){$(this,y,{value:M,writable:!0,configurable:!0,enumerable:!0})}}):C[y]=new o.Table(y,w))})})}function cr(o,u){u.forEach(function(f){for(var m in f)f[m]instanceof o.Table&&delete f[m]})}function Ro(o,u){return o._cfg.version-u._cfg.version}function zi(o,u,f,m){var y=o._dbSchema,w=(f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=na("$meta",Ta("")[0],[]),o._storeNames.push("$meta")),o._createTransaction("readwrite",o._storeNames,y)),C=(w.create(f),w._completion.catch(m),w._reject.bind(w)),N=qe.transless||qe;Fe(function(){if(qe.trans=w,qe.transless=N,u!==0)return _a(o,f),V=u,((M=w).storeNames.includes("$meta")?M.table("$meta").get("version").then(function(L){return L??V}):Ne.resolve(V)).then(function(Q){var O=o,B=Q,U=w,I=f,A=[],Q=O._versions,te=O._dbSchema=Cr(0,O.idbdb,I);return(Q=Q.filter(function(q){return q._cfg.version>=B})).length===0?Ne.resolve():(Q.forEach(function(q){A.push(function(){var ae,ce,xe,Ee=te,he=q._cfg.dbschema,Le=(ja(O,Ee,I),ja(O,he,I),te=O._dbSchema=he,Pa(Ee,he)),Te=(Le.add.forEach(function(ye){Ra(I,ye[0],ye[1].primKey,ye[1].indexes)}),Le.change.forEach(function(ye){if(ye.recreate)throw new Ce.Upgrade("Not yet support for changing primary key");var Be=I.objectStore(ye.name);ye.add.forEach(function(bt){return dn(Be,bt)}),ye.change.forEach(function(bt){Be.deleteIndex(bt.name),dn(Be,bt)}),ye.del.forEach(function(bt){return Be.deleteIndex(bt)})}),q._cfg.contentUpgrade);if(Te&&q._cfg.version>B)return _a(O,I),U._memoizedTables={},ae=ke(he),Le.del.forEach(function(ye){ae[ye]=Ee[ye]}),cr(O,[O.Transaction.prototype]),fi(O,[O.Transaction.prototype],g(ae),ae),U.schema=ae,(ce=P(Te))&&Ie(),he=Ne.follow(function(){var ye;(xe=Te(U))&&ce&&(ye=Ae.bind(null,null),xe.then(ye,ye))}),xe&&typeof xe.then=="function"?Ne.resolve(xe):he.then(function(){return xe})}),A.push(function(ae){var ce,xe,Ee=q._cfg.dbschema;ce=Ee,xe=ae,[].slice.call(xe.db.objectStoreNames).forEach(function(he){return ce[he]==null&&xe.db.deleteObjectStore(he)}),cr(O,[O.Transaction.prototype]),fi(O,[O.Transaction.prototype],O._storeNames,O._dbSchema),U.schema=O._dbSchema}),A.push(function(ae){O.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(O.idbdb.version/10)===q._cfg.version?(O.idbdb.deleteObjectStore("$meta"),delete O._dbSchema.$meta,O._storeNames=O._storeNames.filter(function(ce){return ce!=="$meta"})):ae.objectStore("$meta").put(q._cfg.version,"version"))})}),(function q(){return A.length?Ne.resolve(A.shift()(U.idbtrans)).then(q):Ne.resolve()})().then(function(){jo(te,I)}))}).catch(C);var M,V;g(y).forEach(function(L){Ra(f,L,y[L].primKey,y[L].indexes)}),_a(o,f),Ne.follow(function(){return o.on.populate.fire(w)}).catch(C)})}function Ns(o,u){jo(o._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var f=Cr(0,o.idbdb,u);ja(o,o._dbSchema,u);for(var m=0,y=Pa(f,o._dbSchema).change;m<y.length;m++){var w=(C=>{if(C.change.length||C.recreate)return console.warn("Unable to patch indexes of table ".concat(C.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=u.objectStore(C.name);C.add.forEach(function(M){tn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(C.name,".").concat(M.src)),dn(N,M)})})(y[m]);if(typeof w=="object")return w.value}}function Pa(o,u){var f,m={del:[],add:[],change:[]};for(f in o)u[f]||m.del.push(f);for(f in u){var y=o[f],w=u[f];if(y){var C={name:f,def:w,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(w.primKey.keyPath||"")||y.primKey.auto!==w.primKey.auto)C.recreate=!0,m.change.push(C);else{var N=y.idxByName,M=w.idxByName,V=void 0;for(V in N)M[V]||C.del.push(V);for(V in M){var L=N[V],O=M[V];L?L.src!==O.src&&C.change.push(O):C.add.push(O)}(0<C.del.length||0<C.add.length||0<C.change.length)&&m.change.push(C)}}else m.add.push([f,w])}return m}function Ra(o,u,f,m){var y=o.db.createObjectStore(u,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});m.forEach(function(w){return dn(y,w)})}function jo(o,u){g(o).forEach(function(f){u.db.objectStoreNames.contains(f)||(tn&&console.debug("Dexie: Creating missing table",f),Ra(u,f,o[f].primKey,o[f].indexes))})}function dn(o,u){o.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function Cr(o,u,f){var m={};return de(u.objectStoreNames,0).forEach(function(y){for(var w=f.objectStore(y),C=Bi(Cs(V=w.keyPath),V||"",!0,!1,!!w.autoIncrement,V&&typeof V!="string",!0),N=[],M=0;M<w.indexNames.length;++M){var L=w.index(w.indexNames[M]),V=L.keyPath,L=Bi(L.name,V,!!L.unique,!!L.multiEntry,!1,V&&typeof V!="string",!1);N.push(L)}m[y]=na(y,C,N)}),m}function ja(o,u,f){for(var m=f.db.objectStoreNames,y=0;y<m.length;++y){var w=m[y],C=f.objectStore(w);o._hasGetAll="getAll"in C;for(var N=0;N<C.indexNames.length;++N){var M,V=C.indexNames[N],L=C.index(V).keyPath,L=typeof L=="string"?L:"["+de(L).join("+")+"]";u[w]&&(M=u[w].idxByName[L])&&(M.name=V,delete u[w].idxByName[L],u[w].idxByName[V]=M)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function Ta(o){return o.split(",").map(function(u,f){var y=u.split(":"),m=(m=y[1])==null?void 0:m.trim(),y=(u=y[0].trim()).replace(/([&*]|\+\+)/g,""),w=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return Bi(y,w||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),v(w),f===0,m)})}$r.prototype._createTableSchema=na,$r.prototype._parseIndexSyntax=Ta,$r.prototype._parseStoresSpec=function(o,u){var f=this;g(o).forEach(function(m){if(o[m]!==null){var y=f._parseIndexSyntax(o[m]),w=y.shift();if(!w)throw new Ce.Schema("Invalid schema for table "+m+": "+o[m]);if(w.unique=!0,w.multi)throw new Ce.Schema("Primary key cannot be multiEntry*");y.forEach(function(C){if(C.auto)throw new Ce.Schema("Only primary key can be marked as autoIncrement (++)");if(!C.keyPath)throw new Ce.Schema("Index must have a name and cannot be an empty string")}),w=f._createTableSchema(m,w,y),u[m]=w}})},$r.prototype.stores=function(f){var u=this.db,f=(this._cfg.storesSource=this._cfg.storesSource?x(this._cfg.storesSource,f):f,u._versions),m={},y={};return f.forEach(function(w){x(m,w._cfg.storesSource),y=w._cfg.dbschema={},w._parseStoresSpec(m,y)}),u._dbSchema=y,cr(u,[u._allTables,u,u.Transaction.prototype]),fi(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],g(y),y),u._storeNames=g(y),this},$r.prototype.upgrade=function(o){return this._cfg.contentUpgrade=Jt(this._cfg.contentUpgrade||rt,o),this};var Wl=$r;function $r(){}function hi(o,u){var f=o._dbNamesDB;return f||(f=o._dbNamesDB=new _r(Ln,{addons:[],indexedDB:o,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function ra(o){return o&&typeof o.databases=="function"}function Oa(o){return Fe(function(){return qe.letThrough=!0,o()})}function Hi(o){return!("from"in o)}var fn=function(o,u){var f;if(!this)return f=new fn,o&&"d"in o&&x(f,o),f;x(this,arguments.length?{d:1,from:o,to:1<arguments.length?u:o}:{d:0})};function pi(o,u,f){var m=He(u,f);if(!isNaN(m)){if(0<m)throw RangeError();if(Hi(o))return x(o,{from:u,to:f,d:1});var m=o.l,y=o.r;if(He(f,o.from)<0)return m?pi(m,u,f):o.l={from:u,to:f,d:1,l:null,r:null},_s(o);if(0<He(u,o.to))return y?pi(y,u,f):o.r={from:u,to:f,d:1,l:null,r:null},_s(o);He(u,o.from)<0&&(o.from=u,o.l=null,o.d=y?y.d+1:1),0<He(f,o.to)&&(o.to=f,o.r=null,o.d=o.l?o.l.d+1:1),u=!o.r,m&&!o.l&&mi(o,m),y&&u&&mi(o,y)}}function mi(o,u){Hi(u)||(function f(m,y){var w=y.from,C=y.l,N=y.r;pi(m,w,y.to),C&&f(m,C),N&&f(m,N)})(o,u)}function $i(o,u){var f=Vi(u),m=f.next();if(!m.done)for(var y=m.value,w=Vi(o),C=w.next(y.from),N=C.value;!m.done&&!C.done;){if(He(N.from,y.to)<=0&&0<=He(N.to,y.from))return!0;He(y.from,N.from)<0?y=(m=f.next(N.from)).value:N=(C=w.next(y.from)).value}return!1}function Vi(o){var u=Hi(o)?null:{s:0,n:o};return{next:function(f){for(var m=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,m)for(;u.n.l&&He(f,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!m||He(f,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function _s(o){var u,f,m,y=(((y=o.r)==null?void 0:y.d)||0)-(((y=o.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(u=y=="r"?"l":"r",f=l({},o),m=o[y],o.from=m.from,o.to=m.to,o[y]=m[y],f[y]=m[u],(o[u]=f).d=Ps(f)),o.d=Ps(o)}function Ps(f){var u=f.r,f=f.l;return(u?f?Math.max(u.d,f.d):u.d:f?f.d:0)+1}function Ki(o,u){return g(u).forEach(function(f){o[f]?mi(o[f],u[f]):o[f]=(function m(y){var w,C,N={};for(w in y)k(y,w)&&(C=y[w],N[w]=!C||typeof C!="object"||ft.has(C.constructor)?C:m(C));return N})(u[f])}),o}function To(o,u){return o.all||u.all||Object.keys(o).some(function(f){return u[f]&&$i(u[f],o[f])})}T(fn.prototype,((nn={add:function(o){return mi(this,o),this},addKey:function(o){return pi(this,o,o),this},addKeys:function(o){var u=this;return o.forEach(function(f){return pi(u,f,f)}),this},hasKey:function(o){var u=Vi(this).next(o).value;return u&&He(u.from,o)<=0&&0<=He(u.to,o)}})[at]=function(){return Vi(this)},nn));var Vr={},Oo={},Do=!1;function qi(o){Ki(Oo,o),Do||(Do=!0,setTimeout(function(){Do=!1,Lo(Oo,!(Oo={}))},0))}function Lo(o,u){u===void 0&&(u=!1);var f=new Set;if(o.all)for(var m=0,y=Object.values(Vr);m<y.length;m++)Wi(N=y[m],o,f,u);else for(var w in o){var C,N,w=/^idb\:\/\/(.*)\/(.*)\//.exec(w);w&&(C=w[1],w=w[2],N=Vr["idb://".concat(C,"/").concat(w)])&&Wi(N,o,f,u)}f.forEach(function(M){return M()})}function Wi(o,u,f,m){for(var y=[],w=0,C=Object.entries(o.queries.query);w<C.length;w++){for(var N=C[w],M=N[0],V=[],L=0,O=N[1];L<O.length;L++){var B=O[L];To(u,B.obsSet)?B.subscribers.forEach(function(Q){return f.add(Q)}):m&&V.push(B)}m&&y.push([M,V])}if(m)for(var U=0,I=y;U<I.length;U++){var A=I[U],M=A[0],V=A[1];o.queries.query[M]=V}}function Yl(o){var u=o._state,f=o._deps.indexedDB;if(u.isBeingOpened||o.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?jt(u.dbOpenError):o});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var m=u.openCanceller,y=Math.round(10*o.verno),w=!1;function C(){if(u.openCanceller!==m)throw new Ce.DatabaseClosed("db.open() was cancelled")}function N(){return new Ne(function(B,U){if(C(),!f)throw new Ce.MissingAPI;var I=o.name,A=u.autoSchema||!y?f.open(I):f.open(I,y);if(!A)throw new Ce.MissingAPI;A.onerror=an(U),A.onblocked=F(o._fireOnBlocked),A.onupgradeneeded=F(function(Q){var te;L=A.transaction,u.autoSchema&&!o._options.allowEmptyDB?(A.onerror=ui,L.abort(),A.result.close(),(te=f.deleteDatabase(I)).onsuccess=te.onerror=F(function(){U(new Ce.NoSuchDatabase("Database ".concat(I," doesnt exist")))})):(L.onerror=an(U),te=Q.oldVersion>Math.pow(2,62)?0:Q.oldVersion,O=te<1,o.idbdb=A.result,w&&Ns(o,L),zi(o,te/10,L,U))},U),A.onsuccess=F(function(){L=null;var Q,te,q,ae,ce,xe,Ee=o.idbdb=A.result,he=de(Ee.objectStoreNames);if(0<he.length)try{var Le=Ee.transaction((ce=he).length===1?ce[0]:ce,"readonly");if(u.autoSchema)xe=Ee,ae=Le,(q=o).verno=xe.version/10,ae=q._dbSchema=Cr(0,xe,ae),q._storeNames=de(xe.objectStoreNames,0),fi(q,[q._allTables],g(ae),ae);else if(ja(o,o._dbSchema,Le),te=Le,((te=Pa(Cr(0,(Q=o).idbdb,te),Q._dbSchema)).add.length||te.change.some(function(Te){return Te.add.length||Te.change.length}))&&!w)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ee.close(),y=Ee.version+1,w=!0,B(N());_a(o,Le)}catch{}En.push(o),Ee.onversionchange=F(function(Te){u.vcFired=!0,o.on("versionchange").fire(Te)}),Ee.onclose=F(function(){o.close({disableAutoOpen:!1})}),O&&(he=o._deps,ce=I,ra(xe=he.indexedDB)||ce===Ln||hi(xe,he.IDBKeyRange).put({name:ce}).catch(rt)),B()},U)}).catch(function(B){switch(B==null?void 0:B.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<y)return y=0,N()}return Ne.reject(B)})}var M,V=u.dbReadyResolve,L=null,O=!1;return Ne.race([m,(typeof navigator>"u"?Ne.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(B){function U(){return indexedDB.databases().finally(B)}M=setInterval(U,100),U()}).finally(function(){return clearInterval(M)}):Promise.resolve()).then(N)]).then(function(){return C(),u.onReadyBeingFired=[],Ne.resolve(Oa(function(){return o.on.ready.fire(o.vip)})).then(function B(){var U;if(0<u.onReadyBeingFired.length)return U=u.onReadyBeingFired.reduce(Jt,rt),u.onReadyBeingFired=[],Ne.resolve(Oa(function(){return U(o.vip)})).then(B)})}).finally(function(){u.openCanceller===m&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(B){u.dbOpenError=B;try{L&&L.abort()}catch{}return m===u.openCanceller&&o._close(),jt(B)}).finally(function(){u.openComplete=!0,V()}).then(function(){var B;return O&&(B={},o.tables.forEach(function(U){U.schema.indexes.forEach(function(I){I.name&&(B["idb://".concat(o.name,"/").concat(U.name,"/").concat(I.name)]=new fn(-1/0,[[[]]]))}),B["idb://".concat(o.name,"/").concat(U.name,"/")]=B["idb://".concat(o.name,"/").concat(U.name,"/:dels")]=new fn(-1/0,[[[]]])}),zr(Na).fire(B),Lo(B,!0)),o})}function Ao(o){function u(w){return o.next(w)}var f=y(u),m=y(function(w){return o.throw(w)});function y(w){return function(N){var N=w(N),M=N.value;return N.done?M:M&&typeof M.then=="function"?M.then(f,m):v(M)?Promise.all(M).then(f,m):f(M)}}return y(u)()}function Yi(o,u,f){for(var m=v(o)?o.slice():[o],y=0;y<f;++y)m.push(u);return m}var Rs={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return l(l({},o),{table:function(m){var f=o.table(m),m=f.schema,y={},w=[];function C(B,U,I){var q=di(B),A=y[q]=y[q]||[],Q=B==null?0:typeof B=="string"?1:B.length,te=0<U,q=l(l({},I),{name:te?"".concat(q,"(virtual-from:").concat(I.name,")"):I.name,lowLevelIndex:I,isVirtual:te,keyTail:U,keyLength:Q,extractKey:Hr(B),unique:!te&&I.unique});return A.push(q),q.isPrimaryKey||w.push(q),1<Q&&C(Q===2?B[0]:B.slice(0,Q-1),U+1,I),A.sort(function(ae,ce){return ae.keyTail-ce.keyTail}),q}var N=C(m.primaryKey.keyPath,0,m.primaryKey);y[":id"]=[N];for(var M=0,V=m.indexes;M<V.length;M++){var L=V[M];C(L.keyPath,0,L)}function O(B){var U,I=B.query.index;return I.isVirtual?l(l({},B),{query:{index:I.lowLevelIndex,range:(U=B.query.range,I=I.keyTail,{type:U.type===1?2:U.type,lower:Yi(U.lower,U.lowerOpen?o.MAX_KEY:o.MIN_KEY,I),lowerOpen:!0,upper:Yi(U.upper,U.upperOpen?o.MIN_KEY:o.MAX_KEY,I),upperOpen:!0})}}):B}return l(l({},f),{schema:l(l({},m),{primaryKey:N,indexes:w,getIndexByKeyPath:function(B){return(B=y[di(B)])&&B[0]}}),count:function(B){return f.count(O(B))},query:function(B){return f.query(O(B))},openCursor:function(B){var U=B.query.index,I=U.keyTail,A=U.keyLength;return U.isVirtual?f.openCursor(O(B)).then(function(te){return te&&Q(te)}):f.openCursor(B);function Q(te){return Object.create(te,{continue:{value:function(q){q!=null?te.continue(Yi(q,B.reverse?o.MAX_KEY:o.MIN_KEY,I)):B.unique?te.continue(te.key.slice(0,A).concat(B.reverse?o.MIN_KEY:o.MAX_KEY,I)):te.continue()}},continuePrimaryKey:{value:function(q,ae){te.continuePrimaryKey(Yi(q,o.MAX_KEY,I),ae)}},primaryKey:{get:function(){return te.primaryKey}},key:{get:function(){var q=te.key;return A===1?q[0]:q.slice(0,A)}},value:{get:function(){return te.value}}})}}})}})}};function Io(o,u,f,m){return f=f||{},m=m||"",g(o).forEach(function(y){var w,C,N;k(u,y)?(w=o[y],C=u[y],typeof w=="object"&&typeof C=="object"&&w&&C?(N=nt(w))!==nt(C)?f[m+y]=u[y]:N==="Object"?Io(w,C,f,m+y+"."):w!==C&&(f[m+y]=u[y]):w!==C&&(f[m+y]=u[y])):f[m+y]=void 0}),g(u).forEach(function(y){k(o,y)||(f[m+y]=u[y])}),f}function Mo(o,u){return u.type==="delete"?u.keys:u.keys||u.values.map(o.extractKey)}var Ql={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return l(l({},o),{table:function(u){var f=o.table(u),m=f.schema.primaryKey;return l(l({},f),{mutate:function(y){var w=qe.trans,C=w.table(u).hook,N=C.deleting,M=C.creating,V=C.updating;switch(y.type){case"add":if(M.fire===rt)break;return w._promise("readwrite",function(){return L(y)},!0);case"put":if(M.fire===rt&&V.fire===rt)break;return w._promise("readwrite",function(){return L(y)},!0);case"delete":if(N.fire===rt)break;return w._promise("readwrite",function(){return L(y)},!0);case"deleteRange":if(N.fire===rt)break;return w._promise("readwrite",function(){return(function O(B,U,I){return f.query({trans:B,values:!1,query:{index:m,range:U},limit:I}).then(function(A){var Q=A.result;return L({type:"delete",keys:Q,trans:B}).then(function(te){return 0<te.numFailures?Promise.reject(te.failures[0]):Q.length<I?{failures:[],numFailures:0,lastResult:void 0}:O(B,l(l({},U),{lower:Q[Q.length-1],lowerOpen:!0}),I)})})})(y.trans,y.range,1e4)},!0)}return f.mutate(y);function L(O){var B,U,I,A=qe.trans,Q=O.keys||Mo(m,O);if(Q)return(O=O.type==="add"||O.type==="put"?l(l({},O),{keys:Q}):l({},O)).type!=="delete"&&(O.values=c([],O.values)),O.keys&&(O.keys=c([],O.keys)),B=f,I=Q,((U=O).type==="add"?Promise.resolve([]):B.getMany({trans:U.trans,keys:I,cache:"immutable"})).then(function(te){var q=Q.map(function(ae,ce){var xe,Ee,he,Le=te[ce],Te={onerror:null,onsuccess:null};return O.type==="delete"?N.fire.call(Te,ae,Le,A):O.type==="add"||Le===void 0?(xe=M.fire.call(Te,ae,O.values[ce],A),ae==null&&xe!=null&&(O.keys[ce]=ae=xe,m.outbound||K(O.values[ce],m.keyPath,ae))):(xe=Io(Le,O.values[ce]),(Ee=V.fire.call(Te,xe,ae,Le,A))&&(he=O.values[ce],Object.keys(Ee).forEach(function(ye){k(he,ye)?he[ye]=Ee[ye]:K(he,ye,Ee[ye])}))),Te});return f.mutate(O).then(function(ae){for(var ce=ae.failures,xe=ae.results,Ee=ae.numFailures,ae=ae.lastResult,he=0;he<Q.length;++he){var Le=(xe||Q)[he],Te=q[he];Le==null?Te.onerror&&Te.onerror(ce[he]):Te.onsuccess&&Te.onsuccess(O.type==="put"&&te[he]?O.values[he]:Le)}return{failures:ce,results:xe,numFailures:Ee,lastResult:ae}}).catch(function(ae){return q.forEach(function(ce){return ce.onerror&&ce.onerror(ae)}),Promise.reject(ae)})});throw new Error("Keys missing")}}})}})}};function js(o,u,f){try{if(!u||u.keys.length<o.length)return null;for(var m=[],y=0,w=0;y<u.keys.length&&w<o.length;++y)He(u.keys[y],o[w])===0&&(m.push(f?be(u.values[y]):u.values[y]),++w);return m.length===o.length?m:null}catch{return null}}var Gl={stack:"dbcore",level:-1,create:function(o){return{table:function(u){var f=o.table(u);return l(l({},f),{getMany:function(m){var y;return m.cache?(y=js(m.keys,m.trans._cache,m.cache==="clone"))?Ne.resolve(y):f.getMany(m).then(function(w){return m.trans._cache={keys:m.keys,values:m.cache==="clone"?be(w):w},w}):f.getMany(m)},mutate:function(m){return m.type!=="add"&&(m.trans._cache=null),f.mutate(m)}})}}}};function Ts(o,u){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function Os(o,u){switch(o){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Fo={stack:"dbcore",level:0,name:"Observability",create:function(o){var u=o.schema.name,f=new fn(o.MIN_KEY,o.MAX_KEY);return l(l({},o),{transaction:function(m,y,w){if(qe.subscr&&y!=="readonly")throw new Ce.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(qe.querier));return o.transaction(m,y,w)},table:function(m){function y(Q){var A,Q=Q.query;return[A=Q.index,new fn((A=(Q=Q.range).lower)!=null?A:o.MIN_KEY,(A=Q.upper)!=null?A:o.MAX_KEY)]}var w=o.table(m),C=w.schema,N=C.primaryKey,M=C.indexes,V=N.extractKey,L=N.outbound,O=N.autoIncrement&&M.filter(function(I){return I.compound&&I.keyPath.includes(N.keyPath)}),B=l(l({},w),{mutate:function(I){function A(Be){return Be="idb://".concat(u,"/").concat(m,"/").concat(Be),ce[Be]||(ce[Be]=new fn)}var Q,te,q,ae=I.trans,ce=I.mutatedParts||(I.mutatedParts={}),xe=A(""),Ee=A(":dels"),he=I.type,Te=I.type==="deleteRange"?[I.range]:I.type==="delete"?[I.keys]:I.values.length<50?[Mo(N,I).filter(function(Be){return Be}),I.values]:[],Le=Te[0],Te=Te[1],ye=I.trans._cache;return v(Le)?(xe.addKeys(Le),(he=he==="delete"||Le.length===Te.length?js(Le,ye):null)||Ee.addKeys(Le),(he||Te)&&(Q=A,te=he,q=Te,C.indexes.forEach(function(Be){var bt=Q(Be.name||"");function Et(yt){return yt!=null?Be.extractKey(yt):null}function tt(yt){Be.multiEntry&&v(yt)?yt.forEach(function(It){return bt.addKey(It)}):bt.addKey(yt)}(te||q).forEach(function(yt,Pt){var In=te&&Et(te[Pt]),Pt=q&&Et(q[Pt]);He(In,Pt)!==0&&(In!=null&&tt(In),Pt!=null)&&tt(Pt)})}))):Le?(Te={from:(ye=Le.lower)!=null?ye:o.MIN_KEY,to:(he=Le.upper)!=null?he:o.MAX_KEY},Ee.add(Te),xe.add(Te)):(xe.add(f),Ee.add(f),C.indexes.forEach(function(Be){return A(Be.name).add(f)})),w.mutate(I).then(function(Be){return!Le||I.type!=="add"&&I.type!=="put"||(xe.addKeys(Be.results),O&&O.forEach(function(bt){for(var Et=I.values.map(function(In){return bt.extractKey(In)}),tt=bt.keyPath.findIndex(function(In){return In===N.keyPath}),yt=0,It=Be.results.length;yt<It;++yt)Et[yt][tt]=Be.results[yt];A(bt.name).addKeys(Et)})),ae.mutatedParts=Ki(ae.mutatedParts||{},ce),Be})}}),U={get:function(I){return[N,new fn(I.key)]},getMany:function(I){return[N,new fn().addKeys(I.keys)]},count:y,query:y,openCursor:y};return g(U).forEach(function(I){B[I]=function(A){var Q=qe.subscr,te=!!Q,q=Ts(qe,w)&&Os(I,A)?A.obsSet={}:Q;if(te){var ae,Q=function(Te){return Te="idb://".concat(u,"/").concat(m,"/").concat(Te),q[Te]||(q[Te]=new fn)},ce=Q(""),xe=Q(":dels"),te=U[I](A),Ee=te[0],te=te[1];if((I==="query"&&Ee.isPrimaryKey&&!A.values?xe:Q(Ee.name||"")).add(te),!Ee.isPrimaryKey){if(I!=="count")return ae=I==="query"&&L&&A.values&&w.query(l(l({},A),{values:!1})),w[I].apply(this,arguments).then(function(Te){if(I==="query"){if(L&&A.values)return ae.then(function(Et){return Et=Et.result,ce.addKeys(Et),Te});var ye=A.values?Te.result.map(V):Te.result;(A.values?ce:xe).addKeys(ye)}else{var Be,bt;if(I==="openCursor")return bt=A.values,(Be=Te)&&Object.create(Be,{key:{get:function(){return xe.addKey(Be.primaryKey),Be.key}},primaryKey:{get:function(){var Et=Be.primaryKey;return xe.addKey(Et),Et}},value:{get:function(){return bt&&ce.addKey(Be.primaryKey),Be.value}}})}return Te});xe.add(f)}}return w[I].apply(this,arguments)}}),B}})}};function Da(o,u,f){var m;return f.numFailures===0?u:u.type==="deleteRange"||(m=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,f.numFailures===m)?null:(m=l({},u),v(m.keys)&&(m.keys=m.keys.filter(function(y,w){return!(w in f.failures)})),"values"in m&&v(m.values)&&(m.values=m.values.filter(function(y,w){return!(w in f.failures)})),m)}function Bo(o,u){return f=o,((m=u).lower===void 0||(m.lowerOpen?0<He(f,m.lower):0<=He(f,m.lower)))&&(f=o,(m=u).upper===void 0||(m.upperOpen?He(f,m.upper)<0:He(f,m.upper)<=0));var f,m}function Uo(o,u,f,m,y,w){var C,N,M,V,L,O;return!f||f.length===0||(C=u.query.index,N=C.multiEntry,M=u.query.range,V=m.schema.primaryKey.extractKey,L=C.extractKey,O=(C.lowLevelIndex||C).extractKey,(m=f.reduce(function(B,U){var I=B,A=[];if(U.type==="add"||U.type==="put")for(var Q=new fn,te=U.values.length-1;0<=te;--te){var q,ae=U.values[te],ce=V(ae);!Q.hasKey(ce)&&(q=L(ae),N&&v(q)?q.some(function(Te){return Bo(Te,M)}):Bo(q,M))&&(Q.addKey(ce),A.push(ae))}switch(U.type){case"add":var xe=new fn().addKeys(u.values?B.map(function(ye){return V(ye)}):B),I=B.concat(u.values?A.filter(function(ye){return ye=V(ye),!xe.hasKey(ye)&&(xe.addKey(ye),!0)}):A.map(function(ye){return V(ye)}).filter(function(ye){return!xe.hasKey(ye)&&(xe.addKey(ye),!0)}));break;case"put":var Ee=new fn().addKeys(U.values.map(function(ye){return V(ye)}));I=B.filter(function(ye){return!Ee.hasKey(u.values?V(ye):ye)}).concat(u.values?A:A.map(function(ye){return V(ye)}));break;case"delete":var he=new fn().addKeys(U.keys);I=B.filter(function(ye){return!he.hasKey(u.values?V(ye):ye)});break;case"deleteRange":var Le=U.range;I=B.filter(function(ye){return!Bo(V(ye),Le)})}return I},o))===o)?o:(m.sort(function(B,U){return He(O(B),O(U))||He(V(B),V(U))}),u.limit&&u.limit<1/0&&(m.length>u.limit?m.length=u.limit:o.length===u.limit&&m.length<u.limit&&(y.dirty=!0)),w?Object.freeze(m):m)}function zo(o,u){return He(o.lower,u.lower)===0&&He(o.upper,u.upper)===0&&!!o.lowerOpen==!!u.lowerOpen&&!!o.upperOpen==!!u.upperOpen}function Ds(o,u){return((f,m,y,w)=>{if(f===void 0)return m!==void 0?-1:0;if(m===void 0)return 1;if((f=He(f,m))===0){if(y&&w)return 0;if(y)return 1;if(w)return-1}return f})(o.lower,u.lower,o.lowerOpen,u.lowerOpen)<=0&&0<=((f,m,y,w)=>{if(f===void 0)return m!==void 0?1:0;if(m===void 0)return-1;if((f=He(f,m))===0){if(y&&w)return 0;if(y)return-1;if(w)return 1}return f})(o.upper,u.upper,o.upperOpen,u.upperOpen)}function Ls(o,u,f,m){o.subscribers.add(f),m.addEventListener("abort",function(){var y,w;o.subscribers.delete(f),o.subscribers.size===0&&(y=o,w=u,setTimeout(function(){y.subscribers.size===0&&se(w,y)},3e3))})}var As={stack:"dbcore",level:0,name:"Cache",create:function(o){var u=o.schema.name;return l(l({},o),{transaction:function(f,m,y){var w,C,N=o.transaction(f,m,y);return m==="readwrite"&&(y=(w=new AbortController).signal,N.addEventListener("abort",(C=function(M){return function(){if(w.abort(),m==="readwrite"){for(var V=new Set,L=0,O=f;L<O.length;L++){var B=O[L],U=Vr["idb://".concat(u,"/").concat(B)];if(U){var I=o.table(B),A=U.optimisticOps.filter(function(Be){return Be.trans===N});if(N._explicit&&M&&N.mutatedParts)for(var Q=0,te=Object.values(U.queries.query);Q<te.length;Q++)for(var q=0,ae=(Ee=te[Q]).slice();q<ae.length;q++)To((he=ae[q]).obsSet,N.mutatedParts)&&(se(Ee,he),he.subscribers.forEach(function(Be){return V.add(Be)}));else if(0<A.length){U.optimisticOps=U.optimisticOps.filter(function(Be){return Be.trans!==N});for(var ce=0,xe=Object.values(U.queries.query);ce<xe.length;ce++)for(var Ee,he,Le,Te=0,ye=(Ee=xe[ce]).slice();Te<ye.length;Te++)(he=ye[Te]).res!=null&&N.mutatedParts&&(M&&!he.dirty?(Le=Object.isFrozen(he.res),Le=Uo(he.res,he.req,A,I,he,Le),he.dirty?(se(Ee,he),he.subscribers.forEach(function(Be){return V.add(Be)})):Le!==he.res&&(he.res=Le,he.promise=Ne.resolve({result:Le}))):(he.dirty&&se(Ee,he),he.subscribers.forEach(function(Be){return V.add(Be)})))}}}V.forEach(function(Be){return Be()})}}})(!1),{signal:y}),N.addEventListener("error",C(!1),{signal:y}),N.addEventListener("complete",C(!0),{signal:y})),N},table:function(f){var m=o.table(f),y=m.schema.primaryKey;return l(l({},m),{mutate:function(w){var C,N=qe.trans;return!y.outbound&&N.db._options.cache!=="disabled"&&!N.explicit&&N.idbtrans.mode==="readwrite"&&(C=Vr["idb://".concat(u,"/").concat(f)])?(N=m.mutate(w),w.type!=="add"&&w.type!=="put"||!(50<=w.values.length||Mo(y,w).some(function(M){return M==null}))?(C.optimisticOps.push(w),w.mutatedParts&&qi(w.mutatedParts),N.then(function(M){0<M.numFailures&&(se(C.optimisticOps,w),(M=Da(0,w,M))&&C.optimisticOps.push(M),w.mutatedParts)&&qi(w.mutatedParts)}),N.catch(function(){se(C.optimisticOps,w),w.mutatedParts&&qi(w.mutatedParts)})):N.then(function(M){var V=Da(0,l(l({},w),{values:w.values.map(function(L,O){var B;return M.failures[O]?L:(K(B=(B=y.keyPath)!=null&&B.includes(".")?be(L):l({},L),y.keyPath,M.results[O]),B)})}),M);C.optimisticOps.push(V),queueMicrotask(function(){return w.mutatedParts&&qi(w.mutatedParts)})}),N):m.mutate(w)},query:function(w){var C,N,M,V,L,O,B;return Ts(qe,m)&&Os("query",w)?(C=((M=qe.trans)==null?void 0:M.db._options.cache)==="immutable",N=(M=qe).requery,M=M.signal,O=((U,I,A,Q)=>{var te=Vr["idb://".concat(U,"/").concat(I)];if(!te)return[];if(!(U=te.queries[A]))return[null,!1,te,null];var q=U[(Q.query?Q.query.index.name:null)||""];if(!q)return[null,!1,te,null];switch(A){case"query":var ae=q.find(function(ce){return ce.req.limit===Q.limit&&ce.req.values===Q.values&&zo(ce.req.query.range,Q.query.range)});return ae?[ae,!0,te,q]:[q.find(function(ce){return("limit"in ce.req?ce.req.limit:1/0)>=Q.limit&&(!Q.values||ce.req.values)&&Ds(ce.req.query.range,Q.query.range)}),!1,te,q];case"count":return ae=q.find(function(ce){return zo(ce.req.query.range,Q.query.range)}),[ae,!!ae,te,q]}})(u,f,"query",w),B=O[0],V=O[2],L=O[3],B&&O[1]?B.obsSet=w.obsSet:(O=m.query(w).then(function(U){var I=U.result;if(B&&(B.res=I),C){for(var A=0,Q=I.length;A<Q;++A)Object.freeze(I[A]);Object.freeze(I)}else U.result=be(I);return U}).catch(function(U){return L&&B&&se(L,B),Promise.reject(U)}),B={obsSet:w.obsSet,promise:O,subscribers:new Set,type:"query",req:w,dirty:!1},L?L.push(B):(L=[B],(V=V||(Vr["idb://".concat(u,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[w.query.index.name||""]=L)),Ls(B,L,N,M),B.promise.then(function(U){return{result:Uo(U.result,w,V==null?void 0:V.optimisticOps,m,B,C)}})):m.query(w)}})}})}};function Nr(o,u){return new Proxy(o,{get:function(f,m,y){return m==="db"?u:Reflect.get(f,m,y)}})}Kt.prototype.version=function(o){if(isNaN(o)||o<.1)throw new Ce.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new Ce.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var u=this._versions,f=u.filter(function(m){return m._cfg.version===o})[0];return f||(f=new this.Version(o),u.push(f),u.sort(Ro),f.stores({}),this._state.autoSchema=!1),f},Kt.prototype._whenReady=function(o){var u=this;return this.idbdb&&(this._state.openComplete||qe.letThrough||this._vip)?o():new Ne(function(f,m){if(u._state.openComplete)return m(new Ce.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void m(new Ce.DatabaseClosed);u.open().catch(rt)}u._state.dbReadyPromise.then(f,m)}).then(o)},Kt.prototype.use=function(y){var u=y.stack,f=y.create,m=y.level,y=y.name,w=(y&&this.unuse({stack:u,name:y}),this._middlewares[u]||(this._middlewares[u]=[]));return w.push({stack:u,create:f,level:m??10,name:y}),w.sort(function(C,N){return C.level-N.level}),this},Kt.prototype.unuse=function(o){var u=o.stack,f=o.name,m=o.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(y){return m?y.create!==m:!!f&&y.name!==f})),this},Kt.prototype.open=function(){var o=this;return mt(Xn,function(){return Yl(o)})},Kt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,u=En.indexOf(this);if(0<=u&&En.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new Ne(function(f){o.dbReadyResolve=f}),o.openCanceller=new Ne(function(f,m){o.cancelOpen=m}))},Kt.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,f=this._state;u?(f.isBeingOpened&&f.cancelOpen(new Ce.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new Ce.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Kt.prototype.delete=function(o){var u=this,f=(o===void 0&&(o={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),m=this._state;return new Ne(function(y,w){function C(){u.close(o);var N=u._deps.indexedDB.deleteDatabase(u.name);N.onsuccess=F(function(){var M,V,L;M=u._deps,V=u.name,ra(L=M.indexedDB)||V===Ln||hi(L,M.IDBKeyRange).delete(V).catch(rt),y()}),N.onerror=an(w),N.onblocked=u._fireOnBlocked}if(f)throw new Ce.InvalidArgument("Invalid closeOptions argument to db.delete()");m.isBeingOpened?m.dbReadyPromise.then(C):C()})},Kt.prototype.backendDB=function(){return this.idbdb},Kt.prototype.isOpen=function(){return this.idbdb!==null},Kt.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},Kt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Kt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Kt.prototype,"tables",{get:function(){var o=this;return g(this._allTables).map(function(u){return o._allTables[u]})},enumerable:!1,configurable:!0}),Kt.prototype.transaction=function(){var o=(function(u,f,m){var y=arguments.length;if(y<2)throw new Ce.InvalidArgument("Too few arguments");for(var w=new Array(y-1);--y;)w[y-1]=arguments[y];return m=w.pop(),[u,_e(w),m]}).apply(this,arguments);return this._transaction.apply(this,o)},Kt.prototype._transaction=function(o,u,f){var m,y,w=this,C=qe.trans,N=(C&&C.db===this&&o.indexOf("!")===-1||(C=null),o.indexOf("?")!==-1);o=o.replace("!","").replace("?","");try{if(y=u.map(function(V){if(V=V instanceof w.Table?V.name:V,typeof V!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return V}),o=="r"||o===tr)m=tr;else{if(o!="rw"&&o!=Fr)throw new Ce.InvalidArgument("Invalid transaction mode: "+o);m=Fr}if(C){if(C.mode===tr&&m===Fr){if(!N)throw new Ce.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");C=null}C&&y.forEach(function(V){if(C&&C.storeNames.indexOf(V)===-1){if(!N)throw new Ce.SubTransaction("Table "+V+" not included in parent transaction.");C=null}}),N&&C&&!C.active&&(C=null)}}catch(V){return C?C._promise(null,function(L,O){O(V)}):jt(V)}var M=(function V(L,O,B,U,I){return Ne.resolve().then(function(){var q=qe.transless||qe,A=L._createTransaction(O,B,L._dbSchema,U),q=(A.explicit=!0,{trans:A,transless:q});if(U)A.idbtrans=U.idbtrans;else try{A.create(),A.idbtrans._explicit=!0,L._state.PR1398_maxLoop=3}catch(ae){return ae.name===Ze.InvalidState&&L.isOpen()&&0<--L._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),L.close({disableAutoOpen:!1}),L.open().then(function(){return V(L,O,B,null,I)})):jt(ae)}var Q,te=P(I),q=(te&&Ie(),Ne.follow(function(){var ae;(Q=I.call(A,A))&&(te?(ae=Ae.bind(null,null),Q.then(ae,ae)):typeof Q.next=="function"&&typeof Q.throw=="function"&&(Q=Ao(Q)))},q));return(Q&&typeof Q.then=="function"?Ne.resolve(Q).then(function(ae){return A.active?ae:jt(new Ce.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):q.then(function(){return Q})).then(function(ae){return U&&A._resolve(),A._completion.then(function(){return ae})}).catch(function(ae){return A._reject(ae),jt(ae)})})}).bind(null,this,m,y,C,f);return C?C._promise(m,M,"lock"):qe.trans?mt(qe.transless,function(){return w._whenReady(M)}):this._whenReady(M)},Kt.prototype.table=function(o){if(k(this._allTables,o))return this._allTables[o];throw new Ce.InvalidTable("Table ".concat(o," does not exist"))};var _r=Kt;function Kt(o,u){var f,m,y,w,C,N=this,M=(this._middlewares={},this.verno=0,Kt.dependencies),M=(this._options=u=l({addons:Kt.addons,autoOpen:!0,indexedDB:M.indexedDB,IDBKeyRange:M.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),V=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:rt,dbReadyPromise:null,cancelOpen:rt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),L=(V.dbReadyPromise=new Ne(function(O){V.dbReadyResolve=O}),V.openCanceller=new Ne(function(O,B){V.cancelOpen=B}),this._state=V,this.name=o,this.on=si(this,"populate","blocked","versionchange","close",{ready:[Jt,rt]}),this.once=function(O,B){var U=function(){for(var I=[],A=0;A<arguments.length;A++)I[A]=arguments[A];N.on(O).unsubscribe(U),B.apply(N,I)};return N.on(O,U)},this.on.ready.subscribe=le(this.on.ready.subscribe,function(O){return function(B,U){Kt.vip(function(){var I,A=N._state;A.openComplete?(A.dbOpenError||Ne.resolve().then(B),U&&O(B)):A.onReadyBeingFired?(A.onReadyBeingFired.push(B),U&&O(B)):(O(B),I=N,U||O(function Q(){I.on.ready.unsubscribe(B),I.on.ready.unsubscribe(Q)}))})}}),this.Collection=(f=this,Jr(bs.prototype,function(Q,A){this.db=f;var U=Rt,I=null;if(A)try{U=A()}catch(q){I=q}var A=Q._ctx,Q=A.table,te=Q.hook.reading.fire;this._ctx={table:Q,index:A.index,isPrimKey:!A.index||Q.schema.primKey.keyPath&&A.index===Q.schema.primKey.name,range:U,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:I,or:A.or,valueMapper:te!==Ut?te:null}})),this.Table=(m=this,Jr(oi.prototype,function(O,B,U){this.db=m,this._tx=U,this.name=O,this.schema=B,this.hook=m._allTables[O]?m._allTables[O].hook:si(null,{creating:[pt,rt],reading:[Ir,Ut],updating:[jn,rt],deleting:[un,rt]})})),this.Transaction=(y=this,Jr(ks.prototype,function(O,B,U,I,A){var Q=this;O!=="readonly"&&B.forEach(function(te){te=(te=U[te])==null?void 0:te.yProps,te&&(B=B.concat(te.map(function(q){return q.updatesTable})))}),this.db=y,this.mode=O,this.storeNames=B,this.schema=U,this.chromeTransactionDurability=I,this.idbtrans=null,this.on=si(this,"complete","error","abort"),this.parent=A||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ne(function(te,q){Q._resolve=te,Q._reject=q}),this._completion.then(function(){Q.active=!1,Q.on.complete.fire()},function(te){var q=Q.active;return Q.active=!1,Q.on.error.fire(te),Q.parent?Q.parent._reject(te):q&&Q.idbtrans&&Q.idbtrans.abort(),jt(te)})})),this.Version=(w=this,Jr(Wl.prototype,function(O){this.db=w,this._cfg={version:O,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,Jr(Ca.prototype,function(O,B,U){if(this.db=C,this._ctx={table:O,index:B===":id"?null:B,or:U},this._cmp=this._ascending=He,this._descending=function(I,A){return He(A,I)},this._max=function(I,A){return 0<He(I,A)?I:A},this._min=function(I,A){return He(I,A)<0?I:A},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ce.MissingAPI})),this.on("versionchange",function(O){0<O.newVersion?console.warn("Another connection wants to upgrade database '".concat(N.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(N.name,"'. Closing db now to resume the delete request.")),N.close({disableAutoOpen:!1})}),this.on("blocked",function(O){!O.newVersion||O.newVersion<O.oldVersion?console.warn("Dexie.delete('".concat(N.name,"') was blocked")):console.warn("Upgrade '".concat(N.name,"' blocked by other connection holding version ").concat(O.oldVersion/10))}),this._maxKey=kr(u.IDBKeyRange),this._createTransaction=function(O,B,U,I){return new N.Transaction(O,B,U,N._options.chromeTransactionDurability,I)},this._fireOnBlocked=function(O){N.on("blocked").fire(O),En.filter(function(B){return B.name===N.name&&B!==N&&!B._state.vcFired}).map(function(B){return B.on("versionchange").fire(O)})},this.use(Gl),this.use(As),this.use(Fo),this.use(Rs),this.use(Ql),new Proxy(this,{get:function(O,B,U){var I;return B==="_vip"||(B==="table"?function(A){return Nr(N.table(A),L)}:(I=Reflect.get(O,B,U))instanceof oi?Nr(I,L):B==="tables"?I.map(function(A){return Nr(A,L)}):B==="_createTransaction"?function(){return Nr(I.apply(this,arguments),L)}:I)}}));this.vip=L,M.forEach(function(O){return O(N)})}var Qi,aa=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Is=(ia.prototype.subscribe=function(o,u,f){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:u,complete:f})},ia.prototype[aa]=function(){return this},ia);function ia(o){this._subscribe=o}try{Qi={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{Qi={indexedDB:null,IDBKeyRange:null}}function La(o){var u,f=!1,m=new Is(function(y){var w=P(o),C,N=!1,M={},V={},L={get closed(){return N},unsubscribe:function(){N||(N=!0,C&&C.abort(),O&&zr.storagemutated.unsubscribe(U))}},O=(y.start&&y.start(L),!1),B=function(){return er(I)},U=function(A){Ki(M,A),To(V,M)&&B()},I=function(){var A,Q,te;!N&&Qi.indexedDB&&(M={},A={},C&&C.abort(),C=new AbortController,te=(q=>{var ae=Dn();try{w&&Ie();var ce=Fe(o,q);return ce=w?ce.finally(Ae):ce}finally{ae&&xr()}})(Q={subscr:A,signal:C.signal,requery:B,querier:o,trans:null}),Promise.resolve(te).then(function(q){f=!0,u=q,N||Q.signal.aborted||(M={},(ae=>{for(var ce in ae)if(k(ae,ce))return;return 1})(V=A)||O||(zr(Na,U),O=!0),er(function(){return!N&&y.next&&y.next(q)}))},function(q){f=!1,["DatabaseClosedError","AbortError"].includes(q==null?void 0:q.name)||N||er(function(){N||y.error&&y.error(q)})}))};return setTimeout(B,0),L});return m.hasValue=function(){return f},m.getValue=function(){return u},m}var oa=_r;function Aa(o){var u=Pr;try{Pr=!0,zr.storagemutated.fire(o),Lo(o,!0)}finally{Pr=u}}T(oa,l(l({},X),{delete:function(o){return new oa(o,{addons:[]}).delete()},exists:function(o){return new oa(o,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return u=oa.dependencies,f=u.indexedDB,u=u.IDBKeyRange,(ra(f)?Promise.resolve(f.databases()).then(function(m){return m.map(function(y){return y.name}).filter(function(y){return y!==Ln})}):hi(f,u).toCollection().primaryKeys()).then(o)}catch{return jt(new Ce.MissingAPI)}var u,f},defineClass:function(){return function(o){x(this,o)}},ignoreTransaction:function(o){return qe.trans?mt(qe.transless,o):o()},vip:Oa,async:function(o){return function(){try{var u=Ao(o.apply(this,arguments));return u&&typeof u.then=="function"?u:Ne.resolve(u)}catch(f){return jt(f)}}},spawn:function(o,u,f){try{var m=Ao(o.apply(f,u||[]));return m&&typeof m.then=="function"?m:Ne.resolve(m)}catch(y){return jt(y)}},currentTransaction:{get:function(){return qe.trans||null}},waitFor:function(o,u){return o=Ne.resolve(typeof o=="function"?oa.ignoreTransaction(o):o).timeout(u||6e4),qe.trans?qe.trans.waitFor(o):o},Promise:Ne,debug:{get:function(){return tn},set:function(o){va(o)}},derive:Z,extend:x,props:T,override:le,Events:si,on:zr,liveQuery:La,extendObservabilitySet:Ki,getByKeyPath:Ge,setByKeyPath:K,delByKeyPath:function(o,u){typeof u=="string"?K(o,u,void 0):"length"in u&&[].map.call(u,function(f){K(o,f,void 0)})},shallowClone:ke,deepClone:be,getObjectDiff:Io,cmp:He,asap:We,minKey:-1/0,addons:[],connections:En,errnames:Ze,dependencies:Qi,cache:Vr,semVer:"4.3.0",version:"4.3.0".split(".").map(function(o){return parseInt(o)}).reduce(function(o,u,f){return o+u/Math.pow(10,2*f)})})),oa.maxKey=kr(oa.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(zr(Na,function(o){Pr||(o=new CustomEvent(ta,{detail:o}),Pr=!0,dispatchEvent(o),Pr=!1)}),addEventListener(ta,function(o){o=o.detail,Pr||Aa(o)}));var Ia,Pr=!1,Gi=function(){};return typeof BroadcastChannel<"u"&&((Gi=function(){(Ia=new BroadcastChannel(ta)).onmessage=function(o){return o.data&&Aa(o.data)}})(),typeof Ia.unref=="function"&&Ia.unref(),zr(Na,function(o){Pr||Ia.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!_r.disableBfCache&&o.persisted){tn&&console.debug("Dexie: handling persisted pagehide"),Ia!=null&&Ia.close();for(var u=0,f=En;u<f.length;u++)f[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!_r.disableBfCache&&o.persisted&&(tn&&console.debug("Dexie: handling persisted pageshow"),Gi(),Aa({all:new fn(-1/0,[[]])}))})),Ne.rejectionMapper=function(o,u){return!o||o instanceof ge||o instanceof TypeError||o instanceof SyntaxError||!o.name||!Rn[o.name]?o:(u=new Rn[o.name](u||o.message,o),"stack"in o&&z(u,"stack",{get:function(){return this.inner.stack}}),u)},va(tn),l(_r,Object.freeze({__proto__:null,Dexie:_r,Entity:Br,PropModification:Ur,RangeSet:fn,add:function(o){return new Ur({add:o})},cmp:He,default:_r,liveQuery:La,mergeRanges:mi,rangesOverlap:$i,remove:function(o){return new Ur({remove:o})},replacePrefix:function(o,u){return new Ur({replacePrefix:[o,u]})}}),{default:_r}),_r})})(Tl)),Tl.exports}var gv=mv();const Tc=Hl(gv),Ph=Symbol.for("Dexie"),Bl=globalThis[Ph]||(globalThis[Ph]=Tc);if(Tc.semVer!==Bl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Tc.semVer} and ${Bl.semVer}`);const{liveQuery:e0,mergeRanges:t0,rangesOverlap:n0,RangeSet:r0,cmp:a0,Entity:i0,PropModification:o0,replacePrefix:s0,add:l0,remove:u0,DexieYProvider:c0}=Bl;class yv extends Bl{constructor(){super("dagda-db");mo(this,"parties");mo(this,"notes");mo(this,"saveSlots");mo(this,"timeline");mo(this,"outbox");this.version(1).stores({parties:"id, status, updatedAt",notes:"id, partyId, createdAt",saveSlots:"id, partyId, slot, createdAt",timeline:"id, partyId, type, createdAt",outbox:"id, partyId, status, createdAt"})}}const $t=new yv;class vv{async findAll(){return $t.parties.orderBy("updatedAt").reverse().toArray()}async findById(r){return $t.parties.get(r)}async save(r){await $t.parties.put(r)}async delete(r){await $t.transaction("rw",[$t.parties,$t.notes,$t.saveSlots,$t.timeline,$t.outbox],async()=>{await $t.parties.delete(r),await $t.notes.where("partyId").equals(r).delete(),await $t.saveSlots.where("partyId").equals(r).delete(),await $t.timeline.where("partyId").equals(r).delete(),await $t.outbox.where("partyId").equals(r).delete()})}}class xv{async findByPartyId(r){return $t.notes.where("partyId").equals(r).reverse().sortBy("createdAt")}async save(r){await $t.notes.put(r)}}class wv{async findByPartyId(r){return $t.saveSlots.where("partyId").equals(r).toArray()}async save(r){await $t.saveSlots.put(r)}async delete(r){await $t.saveSlots.delete(r)}}class bv{async findByPartyId(r){return $t.timeline.where("partyId").equals(r).reverse().sortBy("createdAt")}async append(r){await $t.timeline.add(r)}}var Ja=(a=>(a.NARRATIVE="NARRATIVE",a.SIMPLIFIED="SIMPLIFIED",a.MORTAL="MORTAL",a))(Ja||{}),Ul=(a=>(a.INSTINCT="INSTINCT",a.HERBOLOGY="HERBOLOGY",a.STEALTH="DISCRETION",a.PERSUASION="PERSUASION",a.OBSERVATION="OBSERVATION",a.SLEIGHT_OF_HAND="SLEIGHT_OF_HAND",a.EMPATHY_PRACTICE="EMPATHY_PRACTICE",a))(Ul||{});const Sv={INSTINCT:"Instinct",HERBOLOGY:"Herboristerie",DISCRETION:"Discrtion",PERSUASION:"Persuasion",OBSERVATION:"Observation",SLEIGHT_OF_HAND:"Tour de main",EMPATHY_PRACTICE:"Pratique de l'empathie"};var ln=(a=>(a.ACTIVE="ACTIVE",a.FINISHED="FINISHED",a.DEAD="DEAD",a))(ln||{}),At=(a=>(a.PARTY_CREATED="party_created",a.CHAPTER_SET="chapter_set",a.HP_CHANGED="hp_changed",a.LUCK_SPENT="luck_spent",a.LUCK_CHANGED="luck_changed",a.NOTE_ADDED="note_added",a.SAVE_CREATED="save_created",a.SAVE_REPLACED="save_replaced",a.SAVE_RESTORED="save_restored",a.COMBAT_STARTED="combat_started",a.COMBAT_HIT="combat_hit",a.COMBAT_MISS="combat_miss",a.COMBAT_ENEMY_HIT="combat_enemy_hit",a.COMBAT_ENEMY_MISS="combat_enemy_miss",a.COMBAT_VICTORY="combat_victory",a.COMBAT_DEFEAT="combat_defeat",a.DEATH_RESET="death_reset",a.DICE_REROLLED="dice_rerolled",a.PARTY_EXPORTED="party_exported",a.PARTY_FINISHED="party_finished",a.CUSTOM_ACTION="custom_action",a.INVENTORY_CHANGED="inventory_changed",a))(At||{}),ni=(a=>(a.PENDING="PENDING",a.SENT="SENT",a))(ni||{});const Rh=Object.freeze(Object.defineProperty({__proto__:null,GameMode:Ja,OutboxStatus:ni,PartyStatus:ln,TALENT_LABELS:Sv,Talent:Ul,TimelineEventType:At},Symbol.toStringTag,{value:"Module"}));class Ev{async findPending(){return $t.outbox.where("status").equals(ni.PENDING).toArray()}async append(r){await $t.outbox.add(r)}async updateStatus(r,i,l){await $t.outbox.update(r,{status:i,...l?{sentAt:l}:{}})}}class kv{rollD6(){const r=new Uint8Array(1);return crypto.getRandomValues(r),r[0]%6+1}roll2D6(){return[this.rollD6(),this.rollD6()]}rollNd6(r){return Array.from({length:r},()=>this.rollD6())}}class Cv{now(){return new Date().toISOString()}}const Nv=1;class _v{exportParty(r){const i={version:Nv,exportedAt:new Date().toISOString(),snapshot:r};return JSON.stringify(i,null,2)}exportSummary(r){const{party:i}=r,l=i.character;return[`=== ${i.name} ===`,`Mode : ${i.mode}`,`Statut : ${i.status}`,`Chapitre : ${i.currentChapter}`,"","--- Personnage ---",`Nom : ${l.name}`,`Talent : ${l.talent}`,`PV : ${l.hpCurrent} / ${l.hpMax}`,`Chance : ${l.luck}`,`Dextrit : ${l.dexterity}`,"",`Armes : ${l.inventory.weapons.map(h=>`${h.name}${h.bonus?` (+${h.bonus})`:""}`).join(", ")||"aucune"}`,`Boulons : ${l.inventory.currency.boulons}`,`Sauvegardes : ${r.saveSlots.length} / 3`,`Notes : ${r.notes.length}`,"",`Export le ${new Date().toLocaleString("fr-FR")}`].join(`
`)}importParty(r){let i;try{i=JSON.parse(r)}catch{throw new Error("Fichier JSON invalide.")}if(!i.snapshot||!i.snapshot.party)throw new Error("Format de sauvegarde non reconnu.");return i.snapshot}}const fp=7,hp=3;function Uc(){return{weapons:[],items:[],currency:{boulons:0}}}function pp(a){const r=a.hpRoll*4;return{name:a.name,talent:a.talent,hpMax:r,hpCurrent:r,luck:a.luckRoll,dexterity:fp,inventory:Uc()}}function mp(a,r){const i=Math.max(0,Math.min(a.hpMax,a.hpCurrent+r));return{...a,hpCurrent:i}}function gp(a,r){const i=Math.max(0,a.luck-r);return{...a,luck:i}}function yp(a){return a.hpCurrent<=0}function Pv(a){return{...a,hpCurrent:a.hpMax,inventory:Uc()}}function zc(a){return a!==Ja.SIMPLIFIED}const Rv=Object.freeze(Object.defineProperty({__proto__:null,INITIAL_DEXTERITY:fp,MAX_SAVE_SLOTS:hp,applyDeathReset:Pv,applyHpChange:mp,applyLuckCost:gp,canRestoreAnySlot:zc,createCharacter:pp,createInitialInventory:Uc,isDead:yp},Symbol.toStringTag,{value:"Module"}));class jv{constructor(r,i,l,c,h){this.partyRepo=r,this.eventLog=i,this.outbox=l,this.rng=c,this.clock=h}async execute(r){const i=this.rng.rollNd6(2).reduce((x,E)=>x+E,0),l=this.rng.rollD6(),c=this.clock.now(),h=crypto.randomUUID(),g=pp({name:r.characterName,talent:r.talent,hpRoll:i,luckRoll:l}),v={id:h,name:r.name,mode:r.mode,status:ln.ACTIVE,currentChapter:1,character:g,createdAt:c,updatedAt:c};return await this.partyRepo.save(v),await this.eventLog.append({id:crypto.randomUUID(),partyId:h,type:At.PARTY_CREATED,label:`Partie "${r.name}" cre (mode ${r.mode})`,payload:{mode:r.mode,talent:r.talent,hpRoll:i,luckRoll:l},createdAt:c}),await this.outbox.append({id:crypto.randomUUID(),partyId:h,type:At.PARTY_CREATED,payload:{partyId:h,name:r.name,mode:r.mode},status:ni.PENDING,createdAt:c}),v}}class Tv{constructor(r,i,l){this.partyRepo=r,this.eventLog=i,this.clock=l}async execute(r,i){const l=await this.partyRepo.findById(r);if(!l)throw new Error(`Partie ${r} introuvable.`);if(i===l.currentChapter)return;const c=this.clock.now(),h={...l,currentChapter:i,updatedAt:c};await this.partyRepo.save(h),await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:At.CHAPTER_SET,label:` ${l.currentChapter}  ${i}`,payload:{chapter:i,previous:l.currentChapter},createdAt:c})}}class Ov{constructor(r,i,l,c){this.partyRepo=r,this.eventLog=i,this.outbox=l,this.clock=c}async execute(r,i){const l=await this.partyRepo.findById(r);if(!l)throw new Error(`Partie ${r} introuvable.`);const c=this.clock.now(),h=mp(l.character,i);let g={...l,character:h,updatedAt:c};await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:At.HP_CHANGED,label:`PV ${i>0?"+":""}${i} (${h.hpCurrent}/${h.hpMax})`,payload:{delta:i,before:l.character.hpCurrent,after:h.hpCurrent},createdAt:c});const v=yp(h),x=v&&l.mode===Ja.MORTAL;return x&&(g={...g,status:ln.DEAD},await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:At.DEATH_RESET,label:" Mort dfinitive  l'aventure se termine.",payload:{},createdAt:c}),await this.outbox.append({id:crypto.randomUUID(),partyId:r,type:At.DEATH_RESET,payload:{partyId:r},status:ni.PENDING,createdAt:c})),await this.partyRepo.save(g),{isDead:v,isMortalDeath:x}}}class Dv{constructor(r,i,l){this.noteRepo=r,this.eventLog=i,this.clock=l}async execute(r,i){const l=this.clock.now(),c={id:crypto.randomUUID(),partyId:r,content:i,createdAt:l};return await this.noteRepo.save(c),await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:At.NOTE_ADDED,label:`Note ajoute : "${i.slice(0,40)}${i.length>40?"":""}"`,payload:{noteId:c.id},createdAt:l}),c}}class Lv{constructor(r,i){this.eventLog=r,this.clock=i}async execute(r,i){const l=this.clock.now();await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:At.CUSTOM_ACTION,label:i,createdAt:l})}}class Av{constructor(r,i,l,c,h,g){this.partyRepo=r,this.noteRepo=i,this.saveSlotRepo=l,this.eventLog=c,this.outbox=h,this.clock=g}async execute(r,i){const l=await this.partyRepo.findById(r);if(!l)throw new Error(`Partie ${r} introuvable.`);const c=await this.noteRepo.findByPartyId(r),h=await this.saveSlotRepo.findByPartyId(r),g=this.clock.now(),v=h.find(k=>k.slot===i);if(h.length>=hp&&!v)throw new Error("Maximum 3 sauvegardes atteint.");const x={id:(v==null?void 0:v.id)??crypto.randomUUID(),partyId:r,slot:i,snapshot:{party:l,notes:c,saveSlots:h},createdAt:g};await this.saveSlotRepo.save(x);const E=v?At.SAVE_REPLACED:At.SAVE_CREATED,_=v?`Sauvegarde slot ${i} remplace`:`Sauvegarde cre (slot ${i})`;return await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:E,label:_,payload:{slot:i},createdAt:g}),await this.outbox.append({id:crypto.randomUUID(),partyId:r,type:E,payload:{partyId:r,slot:i},status:ni.PENDING,createdAt:g}),x}}class Iv{constructor(r,i,l,c,h){this.partyRepo=r,this.noteRepo=i,this.saveSlotRepo=l,this.eventLog=c,this.clock=h}async execute(r,i){const l=await this.partyRepo.findById(r);if(!l)throw new Error(`Partie ${r} introuvable.`);const c=await this.saveSlotRepo.findByPartyId(r),h=c.find(E=>E.id===i);if(!h)throw new Error(`Slot de sauvegarde ${i} introuvable.`);if(!zc(l.mode)){const E=c.sort((_,k)=>new Date(k.createdAt).getTime()-new Date(_.createdAt).getTime())[0];if((E==null?void 0:E.id)!==i)throw new Error("Mode Simplifi : seule la sauvegarde la plus rcente peut tre restaure.")}const{snapshot:g}=h,v=this.clock.now(),x={...g.party,updatedAt:v};await this.partyRepo.save(x);for(const E of g.notes)await this.noteRepo.save(E);return await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:At.SAVE_RESTORED,label:`Sauvegarde slot ${h.slot} restaure`,payload:{slotId:i,slot:h.slot},createdAt:v}),x}}class Mv{constructor(r,i,l,c,h,g){this.partyRepo=r,this.noteRepo=i,this.saveSlotRepo=l,this.exportPort=c,this.eventLog=h,this.clock=g}async execute(r){const i=await this.partyRepo.findById(r);if(!i)throw new Error(`Partie ${r} introuvable.`);const l=await this.noteRepo.findByPartyId(r),c=await this.saveSlotRepo.findByPartyId(r),h={party:i,notes:l,saveSlots:c},g=this.exportPort.exportParty(h),v=this.exportPort.exportSummary(h),x=this.clock.now();return await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:At.PARTY_EXPORTED,label:"Partie exporte (JSON)",createdAt:x}),{json:g,summary:v}}}class Fv{constructor(r,i,l,c,h,g){this.partyRepo=r,this.noteRepo=i,this.saveSlotRepo=l,this.eventLog=c,this.clock=h,this.importPort=g}async execute(r){const i=this.importPort.importParty(r),l=this.clock.now(),c=crypto.randomUUID(),h={...i.party,id:c,status:ln.ACTIVE,updatedAt:l};await this.partyRepo.save(h);for(const g of i.notes)await this.noteRepo.save({...g,partyId:c});for(const g of i.saveSlots)await this.saveSlotRepo.save({...g,id:crypto.randomUUID(),partyId:c});return await this.eventLog.append({id:crypto.randomUUID(),partyId:c,type:At.PARTY_CREATED,label:`Partie importe : "${h.name}"`,payload:{imported:!0},createdAt:l}),h}}class Bv{constructor(r,i,l,c){this.partyRepo=r,this.eventLog=i,this.outbox=l,this.clock=c}async execute(r){const i=await this.partyRepo.findById(r);if(!i)throw new Error(`Partie ${r} introuvable.`);const l=this.clock.now();await this.partyRepo.save({...i,status:ln.FINISHED,updatedAt:l}),await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:At.PARTY_FINISHED,label:"Partie termine",createdAt:l}),await this.outbox.append({id:crypto.randomUUID(),partyId:r,type:At.PARTY_FINISHED,payload:{partyId:r},status:ni.PENDING,createdAt:l})}}class Uv{constructor(r,i,l){this.partyRepo=r,this.eventLog=i,this.clock=l}async execute(r,i){const l=await this.partyRepo.findById(r);if(!l)throw new Error(`Partie ${r} introuvable.`);if(l.character.luck<i)throw new Error("Chance insuffisante.");const c=this.clock.now(),h=gp(l.character,i);await this.partyRepo.save({...l,character:h,updatedAt:c}),await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:At.LUCK_SPENT,label:`Chance dpense : -${i} (reste ${h.luck})`,payload:{cost:i,remaining:h.luck},createdAt:c})}}class zv{constructor(r,i,l){this.partyRepo=r,this.eventLog=i,this.clock=l}async execute(r,i,l){const c=await this.partyRepo.findById(r);if(!c)throw new Error(`Partie ${r} introuvable.`);const h=this.clock.now();await this.partyRepo.save({...c,character:{...c.character,inventory:i},updatedAt:h}),await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:At.INVENTORY_CHANGED,label:l,createdAt:h})}}class Hv{constructor(r){this.partyRepo=r}async execute(r){await this.partyRepo.delete(r)}}const Pn=new vv,Ii=new xv,ko=new wv,Gt=new bv,Co=new Ev,sr=new kv,gn=new Cv,Hc=new _v,$v=new jv(Pn,Gt,Co,sr,gn),Oc=new Tv(Pn,Gt,gn),zl=new Ov(Pn,Gt,Co,gn),vp=new Dv(Ii,Gt,gn),xp=new Lv(Gt,gn),wp=new Av(Pn,Ii,ko,Gt,Co,gn),bp=new Iv(Pn,Ii,ko,Gt,gn),Sp=new Mv(Pn,Ii,ko,Hc,Gt,gn),Ep=new Fv(Pn,Ii,ko,Gt,gn,Hc),kp=new Bv(Pn,Gt,Co,gn),Cp=new Uv(Pn,Gt,gn),Np=new zv(Pn,Gt,gn),$c=new Hv(Pn),Vv=Object.freeze(Object.defineProperty({__proto__:null,addCustomAction:xp,addNote:vp,applyLuck:Cp,clock:gn,createParty:$v,createSave:wp,deleteParty:$c,eventLog:Gt,exportParty:Sp,finishParty:kp,importParty:Ep,jsonExport:Hc,noteRepo:Ii,outboxRepo:Co,partyRepo:Pn,restoreSave:bp,rng:sr,saveSlotRepo:ko,updateChapter:Oc,updateHp:zl,updateInventory:Np},Symbol.toStringTag,{value:"Module"})),Kv={[ln.ACTIVE]:"badge-success",[ln.FINISHED]:"badge-info",[ln.DEAD]:"badge-error"};function qv(){const{t:a}=ti(),[r,i]=J.useState([]),[l,c]=J.useState(!0),[h,g]=J.useState(null),[v,x]=J.useState(!1),E=Eo();function _(z){const Z=Date.now()-new Date(z).getTime(),re=Math.floor(Z/6e4);if(re<1)return a("timeAgo.now");if(re<60)return a("timeAgo.minutes",{count:re});const we=Math.floor(re/60);return we<24?a("timeAgo.hours",{count:we}):a("timeAgo.days",{count:Math.floor(we/24)})}const k={[ln.ACTIVE]:a("status.active"),[ln.FINISHED]:a("status.finished"),[ln.DEAD]:a("status.dead")};async function T(){const z=await Pn.findAll();i(z),c(!1)}J.useEffect(()=>{T()},[]);async function $(){h&&(x(!0),await $c.execute(h.id),g(null),x(!1),await T())}return l?S.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:S.jsx("span",{className:"loading loading-spinner loading-lg"})}):S.jsxs("div",{className:"mx-auto max-w-lg p-4",children:[S.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[S.jsx("h1",{className:"text-2xl font-bold",children:a("home.title")}),S.jsx(So,{to:"/party/new",className:"btn btn-primary",children:a("home.newParty")})]}),r.length===0?S.jsx("div",{className:"card bg-base-200 text-center",children:S.jsxs("div",{className:"card-body gap-4",children:[S.jsx("p",{className:"text-base-content/60",children:a("home.emptyState")}),S.jsx(So,{to:"/party/new",className:"btn btn-primary btn-lg w-full",children:a("home.createParty")})]})}):S.jsx("div",{className:"flex flex-col gap-3",children:r.map(z=>S.jsx("div",{className:"card bg-base-200 shadow transition hover:shadow-md",children:S.jsx("div",{className:"card-body gap-1 p-4",children:S.jsxs("div",{className:"flex items-start justify-between gap-2",children:[S.jsxs("button",{className:"flex flex-1 flex-col items-start gap-1 text-left",onClick:()=>E(`/party/${z.id}`),children:[S.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[S.jsx("span",{className:"font-semibold",children:z.name}),S.jsx("span",{className:`badge ${Kv[z.status]} shrink-0`,children:k[z.status]})]}),S.jsxs("div",{className:"text-sm text-base-content/60",children:["Ch. ",z.currentChapter,"  ",z.mode,"  ",z.character.name]}),S.jsx("div",{className:"text-xs text-base-content/40",children:_(z.updatedAt)})]}),S.jsx("button",{className:"btn btn-ghost btn-sm shrink-0 text-error",title:a("home.deleteTooltip"),onClick:Z=>{Z.stopPropagation(),g(z)},children:""})]})})},z.id))}),h&&S.jsxs("div",{className:"modal modal-open",children:[S.jsxs("div",{className:"modal-box",children:[S.jsx("h3",{className:"text-lg font-bold text-error",children:a("home.deleteTitle")}),S.jsx("p",{className:"py-3 text-sm",children:a("home.deleteBody",{name:h.name})}),S.jsxs("div",{className:"modal-action gap-2",children:[S.jsx("button",{className:"btn btn-ghost flex-1",disabled:v,onClick:()=>g(null),children:a("common.cancel")}),S.jsx("button",{className:"btn btn-error flex-1",disabled:v,onClick:$,children:v?S.jsx("span",{className:"loading loading-spinner loading-sm"}):a("common.delete")})]})]}),S.jsx("div",{className:"modal-backdrop",onClick:()=>!v&&g(null)})]})]})}const Wv="modulepreload",Yv=function(a){return"/dagda-companion/"+a},jh={},Rl=function(r,i,l){let c=Promise.resolve();if(i&&i.length>0){let g=function(E){return Promise.all(E.map(_=>Promise.resolve(_).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),x=(v==null?void 0:v.nonce)||(v==null?void 0:v.getAttribute("nonce"));c=g(i.map(E=>{if(E=Yv(E),E in jh)return;jh[E]=!0;const _=E.endsWith(".css"),k=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${k}`))return;const T=document.createElement("link");if(T.rel=_?"stylesheet":Wv,_||(T.as="script"),T.crossOrigin="",T.href=E,x&&T.setAttribute("nonce",x),document.head.appendChild(T),_)return new Promise(($,z)=>{T.addEventListener("load",$),T.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${E}`)))})}))}function h(g){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=g,window.dispatchEvent(v),!v.defaultPrevented)throw g}return c.then(g=>{for(const v of g||[])v.status==="rejected"&&h(v.reason);return r().catch(h)})},Qv=require("react-dice-roll").default??require("react-dice-roll"),wo=J.forwardRef(({defaultValue:a=1,size:r=60},i)=>{const l=J.useRef(null);return J.useImperativeHandle(i,()=>({roll(c){var h;(h=l.current)==null||h.rollDice(c)}})),S.jsx(Qv,{ref:l,defaultValue:a,size:r,rollingTime:600})});wo.displayName="DiceRoller";const Gv=[Ja.NARRATIVE,Ja.SIMPLIFIED,Ja.MORTAL],bc=["mode","talent","stats"];function Xv(){const{t:a}=ti(),r=Eo(),[i,l]=J.useState("mode"),[c,h]=J.useState({partyName:"",mode:null,talent:null,characterName:"",hpDice:[sr.rollD6(),sr.rollD6()],luckDice:sr.rollD6()}),[g,v]=J.useState(!1),[x,E]=J.useState(null),_=J.useRef(null),k=J.useRef(null),T=J.useRef(null),$=bc.indexOf(i),z=c.hpDice[0]+c.hpDice[1],Z=z*4;function re(){var We,Ge,K;const le=[sr.rollD6(),sr.rollD6()],ie=sr.rollD6();(We=_.current)==null||We.roll(le[0]),(Ge=k.current)==null||Ge.roll(le[1]),(K=T.current)==null||K.roll(ie),h(ke=>({...ke,hpDice:le,luckDice:ie}))}function we(){return i==="mode"?!!c.mode&&c.partyName.trim().length>0:i==="talent"?!!c.talent:i==="stats"?c.characterName.trim().length>0:!1}async function de(){if(!(!c.mode||!c.talent)){v(!0),E(null);try{const le={name:c.partyName.trim(),mode:c.mode,talent:c.talent,characterName:c.characterName.trim()||c.partyName.trim()},{createCharacter:ie}=await Rl(async()=>{const{createCharacter:at}=await Promise.resolve().then(()=>Rv);return{createCharacter:at}},void 0),{PartyStatus:We}=await Rl(async()=>{const{PartyStatus:at}=await Promise.resolve().then(()=>Rh);return{PartyStatus:at}},void 0),Ge=ie({name:le.characterName,talent:le.talent,hpRoll:z,luckRoll:c.luckDice}),{partyRepo:K,eventLog:ke,outboxRepo:Oe,clock:_e}=await Rl(async()=>{const{partyRepo:at,eventLog:st,outboxRepo:se,clock:De}=await Promise.resolve().then(()=>Vv);return{partyRepo:at,eventLog:st,outboxRepo:se,clock:De}},void 0),{TimelineEventType:ft,OutboxStatus:Pe}=await Rl(async()=>{const{TimelineEventType:at,OutboxStatus:st}=await Promise.resolve().then(()=>Rh);return{TimelineEventType:at,OutboxStatus:st}},void 0),be=_e.now(),Re=crypto.randomUUID(),nt={id:Re,name:le.name,mode:le.mode,status:We.ACTIVE,currentChapter:1,character:Ge,createdAt:be,updatedAt:be};await K.save(nt),await ke.append({id:crypto.randomUUID(),partyId:Re,type:ft.PARTY_CREATED,label:a("createParty.createdLabel",{name:le.name,mode:a(`createParty.modes.${le.mode}.label`)}),payload:{mode:le.mode,talent:le.talent,hpRoll:z,luckRoll:c.luckDice},createdAt:be}),await Oe.append({id:crypto.randomUUID(),partyId:Re,type:ft.PARTY_CREATED,payload:{partyId:Re,name:le.name,mode:le.mode},status:Pe.PENDING,createdAt:be}),r(`/party/${Re}`)}catch(le){E(le.message),v(!1)}}}return S.jsxs("div",{className:"mx-auto max-w-lg p-4",children:[S.jsx("ul",{className:"steps steps-horizontal mb-6 w-full text-xs",children:["mode","talent","stats"].map((le,ie)=>S.jsx("li",{className:`step ${ie<=$?"step-primary":""}`,children:a(`createParty.steps.${le}`)},le))}),i==="mode"&&S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsx("h2",{className:"text-xl font-bold",children:a("createParty.partyNameTitle")}),S.jsx("input",{type:"text",placeholder:a("createParty.partyNamePlaceholder"),className:"input input-bordered w-full",value:c.partyName,maxLength:40,onChange:le=>h(ie=>({...ie,partyName:le.target.value}))}),S.jsx("h2",{className:"text-xl font-bold",children:a("createParty.gameModeTitle")}),S.jsx("div",{className:"flex flex-col gap-3",children:Gv.map(le=>S.jsx("label",{className:`card cursor-pointer border-2 transition ${c.mode===le?"border-primary bg-primary/10":"border-base-300 bg-base-200"}`,children:S.jsxs("div",{className:"card-body flex-row items-start gap-3 p-4",children:[S.jsx("input",{type:"radio",name:"mode",className:"radio-primary radio mt-1",checked:c.mode===le,onChange:()=>h(ie=>({...ie,mode:le}))}),S.jsxs("div",{children:[S.jsx("div",{className:"font-semibold",children:a(`createParty.modes.${le}.label`)}),S.jsx("div",{className:"text-sm text-base-content/60",children:a(`createParty.modes.${le}.desc`)})]})]})},le))}),S.jsxs("div",{className:"collapse collapse-arrow bg-base-200",children:[S.jsx("input",{type:"checkbox"}),S.jsx("div",{className:"collapse-title font-medium",children:a("createParty.helpModes")}),S.jsx("div",{className:"collapse-content text-sm text-base-content/70",children:S.jsxs("ul",{className:"list-disc space-y-1 pl-4",children:[S.jsxs("li",{children:[S.jsx("strong",{children:a("createParty.modes.NARRATIVE.label")})," :"," ",a("createParty.modeHelp.narrativeDesc")]}),S.jsxs("li",{children:[S.jsx("strong",{children:a("createParty.modes.SIMPLIFIED.label")})," :"," ",a("createParty.modeHelp.simplifiedDesc")]}),S.jsxs("li",{children:[S.jsx("strong",{children:a("createParty.modes.MORTAL.label")})," :"," ",a("createParty.modeHelp.mortalDesc")]})]})})]})]}),i==="talent"&&S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsx("h2",{className:"text-xl font-bold",children:a("createParty.chooseTalent")}),S.jsx("div",{className:"flex flex-col gap-2",children:Object.values(Ul).map(le=>S.jsx("label",{className:`card cursor-pointer border-2 transition ${c.talent===le?"border-primary bg-primary/10":"border-base-300 bg-base-200"}`,children:S.jsxs("div",{className:"card-body flex-row items-center gap-3 p-3",children:[S.jsx("input",{type:"radio",name:"talent",className:"radio-primary radio",checked:c.talent===le,onChange:()=>h(ie=>({...ie,talent:le}))}),S.jsx("span",{className:"font-medium",children:a(`talents.${le}`)})]})},le))}),S.jsxs("div",{className:"collapse collapse-arrow bg-base-200",children:[S.jsx("input",{type:"checkbox"}),S.jsx("div",{className:"collapse-title font-medium",children:a("createParty.helpTalents")}),S.jsxs("div",{className:"collapse-content text-sm text-base-content/70",children:[S.jsx("p",{children:a("createParty.talentHelpIntro")}),S.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-4",children:Object.values(Ul).map(le=>S.jsxs("li",{children:[S.jsx("strong",{children:a(`talents.${le}`)})," :"," ",a(`createParty.talentHelp.${le}`)]},le))})]})]})]}),i==="stats"&&S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsx("h2",{className:"text-xl font-bold",children:a("createParty.characterTitle")}),S.jsx("input",{type:"text",placeholder:a("createParty.characterNamePlaceholder"),className:"input input-bordered w-full",value:c.characterName,maxLength:40,onChange:le=>h(ie=>({...ie,characterName:le.target.value}))}),S.jsx("div",{className:"card bg-base-200",children:S.jsxs("div",{className:"card-body gap-4 p-4",children:[S.jsx("h3",{className:"font-semibold",children:a("createParty.initialStats")}),S.jsxs("div",{className:"flex flex-col gap-1",children:[S.jsx("span",{className:"text-sm text-base-content/70",children:a("createParty.hpMaxLabel")}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(wo,{ref:_,defaultValue:c.hpDice[0],size:52}),S.jsx(wo,{ref:k,defaultValue:c.hpDice[1],size:52}),S.jsxs("span",{className:"text-sm font-bold text-success",children:[" 4 = ",Z," HP"]})]})]}),S.jsxs("div",{className:"flex flex-col gap-1",children:[S.jsx("span",{className:"text-sm text-base-content/70",children:a("createParty.luckLabel")}),S.jsx(wo,{ref:T,defaultValue:c.luckDice,size:52})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-sm text-base-content/70",children:a("createParty.dexterityLabel")}),S.jsx("span",{className:"font-bold",children:"7"})]}),S.jsx("button",{type:"button",className:"btn btn-outline btn-sm w-full",onClick:re,children:a("createParty.rerollBtn")})]})}),S.jsxs("div",{className:"collapse collapse-arrow bg-base-200",children:[S.jsx("input",{type:"checkbox"}),S.jsx("div",{className:"collapse-title font-medium",children:a("createParty.helpStats")}),S.jsx("div",{className:"collapse-content text-sm text-base-content/70",children:S.jsxs("ul",{className:"list-disc space-y-1 pl-4",children:[S.jsxs("li",{children:[S.jsx("strong",{children:a("createParty.hpMaxLabel").split(" (")[0]})," ="," ",a("createParty.statsHelp.hpMax")]}),S.jsxs("li",{children:[S.jsx("strong",{children:a("createParty.luckLabel").split(" (")[0]})," ="," ",a("createParty.statsHelp.luck")]}),S.jsxs("li",{children:[S.jsx("strong",{children:a("createParty.dexterityLabel")})," ="," ",a("createParty.statsHelp.dexterity")]})]})})]})]}),x&&S.jsx("div",{className:"alert alert-error text-sm",children:x}),S.jsxs("div",{className:"mt-6 flex gap-3",children:[$>0&&S.jsx("button",{className:"btn btn-outline flex-1",onClick:()=>l(bc[$-1]),children:a("createParty.prev")}),i!=="stats"?S.jsx("button",{className:"btn btn-primary flex-1",disabled:!we(),onClick:()=>l(bc[$+1]),children:a("createParty.next")}):S.jsx("button",{className:"btn btn-success flex-1",disabled:!we()||g,onClick:de,children:g?S.jsx("span",{className:"loading loading-spinner"}):a("createParty.create")})]})]})}function Sc(a,r){return new Date(a).toLocaleString(r,{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function Jv(){const{t:a,i18n:r}=ti(),{partyId:i}=Xh(),l=Eo(),[c,h]=J.useState(null),[g,v]=J.useState([]),[x,E]=J.useState([]),[_,k]=J.useState([]),[T,$]=J.useState(!0),[z,Z]=J.useState(""),[re,we]=J.useState(""),[de,le]=J.useState(1),[ie,We]=J.useState(!1),[Ge,K]=J.useState("journal"),[ke,Oe]=J.useState(!1),[_e,ft]=J.useState(!1),[Pe,be]=J.useState({name:"",bonus:0,description:""}),[Re,nt]=J.useState({name:"",quantity:1,description:""}),[at,st]=J.useState({boulons:0}),se=r.resolvedLanguage??"fr-FR",De=J.useCallback(async()=>{if(!i)return;const[oe,Me,Ze,ut]=await Promise.all([Pn.findById(i),Ii.findByPartyId(i),ko.findByPartyId(i),Gt.findByPartyId(i)]);if(!oe){l("/");return}h(oe),le(oe.currentChapter),st({boulons:oe.character.inventory.currency.boulons??0}),v(Me),E(Ze),k(ut),$(!1)},[i,l]);if(J.useEffect(()=>{De()},[De]),T||!c)return S.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:S.jsx("span",{className:"loading loading-spinner loading-lg"})});const Y=c.character,P=c.status!==ln.ACTIVE,X=Math.round(Y.hpCurrent/Y.hpMax*100),je=X>50?"progress-success":X>25?"progress-warning":"progress-error";async function ge(oe){We(!0);try{await oe(),await De()}finally{We(!1)}}const $e={journal:a("dashboard.tabs.journal"),inventaire:a("dashboard.tabs.inventory"),notes:a("dashboard.tabs.notes"),saves:a("dashboard.tabs.saves")};return S.jsxs("div",{className:"mx-auto max-w-lg p-4",children:[S.jsxs("div",{className:"mb-4 flex items-start justify-between gap-2",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-xl font-bold",children:c.name}),S.jsxs("div",{className:"text-sm text-base-content/60",children:[Y.name,"  ",c.mode,"  Ch. ",c.currentChapter]})]}),S.jsxs("div",{className:"flex gap-2",children:[c.status===ln.ACTIVE&&S.jsx(So,{to:`/party/${i}/combat`,className:"btn btn-error btn-sm",children:a("dashboard.combatBtn")}),S.jsx(So,{to:"/",className:"btn btn-ghost btn-sm",children:a("common.back")})]})]}),P&&S.jsx("div",{className:"alert alert-warning mb-4 text-sm",children:c.status===ln.DEAD?a("dashboard.readonlyBannerDead"):a("dashboard.readonlyBannerFinished")}),S.jsx("div",{className:"card mb-4 bg-base-200 shadow",children:S.jsxs("div",{className:"card-body gap-3 p-4",children:[S.jsxs("div",{className:"flex justify-between text-sm font-semibold",children:[S.jsx("span",{children:a("dashboard.hpDisplay",{current:Y.hpCurrent,max:Y.hpMax})}),S.jsx("span",{children:a("dashboard.luck",{value:Y.luck})}),S.jsx("span",{children:a("dashboard.dex",{value:Y.dexterity})})]}),S.jsx("progress",{className:`progress ${je} w-full`,value:Y.hpCurrent,max:Y.hpMax}),!P&&S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{className:"btn btn-error btn-sm flex-1",disabled:ie,onClick:()=>ge(async()=>{await zl.execute(i,-1)}),children:a("dashboard.hpMinus")}),S.jsx("button",{className:"btn btn-success btn-sm flex-1",disabled:ie,onClick:()=>ge(async()=>{await zl.execute(i,1)}),children:a("dashboard.hpPlus")})]}),P?S.jsx("div",{className:"text-sm text-base-content/60",children:a("dashboard.chapterCurrent",{chapter:c.currentChapter})}):S.jsxs("div",{className:"flex flex-col gap-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{className:"btn btn-outline btn-xs",disabled:ie,onClick:()=>le(oe=>Math.max(1,oe-1)),children:""}),S.jsx("input",{type:"number",min:1,className:"input input-sm input-bordered flex-1 text-center",value:de,onChange:oe=>le(Math.max(1,Number(oe.target.value)||1)),onKeyDown:oe=>{oe.key==="Enter"&&de!==c.currentChapter&&ge(()=>Oc.execute(i,de))}}),S.jsx("button",{className:"btn btn-outline btn-xs",disabled:ie,onClick:()=>le(oe=>oe+1),children:"+"}),S.jsx("span",{className:"text-sm text-base-content/60",children:a("dashboard.chapterCurrent",{chapter:c.currentChapter})})]}),de!==c.currentChapter&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-base-content/50",children:a("dashboard.chapterPending",{from:c.currentChapter,to:de})}),S.jsx("button",{className:"btn btn-success btn-xs flex-1",disabled:ie,onClick:()=>ge(()=>Oc.execute(i,de)),children:a("dashboard.chapterConfirm")}),S.jsx("button",{className:"btn btn-ghost btn-xs",onClick:()=>le(c.currentChapter),children:""})]})]})]})}),S.jsx("div",{role:"tablist",className:"tabs-boxed tabs mb-4",children:["journal","inventaire","notes","saves"].map(oe=>S.jsx("button",{role:"tab",className:`tab text-xs ${Ge===oe?"tab-active":""}`,onClick:()=>K(oe),children:$e[oe]},oe))}),Ge==="journal"&&S.jsxs("div",{className:"flex flex-col gap-3",children:[!P&&S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",className:"input input-sm input-bordered flex-1",placeholder:a("dashboard.journal.placeholder"),value:re,maxLength:100,onChange:oe=>we(oe.target.value)}),S.jsx("button",{className:"btn btn-outline btn-sm",disabled:ie||!re.trim(),onClick:()=>ge(async()=>{await xp.execute(i,re.trim()),we("")}),children:a("dashboard.journal.addBtn")})]}),S.jsxs("div",{className:"flex max-h-[50vh] flex-col gap-2 overflow-y-auto",children:[_.length===0&&S.jsx("p",{className:"text-center text-base-content/40",children:a("dashboard.journal.empty")}),_.map(oe=>S.jsxs("div",{className:"flex items-start gap-2 rounded-lg bg-base-200 px-3 py-2 text-sm",children:[S.jsx("span",{className:"shrink-0 text-base-content/40",children:a(`timeline.${oe.type}`,{defaultValue:""})}),S.jsx("span",{className:"flex-1",children:oe.label}),S.jsx("span",{className:"shrink-0 text-xs text-base-content/30",children:Sc(oe.createdAt,se)})]},oe.id))]})]}),Ge==="notes"&&S.jsxs("div",{className:"flex flex-col gap-3",children:[!P&&S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",className:"input input-sm input-bordered flex-1",placeholder:a("dashboard.notes.placeholder"),value:z,maxLength:200,onChange:oe=>Z(oe.target.value)}),S.jsx("button",{className:"btn btn-primary btn-sm",disabled:ie||!z.trim(),onClick:()=>ge(async()=>{await vp.execute(i,z.trim()),Z("")}),children:"+"})]}),S.jsxs("div",{className:"flex max-h-[50vh] flex-col gap-2 overflow-y-auto",children:[g.length===0&&S.jsx("p",{className:"text-center text-base-content/40",children:a("dashboard.notes.empty")}),g.map(oe=>S.jsxs("div",{className:"rounded-lg bg-base-200 p-3 text-sm",children:[S.jsx("p",{children:oe.content}),S.jsx("p",{className:"mt-1 text-xs text-base-content/30",children:Sc(oe.createdAt,se)})]},oe.id))]})]}),Ge==="saves"&&S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsx("div",{className:"flex gap-2",children:[1,2,3].map(oe=>S.jsxs("button",{className:"btn btn-outline btn-sm flex-1",disabled:ie||c.status!==ln.ACTIVE,onClick:()=>ge(async()=>{await wp.execute(i,oe)}),children:[" Slot ",oe]},oe))}),S.jsxs("div",{className:"flex flex-col gap-2",children:[x.length===0&&S.jsx("p",{className:"text-center text-base-content/40",children:a("dashboard.saves.empty")}),[1,2,3].map(oe=>{const Me=x.find(Ce=>Ce.slot===oe),Ze=x.sort((Ce,Rn)=>new Date(Rn.createdAt).getTime()-new Date(Ce.createdAt).getTime())[0],ut=Me&&(!Me||zc(c.mode)||(Ze==null?void 0:Ze.id)===Me.id);return S.jsxs("div",{className:`card bg-base-200 ${Me?"":"opacity-40"}`,children:[S.jsxs("div",{className:"card-body flex-row items-center justify-between p-3",children:[S.jsxs("div",{className:"text-sm",children:[S.jsxs("span",{className:"font-semibold",children:["Slot ",oe]}),Me&&S.jsx("span",{className:"ml-2 text-base-content/50",children:Sc(Me.createdAt,se)}),!Me&&S.jsx("span",{className:"ml-2 text-base-content/30",children:a("dashboard.saves.slotEmpty")})]}),Me&&S.jsx("button",{className:"btn btn-ghost btn-xs",disabled:ie||!ut||P,title:ut?"":a("dashboard.saves.simplifiedHint"),onClick:()=>ge(async()=>{await bp.execute(i,Me.id)}),children:a("common.restore")})]}),!ut&&Me&&S.jsx("p",{className:"px-3 pb-2 text-xs text-warning",children:a("dashboard.saves.simplifiedWarning")})]},oe)})]}),S.jsx("div",{className:"divider"}),S.jsx("button",{className:"btn btn-outline btn-sm w-full",disabled:ie,onClick:()=>ge(async()=>{const oe=await Sp.execute(i),Me=new Blob([oe.json],{type:"application/json"}),Ze=URL.createObjectURL(Me),ut=document.createElement("a");ut.href=Ze,ut.download=`dagda-${c.name.replace(/\s+/g,"-")}.json`,ut.click(),URL.revokeObjectURL(Ze)}),children:a("dashboard.saves.exportBtn")}),c.status===ln.ACTIVE&&S.jsx("button",{className:"btn btn-warning btn-sm w-full",disabled:ie,onClick:()=>Oe(!0),children:a("dashboard.saves.finishBtn")}),c.status===ln.FINISHED&&S.jsx("div",{className:"alert alert-info text-sm",children:a("dashboard.saves.finishedAlert")}),S.jsx("button",{className:"btn btn-ghost btn-sm w-full text-error",disabled:ie,onClick:()=>ft(!0),children:a("dashboard.saves.deleteBtn")})]}),Ge==="inventaire"&&(()=>{const oe=c.character.inventory;async function Me(ze,pt){await Np.execute(i,{...oe,...ze},pt),await De()}async function Ze(){if(!Pe.name.trim())return;const ze={id:crypto.randomUUID(),name:Pe.name.trim(),bonus:Pe.bonus,description:Pe.description.trim()||void 0},pt=[...oe.weapons,ze];await Me({weapons:pt,equippedWeaponId:oe.equippedWeaponId??ze.id},a("dashboard.inventoryLog.weaponAdded",{name:ze.name})),be({name:"",bonus:0,description:""})}async function ut(ze){var jn;const pt=oe.weapons.filter(lr=>lr.id!==ze),un=oe.equippedWeaponId===ze?(jn=pt[0])==null?void 0:jn.id:oe.equippedWeaponId;await Me({weapons:pt,equippedWeaponId:un},a("dashboard.inventoryLog.weaponRemoved"))}async function Ce(ze){var un;const pt=((un=oe.weapons.find(jn=>jn.id===ze))==null?void 0:un.name)??"";await Me({equippedWeaponId:ze},a("dashboard.inventoryLog.weaponEquipped",{name:pt}))}async function Rn(){if(!Re.name.trim())return;const ze={id:crypto.randomUUID(),name:Re.name.trim(),quantity:Math.max(1,Re.quantity),description:Re.description.trim()||void 0};await Me({items:[...oe.items,ze]},a("dashboard.inventoryLog.itemAdded",{name:ze.name})),nt({name:"",quantity:1,description:""})}async function rt(ze,pt){const un=oe.items.map(Jt=>Jt.id===ze?{...Jt,quantity:Math.max(0,Jt.quantity+pt)}:Jt).filter(Jt=>Jt.quantity>0),jn=oe.items.find(Jt=>Jt.id===ze),lr=pt>0?`+${pt}`:`${pt}`;await Me({items:un},a("dashboard.inventoryLog.itemQtyChanged",{delta:lr,name:jn==null?void 0:jn.name}))}async function Ut(ze){const pt=oe.items.find(un=>un.id===ze);await Me({items:oe.items.filter(un=>un.id!==ze)},a("dashboard.inventoryLog.itemRemoved",{name:pt==null?void 0:pt.name}))}async function Ir(){await Me({currency:at},a("dashboard.inventoryLog.currencyUpdated"))}return S.jsxs("div",{className:"flex flex-col gap-5",children:[S.jsxs("section",{children:[S.jsx("h3",{className:"mb-2 font-semibold",children:a("dashboard.inventory.weaponsTitle")}),oe.weapons.length===0&&S.jsx("p",{className:"mb-2 text-sm text-base-content/40",children:a("dashboard.inventory.weaponsEmpty")}),S.jsx("div",{className:"flex flex-col gap-2",children:oe.weapons.map(ze=>S.jsx("div",{className:`card border-2 bg-base-200 transition ${oe.equippedWeaponId===ze.id?"border-primary":"border-transparent"}`,children:S.jsx("div",{className:"card-body gap-1 p-3",children:S.jsxs("div",{className:"flex items-start justify-between gap-2",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("span",{className:"font-medium",children:ze.name}),ze.bonus!==0&&S.jsx("span",{className:"ml-2 text-sm text-success",children:a("dashboard.inventory.weaponBonus",{bonus:ze.bonus})}),oe.equippedWeaponId===ze.id&&S.jsx("span",{className:"badge badge-primary badge-sm ml-2",children:a("dashboard.inventory.weaponEquipped")}),ze.description&&S.jsx("p",{className:"mt-0.5 text-xs italic text-base-content/50",children:ze.description})]}),!P&&S.jsxs("div",{className:"flex shrink-0 gap-1",children:[oe.equippedWeaponId!==ze.id&&S.jsx("button",{className:"btn btn-ghost btn-xs",disabled:ie,title:a("dashboard.inventory.equipTooltip"),onClick:()=>ge(()=>Ce(ze.id)),children:""}),S.jsx("button",{className:"btn btn-ghost btn-xs text-error",disabled:ie,onClick:()=>ge(()=>ut(ze.id)),children:""})]})]})})},ze.id))}),!P&&S.jsxs("div",{className:"mt-3 rounded-lg border border-base-300 bg-base-200 p-3",children:[S.jsx("p",{className:"mb-2 text-xs font-semibold text-base-content/60",children:a("dashboard.inventory.addWeaponTitle")}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("input",{className:"input input-sm input-bordered w-full",placeholder:a("dashboard.inventory.weaponNamePlaceholder"),value:Pe.name,maxLength:40,onChange:ze=>be(pt=>({...pt,name:ze.target.value}))}),S.jsx("div",{className:"flex gap-2",children:S.jsxs("label",{className:"flex flex-1 items-center gap-1 text-sm",children:[a("dashboard.inventory.weaponBonusLabel"),S.jsx("input",{type:"number",className:"input input-xs input-bordered w-16",value:Pe.bonus,onChange:ze=>be(pt=>({...pt,bonus:Number(ze.target.value)}))})]})}),S.jsx("input",{className:"input input-sm input-bordered w-full",placeholder:a("dashboard.inventory.weaponDescPlaceholder"),value:Pe.description,maxLength:80,onChange:ze=>be(pt=>({...pt,description:ze.target.value}))}),S.jsx("button",{className:"btn btn-primary btn-sm w-full",disabled:ie||!Pe.name.trim(),onClick:()=>ge(Ze),children:a("common.addBtn")})]})]})]}),S.jsx("div",{className:"divider my-0"}),S.jsxs("section",{children:[S.jsx("h3",{className:"mb-2 font-semibold",children:a("dashboard.inventory.bagTitle")}),oe.items.length===0&&S.jsx("p",{className:"mb-2 text-sm text-base-content/40",children:a("dashboard.inventory.bagEmpty")}),S.jsx("div",{className:"flex flex-col gap-2",children:oe.items.map(ze=>S.jsx("div",{className:"card bg-base-200",children:S.jsx("div",{className:"card-body gap-1 p-3",children:S.jsxs("div",{className:"flex items-start justify-between gap-2",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("span",{className:"font-medium",children:ze.name}),ze.description&&S.jsx("p",{className:"mt-0.5 text-xs italic text-base-content/50",children:ze.description})]}),P?S.jsxs("span",{className:"text-sm font-semibold text-base-content/60",children:["",ze.quantity]}):S.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[S.jsx("button",{className:"btn btn-ghost btn-xs",disabled:ie,onClick:()=>ge(()=>rt(ze.id,-1)),children:""}),S.jsx("span",{className:"w-6 text-center text-sm font-semibold",children:ze.quantity}),S.jsx("button",{className:"btn btn-ghost btn-xs",disabled:ie,onClick:()=>ge(()=>rt(ze.id,1)),children:"+"}),S.jsx("button",{className:"btn btn-ghost btn-xs text-error",disabled:ie,onClick:()=>ge(()=>Ut(ze.id)),children:""})]})]})})},ze.id))}),!P&&S.jsxs("div",{className:"mt-3 rounded-lg border border-base-300 bg-base-200 p-3",children:[S.jsx("p",{className:"mb-2 text-xs font-semibold text-base-content/60",children:a("dashboard.inventory.addItemTitle")}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("input",{className:"input input-sm input-bordered w-full",placeholder:a("dashboard.inventory.itemNamePlaceholder"),value:Re.name,maxLength:40,onChange:ze=>nt(pt=>({...pt,name:ze.target.value}))}),S.jsx("div",{className:"flex gap-2",children:S.jsxs("label",{className:"flex flex-1 items-center gap-1 text-sm",children:[a("dashboard.inventory.itemQtyLabel"),S.jsx("input",{type:"number",min:1,className:"input input-xs input-bordered w-16",value:Re.quantity,onChange:ze=>nt(pt=>({...pt,quantity:Number(ze.target.value)}))})]})}),S.jsx("input",{className:"input input-sm input-bordered w-full",placeholder:a("dashboard.inventory.itemDescPlaceholder"),value:Re.description,maxLength:80,onChange:ze=>nt(pt=>({...pt,description:ze.target.value}))}),S.jsx("button",{className:"btn btn-primary btn-sm w-full",disabled:ie||!Re.name.trim(),onClick:()=>ge(Rn),children:a("common.addBtn")})]})]})]}),S.jsx("div",{className:"divider my-0"}),S.jsxs("section",{children:[S.jsx("h3",{className:"mb-2 font-semibold",children:a("dashboard.inventory.currencyTitle")}),S.jsxs("label",{className:"flex items-center gap-3",children:[S.jsx("input",{type:"number",min:0,className:"input input-sm input-bordered w-32 text-center",value:at.boulons,readOnly:P,onChange:P?void 0:ze=>st({boulons:Math.max(0,Number(ze.target.value))}),onBlur:P?void 0:()=>ge(Ir)}),S.jsx("span",{className:"text-sm text-base-content/60",children:a("dashboard.inventory.boulonsUnit")})]})]})]})})(),ke&&S.jsxs("div",{className:"modal modal-open",children:[S.jsxs("div",{className:"modal-box",children:[S.jsx("h3",{className:"text-lg font-bold",children:a("dashboard.finishTitle")}),S.jsx("p",{className:"py-3 text-sm text-base-content/70",children:a("dashboard.finishBody",{name:c.name})}),S.jsxs("div",{className:"modal-action gap-2",children:[S.jsx("button",{className:"btn btn-ghost flex-1",disabled:ie,onClick:()=>Oe(!1),children:a("common.cancel")}),S.jsx("button",{className:"btn btn-warning flex-1",disabled:ie,onClick:()=>{Oe(!1),ge(()=>kp.execute(i))},children:a("dashboard.finishBtn")})]})]}),S.jsx("div",{className:"modal-backdrop",onClick:()=>Oe(!1)})]}),_e&&S.jsxs("div",{className:"modal modal-open",children:[S.jsxs("div",{className:"modal-box",children:[S.jsx("h3",{className:"text-lg font-bold text-error",children:a("dashboard.deleteTitle")}),S.jsx("p",{className:"py-3 text-sm",children:a("dashboard.deleteBody",{name:c.name})}),S.jsxs("div",{className:"modal-action gap-2",children:[S.jsx("button",{className:"btn btn-ghost flex-1",disabled:ie,onClick:()=>ft(!1),children:a("common.cancel")}),S.jsx("button",{className:"btn btn-error flex-1",disabled:ie,onClick:()=>{ft(!1),ge(async()=>{await $c.execute(i),l("/")})},children:a("dashboard.deleteBtn")})]})]}),S.jsx("div",{className:"modal-backdrop",onClick:()=>ft(!1)})]})]})}const Zv=1;function Th(a,r){const i=a[0]+a[1];return{rolls:a,total:i,success:i<=r}}function Oh(a,r){return{roll:a,total:Zv+a+r,weaponBonus:r}}function ex(a,r,i){if(r===a)return null;const l=Math.abs(r-a);return l>i?null:{newRoll:r,luckCost:l}}function tx(a){return a.every(r=>r.hpCurrent<=0)}function nx(a){return a.hpCurrent<=0}function rx({partyName:a,onConfirm:r}){const{t:i}=ti();return S.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center gap-6 bg-base-100 p-6 text-center",children:[S.jsx("div",{className:"text-6xl",children:""}),S.jsx("h1",{className:"text-3xl font-bold text-error",children:i("combat.mortalDeath.title")}),S.jsx("p",{className:"max-w-xs text-base-content/70",children:i("combat.mortalDeath.desc",{partyName:a})}),S.jsx("button",{className:"btn btn-error btn-lg w-full max-w-xs",onClick:r,children:i("combat.mortalDeath.homeBtn")})]})}function ax({onReroll:a}){const{t:r}=ti(),[i,l]=J.useState(!1);return S.jsxs("div",{className:"mt-2",children:[S.jsx("button",{className:"btn btn-ghost btn-xs text-warning",onClick:()=>l(!0),children:r("combat.reroll.btn")}),i&&S.jsxs("div",{className:"mt-1 rounded-lg border border-warning bg-warning/10 p-2 text-xs text-warning",children:[r("combat.reroll.warning"),S.jsx("button",{className:"btn btn-warning btn-xs ml-2",onClick:()=>{a(),l(!1)},children:r("combat.reroll.confirmBtn")}),S.jsx("button",{className:"btn btn-ghost btn-xs ml-1",onClick:()=>l(!1),children:r("combat.reroll.cancelBtn")})]})]})}function ix(){const{t:a}=ti(),{partyId:r}=Xh(),i=Eo(),[l,c]=J.useState(null),[h,g]=J.useState(!0),[v,x]=J.useState([{id:crypto.randomUUID(),name:a("combat.setup.defaultEnemyName"),hpMax:10,hpCurrent:10,dexterity:6,attackBonus:0}]),[E,_]=J.useState("setup"),[k,T]=J.useState([]),[$,z]=J.useState(1),[Z,re]=J.useState(!1),[we,de]=J.useState([1,1]),[,le]=J.useState(1),[ie,We]=J.useState([]),Ge=J.useRef(null),K=J.useRef(null),ke=J.useCallback(async()=>{if(!r)return;const Y=await Pn.findById(r);if(!Y){i("/");return}c(Y),g(!1)},[r,i]);if(J.useEffect(()=>{ke()},[ke]),h||!l)return S.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:S.jsx("span",{className:"loading loading-spinner loading-lg"})});const Oe=l.character,_e=v.filter(Y=>Y.hpCurrent>0);function ft(){v.length>=5||x(Y=>[...Y,{id:crypto.randomUUID(),name:a("combat.setup.defaultEnemyNameN",{n:Y.length+1}),hpMax:10,hpCurrent:10,dexterity:6,attackBonus:0}])}function Pe(Y){x(P=>P.filter(X=>X.id!==Y))}function be(Y,P){x(X=>X.map(je=>je.id===Y?{...je,...P}:je))}async function Re(){re(!0);const Y=gn.now();await Gt.append({id:crypto.randomUUID(),partyId:r,type:At.COMBAT_STARTED,label:a("combat.log.started",{count:v.length}),payload:{enemies:v.map(P=>P.name)},createdAt:Y}),_("ongoing"),re(!1)}async function nt(Y){var $e,oe;if(Z)return;re(!0);const P=sr.roll2D6(),X=Th(P,Oe.dexterity);($e=Ge.current)==null||$e.roll(P[0]),(oe=K.current)==null||oe.roll(P[1]),de(P);const je=gn.now();let ge;if(X.success){const Me=sr.rollD6();le(Me);const Ze=Oe.inventory,ut=Ze.weapons.find(rt=>rt.id===Ze.equippedWeaponId)??Ze.weapons[0],Ce=Oh(Me,(ut==null?void 0:ut.bonus)??0),Rn=ut?` [${ut.name}${ut.bonus?` +${ut.bonus}`:""}]`:"";ge={turn:$,actor:"player",roll:P,success:!0,damage:Ce.total,label:a("combat.log.playerHit",{turn:$,rolls:P.join("+"),total:X.total,weapon:Rn,damage:Ce.total})},x(rt=>rt.map(Ut=>Ut.id===Y?{...Ut,hpCurrent:Math.max(0,Ut.hpCurrent-Ce.total)}:Ut)),await Gt.append({id:crypto.randomUUID(),partyId:r,type:At.COMBAT_HIT,label:ge.label,payload:{rolls:P,damage:Ce.total,turn:$},createdAt:je})}else ge={turn:$,actor:"player",roll:P,success:!1,label:a("combat.log.playerMiss",{turn:$,rolls:P.join("+"),total:X.total,dex:Oe.dexterity})},await Gt.append({id:crypto.randomUUID(),partyId:r,type:At.COMBAT_MISS,label:ge.label,payload:{rolls:P,turn:$},createdAt:je});T(Me=>[ge,...Me]),await De(),re(!1)}async function at(Y){if(Z)return;re(!0);const P=sr.roll2D6(),X=Th(P,Y.dexterity),je=gn.now();let ge;if(X.success){const $e=sr.rollD6(),oe=Oh($e,Y.attackBonus);ge={turn:$,actor:Y.id,roll:P,success:!0,damage:oe.total,label:a("combat.log.enemyHit",{turn:$,name:Y.name,rolls:P.join("+"),total:X.total,damage:oe.total})};const Me=await zl.execute(r,-oe.total);if(await ke(),await Gt.append({id:crypto.randomUUID(),partyId:r,type:At.COMBAT_ENEMY_HIT,label:ge.label,payload:{rolls:P,damage:oe.total,turn:$},createdAt:je}),Me.isMortalDeath){T(Ze=>[ge,...Ze]),_("mortal_death"),re(!1);return}}else ge={turn:$,actor:Y.id,roll:P,success:!1,label:a("combat.log.enemyMiss",{turn:$,name:Y.name,rolls:P.join("+"),total:X.total})},await Gt.append({id:crypto.randomUUID(),partyId:r,type:At.COMBAT_ENEMY_MISS,label:ge.label,payload:{rolls:P,turn:$},createdAt:je});T($e=>[ge,...$e]),z($e=>$e+1),await De(),re(!1)}async function st(Y,P){var $e;const X=we[P],je=ex(X,Y,Oe.luck);if(!je)return;await Cp.execute(r,je.luckCost);const ge=[...we];ge[P]=je.newRoll,de(ge),($e=Ge.current)==null||$e.roll(je.newRoll),await ke()}async function se(){var ge,$e;const Y=we[0]+we[1],P=sr.roll2D6(),X=P[0]+P[1];(ge=Ge.current)==null||ge.roll(P[0]),($e=K.current)==null||$e.roll(P[1]),de(P),We(oe=>[...oe,{context:"combat-player-attack",before:Y,after:X}]);const je=gn.now();await Gt.append({id:crypto.randomUUID(),partyId:r,type:At.DICE_REROLLED,label:a("combat.log.rerollLog",{before:Y,after:X}),payload:{context:"combat-player-attack",before:Y,after:X},createdAt:je}),await Co.append({id:crypto.randomUUID(),partyId:r,type:At.DICE_REROLLED,payload:{context:"combat-player-attack",before:Y,after:X},status:ni.PENDING,createdAt:je})}async function De(){const Y=await Pn.findById(r);if(!Y)return;const P=gn.now();tx(v)?(_("victory"),await Gt.append({id:crypto.randomUUID(),partyId:r,type:At.COMBAT_VICTORY,label:a("combat.log.victory"),createdAt:P})):Y.status===ln.DEAD||nx(Y.character)&&(_("defeat"),await Gt.append({id:crypto.randomUUID(),partyId:r,type:At.COMBAT_DEFEAT,label:a("combat.log.defeat"),createdAt:P}))}return S.jsxs("div",{className:"mx-auto max-w-lg p-4",children:[S.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[S.jsx("h1",{className:"text-xl font-bold",children:a("combat.title")}),S.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>i(`/party/${r}`),children:a("combat.back")})]}),S.jsx("div",{className:"card mb-4 bg-base-200 shadow",children:S.jsxs("div",{className:"card-body gap-1 p-3 text-sm",children:[S.jsx("div",{className:"font-semibold",children:Oe.name}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("span",{children:[" ",Oe.hpCurrent,"/",Oe.hpMax]}),S.jsxs("span",{children:[" ",Oe.luck]}),S.jsxs("span",{children:[" DEX ",Oe.dexterity]})]}),S.jsx("progress",{className:"progress progress-success w-full",value:Oe.hpCurrent,max:Oe.hpMax})]})}),E==="setup"&&S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsx("h2",{className:"font-semibold",children:a("combat.setup.enemiesTitle",{count:v.length})}),v.map((Y,P)=>S.jsx("div",{className:"card bg-base-200",children:S.jsxs("div",{className:"card-body gap-2 p-3",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{className:"input input-sm input-bordered flex-1",value:Y.name,onChange:X=>be(Y.id,{name:X.target.value}),placeholder:a("combat.setup.enemyNamePlaceholder")}),P>0&&S.jsx("button",{className:"btn btn-ghost btn-xs text-error",onClick:()=>Pe(Y.id),children:""})]}),S.jsxs("div",{className:"flex gap-2 text-sm",children:[S.jsxs("label",{className:"flex items-center gap-1",children:[a("combat.setup.hpMaxLabel"),S.jsx("input",{type:"number",min:1,className:"input input-xs input-bordered w-16",value:Y.hpMax,onChange:X=>{const je=Number(X.target.value);be(Y.id,{hpMax:je,hpCurrent:je})}})]}),S.jsxs("label",{className:"flex items-center gap-1",children:[a("combat.setup.dexLabel"),S.jsx("input",{type:"number",min:1,max:12,className:"input input-xs input-bordered w-14",value:Y.dexterity,onChange:X=>be(Y.id,{dexterity:Number(X.target.value)})})]}),S.jsxs("label",{className:"flex items-center gap-1",children:[a("combat.setup.atkBonusLabel"),S.jsx("input",{type:"number",min:0,className:"input input-xs input-bordered w-14",value:Y.attackBonus,onChange:X=>be(Y.id,{attackBonus:Number(X.target.value)})})]})]})]})},Y.id)),v.length<5&&S.jsx("button",{className:"btn btn-outline btn-sm",onClick:ft,children:a("combat.setup.addEnemyBtn")}),S.jsx("button",{className:"btn btn-error w-full",disabled:Z,onClick:Re,children:a("combat.setup.startBtn")})]}),E==="ongoing"&&S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsx("div",{className:"text-sm text-base-content/60",children:a("combat.ongoing.turnInfo",{turn:$,count:_e.length})}),S.jsx("div",{className:"card bg-base-200",children:S.jsxs("div",{className:"card-body gap-2 p-3",children:[S.jsx("div",{className:"text-sm font-semibold",children:a("combat.ongoing.lastRoll",{d1:we[0],d2:we[1],total:we[0]+we[1],dex:Oe.dexterity})}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx(wo,{ref:Ge,defaultValue:we[0],size:52}),S.jsx(wo,{ref:K,defaultValue:we[1],size:52})]}),S.jsx(ax,{onReroll:se})]})}),_e.map(Y=>S.jsx("div",{className:"card bg-base-200 shadow",children:S.jsxs("div",{className:"card-body gap-2 p-3",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"font-semibold",children:Y.name}),S.jsxs("span",{className:"text-sm",children:[" ",Y.hpCurrent,"/",Y.hpMax]})]}),S.jsx("progress",{className:"progress progress-error w-full",value:Y.hpCurrent,max:Y.hpMax}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{className:"btn btn-primary btn-sm flex-1",disabled:Z,onClick:()=>nt(Y.id),children:a("combat.ongoing.attackBtn")}),S.jsx("button",{className:"btn btn-warning btn-sm flex-1",disabled:Z,onClick:()=>at(Y),children:a("combat.ongoing.enemyAttackBtn",{name:Y.name})})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{className:"btn btn-ghost btn-xs",onClick:()=>be(Y.id,{hpCurrent:Math.max(0,Y.hpCurrent-1)}),children:a("combat.ongoing.enemyHpMinus")}),S.jsx("button",{className:"btn btn-ghost btn-xs",onClick:()=>be(Y.id,{hpCurrent:Math.min(Y.hpMax,Y.hpCurrent+1)}),children:a("combat.ongoing.enemyHpPlus")})]})]})},Y.id)),S.jsx("div",{className:"card bg-base-200",children:S.jsxs("div",{className:"card-body gap-2 p-3",children:[S.jsx("div",{className:"text-sm font-semibold",children:a("combat.ongoing.luckSection",{luck:Oe.luck})}),S.jsx("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4,5,6].map(Y=>S.jsx("button",{className:"btn btn-outline btn-xs",disabled:Z||Y===we[0]||Oe.luck<Math.abs(Y-we[0]),onClick:()=>st(Y,0),children:a("combat.ongoing.diceTo",{val:Y})},Y))})]})})]}),(E==="victory"||E==="defeat")&&S.jsx("div",{className:`alert ${E==="victory"?"alert-success":"alert-error"} mb-4`,children:S.jsxs("div",{children:[S.jsx("div",{className:"text-lg font-bold",children:a(E==="victory"?"combat.result.victory":"combat.result.defeat")}),S.jsxs("div",{className:"text-sm",children:[E==="defeat"&&(l==null?void 0:l.mode)!==Ja.MORTAL&&a("combat.result.restoreHint"),ie.length>0&&` ${a("combat.result.rerollCount",{count:ie.length})}`]})]})}),E==="mortal_death"&&S.jsx(rx,{partyName:(l==null?void 0:l.name)??"",onConfirm:()=>i("/")}),k.length>0&&E!=="mortal_death"&&S.jsxs("div",{className:"mt-4 flex max-h-48 flex-col gap-1 overflow-y-auto",children:[S.jsx("div",{className:"text-xs font-semibold text-base-content/50",children:a("combat.log.title")}),k.map((Y,P)=>S.jsx("div",{className:`rounded px-2 py-1 text-xs ${Y.success?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:Y.label},P))]}),(E==="victory"||E==="defeat")&&S.jsx("button",{className:"btn btn-primary mt-4 w-full",onClick:()=>i(`/party/${r}`),children:a("combat.result.backBtn")})]})}const ox=[{value:"light",labelKey:"settings.themeLight"},{value:"dark",labelKey:"settings.themeDark"},{value:"auto",labelKey:"settings.themeAuto"}],sx=[{value:"fr-FR",labelKey:"settings.langFR"},{value:"en-US",labelKey:"settings.langEN"}],lx=["v0_4_0","v0_1_0"];function ux(){const{t:a,i18n:r}=ti(),{choice:i,setTheme:l}=ap(),c=Eo(),h=J.useRef(null),[g,v]=J.useState(!1);async function x(E){var k;const _=(k=E.target.files)==null?void 0:k[0];if(_)try{const T=await _.text(),$=await Ep.execute(T);c(`/party/${$.id}`)}catch(T){alert(a("settings.importError",{message:T.message}))}}return S.jsxs("div",{className:"mx-auto max-w-lg p-4",children:[S.jsx("h1",{className:"mb-6 text-2xl font-bold",children:a("settings.title")}),S.jsx("div",{className:"card mb-4 bg-base-200 shadow",children:S.jsxs("div",{className:"card-body gap-4",children:[S.jsx("h2",{className:"card-title text-lg",children:a("settings.themeTitle")}),S.jsx("div",{className:"flex flex-col gap-3",children:ox.map(E=>S.jsxs("label",{className:"flex cursor-pointer items-center gap-3",children:[S.jsx("input",{type:"radio",name:"theme",className:"radio-primary radio",checked:i===E.value,onChange:()=>l(E.value)}),S.jsx("span",{className:"text-base",children:a(E.labelKey)})]},E.value))})]})}),S.jsx("div",{className:"card mb-4 bg-base-200 shadow",children:S.jsxs("div",{className:"card-body gap-4",children:[S.jsx("h2",{className:"card-title text-lg",children:a("settings.languageTitle")}),S.jsx("div",{className:"flex flex-col gap-3",children:sx.map(E=>S.jsxs("label",{className:"flex cursor-pointer items-center gap-3",children:[S.jsx("input",{type:"radio",name:"language",className:"radio-primary radio",checked:r.resolvedLanguage===E.value,onChange:()=>void r.changeLanguage(E.value)}),S.jsx("span",{className:"text-base",children:a(E.labelKey)})]},E.value))})]})}),S.jsx("div",{className:"card mb-4 bg-base-200 shadow",children:S.jsxs("div",{className:"card-body gap-3",children:[S.jsx("h2",{className:"card-title text-lg",children:a("settings.importTitle")}),S.jsx("p",{className:"text-sm text-base-content/60",children:a("settings.importDesc")}),S.jsx("input",{ref:h,type:"file",accept:".json",className:"hidden",onChange:x}),S.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>{var E;return(E=h.current)==null?void 0:E.click()},children:a("settings.importBtn")})]})}),S.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-sm text-base-content/40",children:[S.jsx("span",{children:a("settings.footer")}),S.jsxs("button",{className:"underline transition hover:text-base-content/70",onClick:()=>v(!0),children:["v","0.4.0"]})]}),g&&S.jsxs("div",{className:"modal modal-open",children:[S.jsxs("div",{className:"modal-box max-h-[80vh] overflow-y-auto",children:[S.jsx("h3",{className:"mb-4 text-lg font-bold",children:a("changelog.title")}),S.jsx("div",{className:"flex flex-col gap-6",children:lx.map(E=>S.jsxs("div",{children:[S.jsx("div",{className:"mb-2 font-semibold text-primary",children:a(`changelog.${E}.label`)}),S.jsx("ul",{className:"flex flex-col gap-1",children:a(`changelog.${E}.items`,{returnObjects:!0}).map((_,k)=>S.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[S.jsx("span",{className:"mt-0.5 shrink-0 text-base-content/40",children:""}),S.jsx("span",{children:_})]},k))})]},E))}),S.jsx("div",{className:"modal-action",children:S.jsx("button",{className:"btn btn-primary w-full",onClick:()=>v(!1),children:a("changelog.closeBtn")})})]}),S.jsx("div",{className:"modal-backdrop",onClick:()=>v(!1)})]})]})}function cx(){const{t:a}=ti();return S.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 p-4",children:[S.jsx("h1",{className:"text-2xl font-bold",children:a("notFound.title")}),S.jsx(So,{to:"/",className:"btn btn-primary",children:a("notFound.backBtn")})]})}const dx=ay([{path:"/",element:S.jsx(Cy,{}),children:[{index:!0,element:S.jsx(qv,{})},{path:"party/new",element:S.jsx(Xv,{})},{path:"party/:partyId",element:S.jsx(Jv,{})},{path:"party/:partyId/combat",element:S.jsx(ix,{})},{path:"settings",element:S.jsx(ux,{})},{path:"*",element:S.jsx(cx,{})}]}],{basename:"/dagda-companion/"}),{slice:fx,forEach:hx}=[];function px(a){return hx.call(fx.call(arguments,1),r=>{if(r)for(const i in r)a[i]===void 0&&(a[i]=r[i])}),a}function mx(a){return typeof a!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(i=>i.test(a))}const Dh=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,gx=function(a,r){const l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},c=encodeURIComponent(r);let h=`${a}=${c}`;if(l.maxAge>0){const g=l.maxAge-0;if(Number.isNaN(g))throw new Error("maxAge should be a Number");h+=`; Max-Age=${Math.floor(g)}`}if(l.domain){if(!Dh.test(l.domain))throw new TypeError("option domain is invalid");h+=`; Domain=${l.domain}`}if(l.path){if(!Dh.test(l.path))throw new TypeError("option path is invalid");h+=`; Path=${l.path}`}if(l.expires){if(typeof l.expires.toUTCString!="function")throw new TypeError("option expires is invalid");h+=`; Expires=${l.expires.toUTCString()}`}if(l.httpOnly&&(h+="; HttpOnly"),l.secure&&(h+="; Secure"),l.sameSite)switch(typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite){case!0:h+="; SameSite=Strict";break;case"lax":h+="; SameSite=Lax";break;case"strict":h+="; SameSite=Strict";break;case"none":h+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l.partitioned&&(h+="; Partitioned"),h},Lh={create(a,r,i,l){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(c.expires=new Date,c.expires.setTime(c.expires.getTime()+i*60*1e3)),l&&(c.domain=l),document.cookie=gx(a,r,c)},read(a){const r=`${a}=`,i=document.cookie.split(";");for(let l=0;l<i.length;l++){let c=i[l];for(;c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(r)===0)return c.substring(r.length,c.length)}return null},remove(a,r){this.create(a,"",-1,r)}};var yx={name:"cookie",lookup(a){let{lookupCookie:r}=a;if(r&&typeof document<"u")return Lh.read(r)||void 0},cacheUserLanguage(a,r){let{lookupCookie:i,cookieMinutes:l,cookieDomain:c,cookieOptions:h}=r;i&&typeof document<"u"&&Lh.create(i,a,l,c,h)}},vx={name:"querystring",lookup(a){var l;let{lookupQuerystring:r}=a,i;if(typeof window<"u"){let{search:c}=window.location;!window.location.search&&((l=window.location.hash)==null?void 0:l.indexOf("?"))>-1&&(c=window.location.hash.substring(window.location.hash.indexOf("?")));const g=c.substring(1).split("&");for(let v=0;v<g.length;v++){const x=g[v].indexOf("=");x>0&&g[v].substring(0,x)===r&&(i=g[v].substring(x+1))}}return i}},xx={name:"hash",lookup(a){var c;let{lookupHash:r,lookupFromHashIndex:i}=a,l;if(typeof window<"u"){const{hash:h}=window.location;if(h&&h.length>2){const g=h.substring(1);if(r){const v=g.split("&");for(let x=0;x<v.length;x++){const E=v[x].indexOf("=");E>0&&v[x].substring(0,E)===r&&(l=v[x].substring(E+1))}}if(l)return l;if(!l&&i>-1){const v=h.match(/\/([a-zA-Z-]*)/g);return Array.isArray(v)?(c=v[typeof i=="number"?i:0])==null?void 0:c.replace("/",""):void 0}}}return l}};let yo=null;const Ah=()=>{if(yo!==null)return yo;try{if(yo=typeof window<"u"&&window.localStorage!==null,!yo)return!1;const a="i18next.translate.boo";window.localStorage.setItem(a,"foo"),window.localStorage.removeItem(a)}catch{yo=!1}return yo};var wx={name:"localStorage",lookup(a){let{lookupLocalStorage:r}=a;if(r&&Ah())return window.localStorage.getItem(r)||void 0},cacheUserLanguage(a,r){let{lookupLocalStorage:i}=r;i&&Ah()&&window.localStorage.setItem(i,a)}};let vo=null;const Ih=()=>{if(vo!==null)return vo;try{if(vo=typeof window<"u"&&window.sessionStorage!==null,!vo)return!1;const a="i18next.translate.boo";window.sessionStorage.setItem(a,"foo"),window.sessionStorage.removeItem(a)}catch{vo=!1}return vo};var bx={name:"sessionStorage",lookup(a){let{lookupSessionStorage:r}=a;if(r&&Ih())return window.sessionStorage.getItem(r)||void 0},cacheUserLanguage(a,r){let{lookupSessionStorage:i}=r;i&&Ih()&&window.sessionStorage.setItem(i,a)}},Sx={name:"navigator",lookup(a){const r=[];if(typeof navigator<"u"){const{languages:i,userLanguage:l,language:c}=navigator;if(i)for(let h=0;h<i.length;h++)r.push(i[h]);l&&r.push(l),c&&r.push(c)}return r.length>0?r:void 0}},Ex={name:"htmlTag",lookup(a){let{htmlTag:r}=a,i;const l=r||(typeof document<"u"?document.documentElement:null);return l&&typeof l.getAttribute=="function"&&(i=l.getAttribute("lang")),i}},kx={name:"path",lookup(a){var c;let{lookupFromPathIndex:r}=a;if(typeof window>"u")return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?(c=i[typeof r=="number"?r:0])==null?void 0:c.replace("/",""):void 0}},Cx={name:"subdomain",lookup(a){var c,h;let{lookupFromSubdomainIndex:r}=a;const i=typeof r=="number"?r+1:1,l=typeof window<"u"&&((h=(c=window.location)==null?void 0:c.hostname)==null?void 0:h.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(l)return l[i]}};let _p=!1;try{document.cookie,_p=!0}catch{}const Pp=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];_p||Pp.splice(1,1);const Nx=()=>({order:Pp,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:a=>a});class Rp{constructor(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(r,i)}init(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=px(i,this.options||{},Nx()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=c=>c.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=l,this.addDetector(yx),this.addDetector(vx),this.addDetector(wx),this.addDetector(bx),this.addDetector(Sx),this.addDetector(Ex),this.addDetector(kx),this.addDetector(Cx),this.addDetector(xx)}addDetector(r){return this.detectors[r.name]=r,this}detect(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,i=[];return r.forEach(l=>{if(this.detectors[l]){let c=this.detectors[l].lookup(this.options);c&&typeof c=="string"&&(c=[c]),c&&(i=i.concat(c))}}),i=i.filter(l=>l!=null&&!mx(l)).map(l=>this.options.convertDetectedLanguage(l)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}cacheUserLanguage(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||i.forEach(l=>{this.detectors[l]&&this.detectors[l].cacheUserLanguage(r,this.options)}))}}Rp.type="languageDetector";const _x={cancel:"Annuler",delete:"Supprimer",add:"Ajouter",addBtn:"+ Ajouter",restore:"Restaurer",back:"",empty:"Vide"},Px={active:"En cours",finished:"Termine",dead:"Morte"},Rx={now:" l'instant",minutes:"il y a {{count}} min",hours:"il y a {{count}} h",days:"il y a {{count}} j"},jx={PARTY_CREATED:" Cration",CHAPTER_SET:" Chapitre",HP_CHANGED:" PV",LUCK_SPENT:" Chance",NOTE_ADDED:" Note",SAVE_CREATED:" Sauvegarde",SAVE_REPLACED:" Sauvegarde",SAVE_RESTORED:" Restauration",COMBAT_VICTORY:" Victoire",COMBAT_DEFEAT:" Dfaite",DEATH_RESET:" Mort",PARTY_EXPORTED:" Export",PARTY_FINISHED:" Termine",CUSTOM_ACTION:" Action",DICE_REROLLED:" Relance",COMBAT_STARTED:" Combat",COMBAT_HIT:" Touch",COMBAT_MISS:" Rat",COMBAT_ENEMY_HIT:" Touch",COMBAT_ENEMY_MISS:" Rat",INVENTORY_CHANGED:" Inventaire"},Tx={INSTINCT:"Instinct",HERBOLOGY:"Herbologie",DISCRETION:"Discrtion",PERSUASION:"Persuasion",OBSERVATION:"Observation",SLEIGHT_OF_HAND:"Doigts agiles",EMPATHY_PRACTICE:"Empratique"},Ox={title:"Mes parties",newParty:"+ Nouvelle partie",emptyState:"Aucune partie. Commencez l'aventure !",createParty:"Crer une partie",deleteTooltip:"Supprimer la partie",deleteTitle:"Supprimer la partie ?",deleteBody:" {{name}}  sera supprime dfinitivement avec toutes ses sauvegardes, notes et journal. Cette action est irrversible."},Dx={combatBtn:" Combat",hpDisplay:"PV {{current}} / {{max}}",luck:" Chance : {{value}}",dex:" DEX : {{value}}",hpMinus:"1 PV",hpPlus:"+1 PV",chapterCurrent:" {{chapter}}",chapterPending:" {{from}}  {{to}}",chapterConfirm:" Valider",tabs:{journal:"Journal",inventory:"Inventaire",notes:"Notes",saves:"Sauvegardes"},journal:{placeholder:"Action libre",addBtn:"Ajouter",empty:"Aucune action."},notes:{placeholder:"Nouvelle note",empty:"Aucune note."},saves:{empty:"Aucune sauvegarde.",slotEmpty:"Vide",simplifiedHint:"Mode Simplifi : seule la plus rcente est restaurable",simplifiedWarning:"Mode Simplifi : restauration dsactive pour ce slot.",exportBtn:" Exporter JSON",finishBtn:" Terminer la partie",finishedAlert:"Partie termine. Exportez pour archiver.",deleteBtn:" Supprimer la partie"},inventory:{weaponsTitle:" Armes",weaponsEmpty:"Aucune arme.",weaponBonus:"+{{bonus}} dgts",weaponEquipped:"quipe",equipTooltip:"quiper",addWeaponTitle:"Ajouter une arme",weaponNamePlaceholder:"Nom *",weaponBonusLabel:"Bonus dgts",weaponDescPlaceholder:"Spcificit (optionnel)",bagTitle:" Sac",bagEmpty:"Sac vide.",addItemTitle:"Ajouter un objet",itemNamePlaceholder:"Nom *",itemQtyLabel:"Qt",itemDescPlaceholder:"Description (optionnel)",currencyTitle:" Boulons",boulonsUnit:"boulon(s)"},finishTitle:"Terminer la partie ?",finishBody:"La partie  {{name}}  sera marque comme termine. Vous pourrez toujours consulter son historique et l'exporter.",finishBtn:" Terminer",deleteTitle:"Supprimer la partie ?",deleteBody:" {{name}}  et toutes ses donnes (sauvegardes, journal, notes) seront supprimes dfinitivement. Cette action est irrversible.",deleteBtn:" Supprimer",readonlyBannerFinished:"Cette partie est termine  consultation uniquement.",readonlyBannerDead:"Ce personnage est mort  consultation uniquement.",inventoryLog:{weaponAdded:"Arme ajoute : {{name}}",weaponRemoved:"Arme retire",weaponEquipped:"Arme quipe : {{name}}",itemAdded:"Objet ajout : {{name}}",itemQtyChanged:"{{delta}} {{name}}",itemRemoved:"Objet retir : {{name}}",currencyUpdated:"Monnaie mise  jour"}},Lx={steps:{mode:"Mode",talent:"Talent",stats:"Stats"},partyNameTitle:"Nom de la partie",partyNamePlaceholder:"Ex : Aventure de Riann",gameModeTitle:"Mode de jeu",helpModes:"Aide  Modes de jeu",chooseTalent:"Choisissez votre talent",helpTalents:"Aide  Talents",talentHelpIntro:"Chaque talent offre un avantage narratif ou mcanique dans certaines situations :",characterTitle:"Votre personnage",characterNamePlaceholder:"Nom du personnage",initialStats:"Caractristiques initiales",hpMaxLabel:"PV max (2d6  4)",hpRollDisplay:"{{d1}}+{{d2}}={{roll}}  {{hpMax}} PV",luckLabel:"Chance (1d6)",dexterityLabel:"Dextrit",rerollBtn:" Relancer les ds",helpStats:"Aide  Rgles des caractristiques",prev:" Prcdent",next:"Suivant ",create:"Crer la partie ",modes:{NARRATIVE:{label:"Narratif",desc:"Pas de combat. Idal pour explorer l'histoire."},SIMPLIFIED:{label:"Simplifi",desc:"Combat simplifi, une seule sauvegarde restaurable."},MORTAL:{label:"Mortel",desc:"Si vous mourez, reset complet. Haut risque."}},modeHelp:{narrativeDesc:"Dans ce mode de jeu, vous n'allez pas vous encombrer de la plupart des combats. Vous allez chercher avant tout  vivre pleinement l'aventure et  prendre les dcisions qui vous conviennent. Lorsqu'un combat vous est propos, vous choisirez directement si vous l'avez remport ou non. Attention: cette rgle spciale pour les combats ne s'applique que jusqu' cinq adversaires  combattre en simultan. Au-del de ce chiffre, vous tes en surnombre et vous serez oblig de vivre le combat normalement (voir section  LES COMBATS ).",simplifiedDesc:"Dans ce mode de jeu, toutes les rgles s'appliquent, mais vous avez le droit de sauvegarder le jeu trois fois sur votre FEUILLE DE PERSONNAGE. Lors d'une sauvegarde, notez le chapitre o vous tes et inscrivez un petit  s  devant les armes et les objets de votre INVENTAIRE venant d'tre sauvegards. Vous pourrez reprendre le jeu  cette sauvegarde quand bon vous semblera. Attention: vous devez toujours reprendre  votre sauvegarde la plus rcente.",mortalDesc:"Dans ce mode de jeu, toutes les rgles s'appliquent... y compris celle de la vie. Si vous venez  mourir, vous perdez toutes vos armes ainsi que votre quipement. Vous devez reprendre le livre au chapitre 1."},talentHelp:{INSTINCT:"Ce TALENT permet de laisser parler ses sens et son intuition. Un art qui court-circuite la raison pour ressentir quelle est la meilleure dcision  prendre.",HERBOLOGY:"Les plantes renferment de puissants secrets pouvant vous servir en toutes circonstances. Ce TALENT vous a donn une solide connaissance de cette magie naturelle.",DISCRETION:"tre seul au milieu de la foule, invisible comme un fantme. Ce TALENT vous permet de vous faufiler sans tre vu, de vous dplacer sans mme faire bouger l'air.",PERSUASION:"Les mots sont une arme. Vous possdez avec ce TALENT la capacit, en quelques phrases, de convaincre n'importe qui de n'importe quoi. Une vivacit d'esprit qui peut permettre d'viter bien des conflits.",OBSERVATION:"Les yeux sont bombards d'informations  chaque seconde. Ce TALENT ne vous permet pas de voir plus loin, mais au contraire de voir ce qui compte vraiment autour de vous.",SLEIGHT_OF_HAND:"Un vritable virtuose des doigts. Ce TALENT, une fois matris, vous donne des comptences de voleur  la tire, de bateleur, du sculpteur, etc.",EMPATHY_PRACTICE:"Le plus subtil des TALENTS. Bas sur l'empathie, l'em-pratique vous permet littralement de ressentir exactement ce que ressent une autre personne pour mieux le comprendre."},statsHelp:{hpMax:"Pour calculer cette valeur, jetez deux ds et multipliez le rsultat obtenu par 4. Notez ce rsultat sur votre FEUILLE DE PERSONNAGE. Vous commencez ce livre avec tous VOS POINTS DE VIE. Vos POINTS DE VIE ne peuvent pas dpasser cette valeur maximale, sauf indication contraire explicite.",luck:"Votre charisme et votre chance naturelle seront symboliss par ce rsultat. Jetez un d  six faces, et notez le rsultat sur votre FEUILLE DE PERSONNAGE. Cette caractristique fonctionne comme une rserve de points. Vous pouvez consommer des points de CHANCE pour modifier un rsultat de vos ds au cours de votre aventure. Exemple: pour ouvrir une porte, vous devez faire 5 avec un d  six faces. Vous jetez le d et obtenez un 3. Vous choisissez d'utiliser deux de vos points de CHANCE pour rgler votre d sur 5. Vous corrigez votre CHANCE sur votre FEUILLE DE PERSONNAGE en la rduisant de 2.",dexterity:"Cette caractristique est essentielle pour les combats. Votre dextrit pourra varier au fil de vos aventures et de vos apprentissages. Pour le moment, comme chez tous les Apprentis  la fin de leur apprentissage, votre DEXTRIT est de 7. Veuillez le noter sur votre FEUILLE DE PERSONNAGE."},createdLabel:'Partie "{{name}}" cre (mode {{mode}})'},Ax={title:" Combat",back:" Retour",mortalDeath:{title:"Vous tes mort.",desc:"{{partyName}}  L'aventure se termine ici. En mode Mortel, il n'y a pas de retour en arrire.",homeBtn:"Retour  l'accueil"},reroll:{btn:" Relancer (en cas de souci)",warning:"  utiliser seulement si le jet n'a pas t pris en compte / bug visuel.",confirmBtn:"Confirmer relance",cancelBtn:"Annuler"},setup:{enemiesTitle:"Adversaires ({{count}}/5)",enemyNamePlaceholder:"Nom",defaultEnemyName:"Adversaire",defaultEnemyNameN:"Adversaire {{n}}",hpMaxLabel:"PV max",dexLabel:"DEX",atkBonusLabel:"Bonus ATK",addEnemyBtn:"+ Ajouter adversaire",startBtn:" Dmarrer le combat"},ongoing:{turnInfo:"Tour {{turn}}  {{count}} adversaire(s) actif(s)",lastRoll:"Votre dernier jet : {{d1}}+{{d2}}={{total}} (DEX {{dex}})",attackBtn:" Attaquer",enemyAttackBtn:" {{name}} attaque",enemyHpMinus:"1 PV ennemi",enemyHpPlus:"+1 PV ennemi",luckSection:" Utiliser la chance ({{luck}} restant)",diceTo:"D1{{val}}"},result:{victory:" Victoire !",defeat:" Dfaite  PV  0",restoreHint:"Vous pouvez restaurer une sauvegarde depuis le tableau de bord.",rerollCount:"{{count}} relance(s) effectue(s).",backBtn:"Retour au tableau de bord"},log:{title:"Journal combat",started:"Combat dmarr contre {{count}} adversaire(s)",playerHit:"Tour {{turn}}  Joueur touche ({{rolls}}={{total}}){{weapon}}  {{damage}} dgts",playerMiss:"Tour {{turn}}  Joueur rate ({{rolls}}={{total}} > DEX {{dex}})",enemyHit:"Tour {{turn}}  {{name}} touche ({{rolls}}={{total}})  {{damage}} dgts",enemyMiss:"Tour {{turn}}  {{name}} rate ({{rolls}}={{total}})",rerollLog:"Relance d joueur (avant: {{before}}, aprs: {{after}})",victory:"Victoire !",defeat:"Dfaite  PV  0."}},Ix={title:"Paramtres",themeTitle:"Thme",themeLight:"Clair",themeDark:"Sombre",themeAuto:"Automatique (OS)",languageTitle:"Langue",langFR:" Franais",langEN:" English",importTitle:"Importer une partie",importDesc:"Chargez un fichier JSON export depuis une autre session.",importBtn:" Choisir un fichier JSON",importError:"Erreur d'import : {{message}}",footer:"Dagda  La Saga"},Mx={title:"Page introuvable",backBtn:"Retour  l'accueil"},Fx={v0_4_0:{label:"v0.4.0  Nouveauts",items:["Vous pouvez maintenant utiliser un rouleau de ds anim lors des combats et de la cration de parties.","Le README est dsormais disponible en version bilingue (fr/en) avec un aperu de l'application et de la pile technologique."]},title:"Nouveauts",closeBtn:"Fermer",v0_1_0:{label:"v0.1.0  Lancement",items:["Cration de partie avec trois modes : Narratif, Simplifi et Mortel","Fiche personnage complte : points de vie, chance, dextrit et inventaire (armes, objets, boulons)","Systme de combat tour par tour  utiliser la chance pour ajuster vos ds  la hausse ou  la baisse","Journal horodat, notes libres et trois emplacements de sauvegarde","Export et import de partie au format JSON","Parties termines ou mortes consultables en lecture seule","Interface disponible en franais et en anglais, avec dtection automatique de la langue","Application installable sur l'cran d'accueil, fonctionne hors-ligne (PWA)"]}},Bx={common:_x,status:Px,timeAgo:Rx,timeline:jx,talents:Tx,home:Ox,dashboard:Dx,createParty:Lx,combat:Ax,settings:Ix,notFound:Mx,changelog:Fx},Ux={cancel:"Cancel",delete:"Delete",add:"Add",addBtn:"+ Add",restore:"Restore",back:"",empty:"Empty"},zx={active:"Active",finished:"Finished",dead:"Dead"},Hx={now:"just now",minutes:"{{count}} min ago",hours:"{{count}} h ago",days:"{{count}} d ago"},$x={PARTY_CREATED:" Created",CHAPTER_SET:" Chapter",HP_CHANGED:" HP",LUCK_SPENT:" Luck",NOTE_ADDED:" Note",SAVE_CREATED:" Save",SAVE_REPLACED:" Save",SAVE_RESTORED:" Restore",COMBAT_VICTORY:" Victory",COMBAT_DEFEAT:" Defeat",DEATH_RESET:" Death",PARTY_EXPORTED:" Export",PARTY_FINISHED:" Finished",CUSTOM_ACTION:" Action",DICE_REROLLED:" Reroll",COMBAT_STARTED:" Combat",COMBAT_HIT:" Hit",COMBAT_MISS:" Miss",COMBAT_ENEMY_HIT:" Hit",COMBAT_ENEMY_MISS:" Miss",INVENTORY_CHANGED:" Inventory"},Vx={INSTINCT:"Instinct",HERBOLOGY:"Herbology",DISCRETION:"Stealth",PERSUASION:"Persuasion",OBSERVATION:"Observation",SLEIGHT_OF_HAND:"Nimble Fingers",EMPATHY_PRACTICE:"Empractice"},Kx={title:"My parties",newParty:"+ New party",emptyState:"No parties yet. Start your adventure!",createParty:"Create a party",deleteTooltip:"Delete party",deleteTitle:"Delete party?",deleteBody:'"{{name}}" will be permanently deleted along with all its saves, notes, and journal. This action is irreversible.'},qx={combatBtn:" Combat",hpDisplay:"HP {{current}} / {{max}}",luck:" Luck: {{value}}",dex:" DEX: {{value}}",hpMinus:"1 HP",hpPlus:"+1 HP",chapterCurrent:" {{chapter}}",chapterPending:" {{from}}  {{to}}",chapterConfirm:" Confirm",tabs:{journal:"Journal",inventory:"Inventory",notes:"Notes",saves:"Saves"},journal:{placeholder:"Free action",addBtn:"Add",empty:"No actions yet."},notes:{placeholder:"New note",empty:"No notes yet."},saves:{empty:"No saves yet.",slotEmpty:"Empty",simplifiedHint:"Simplified mode: only the most recent save can be restored",simplifiedWarning:"Simplified mode: restore disabled for this slot.",exportBtn:" Export JSON",finishBtn:" Finish party",finishedAlert:"Party finished. Export to archive.",deleteBtn:" Delete party"},inventory:{weaponsTitle:" Weapons",weaponsEmpty:"No weapons.",weaponBonus:"+{{bonus}} damage",weaponEquipped:"equipped",equipTooltip:"Equip",addWeaponTitle:"Add a weapon",weaponNamePlaceholder:"Name *",weaponBonusLabel:"Damage bonus",weaponDescPlaceholder:"Specificity (optional)",bagTitle:" Bag",bagEmpty:"Empty bag.",addItemTitle:"Add an item",itemNamePlaceholder:"Name *",itemQtyLabel:"Qty",itemDescPlaceholder:"Description (optional)",currencyTitle:" Boulons",boulonsUnit:"boulon(s)"},finishTitle:"Finish party?",finishBody:'Party "{{name}}" will be marked as finished. You can still view its history and export it.',finishBtn:" Finish",deleteTitle:"Delete party?",deleteBody:'"{{name}}" and all its data (saves, journal, notes) will be permanently deleted. This action is irreversible.',deleteBtn:" Delete",readonlyBannerFinished:"This party is finished  view only.",readonlyBannerDead:"This character has died  view only.",inventoryLog:{weaponAdded:"Weapon added: {{name}}",weaponRemoved:"Weapon removed",weaponEquipped:"Weapon equipped: {{name}}",itemAdded:"Item added: {{name}}",itemQtyChanged:"{{delta}} {{name}}",itemRemoved:"Item removed: {{name}}",currencyUpdated:"Currency updated"}},Wx={steps:{mode:"Mode",talent:"Talent",stats:"Stats"},partyNameTitle:"Party name",partyNamePlaceholder:"E.g.: Riann's Adventure",gameModeTitle:"Game mode",helpModes:"Help  Game modes",chooseTalent:"Choose your talent",helpTalents:"Help  Talents",talentHelpIntro:"Each talent provides a narrative or mechanical advantage in certain situations:",characterTitle:"Your character",characterNamePlaceholder:"Character name",initialStats:"Initial stats",hpMaxLabel:"Max HP (2d6  4)",hpRollDisplay:"{{d1}}+{{d2}}={{roll}}  {{hpMax}} HP",luckLabel:"Luck (1d6)",dexterityLabel:"Dexterity",rerollBtn:" Re-roll dice",helpStats:"Help  Stat rules",prev:" Previous",next:"Next ",create:"Create party ",modes:{NARRATIVE:{label:"Narrative",desc:"No combat. Ideal for exploring the story."},SIMPLIFIED:{label:"Simplified",desc:"Simplified combat, only one save restorable."},MORTAL:{label:"Mortal",desc:"If you die, full reset. High risk."}},modeHelp:{narrativeDesc:`In this game mode, you won't be bothered by most fights. Your goal is first and foremost to fully experience the adventure and make the decisions that suit you. When a combat is offered to you, you simply choose whether you won it or not. Note: this special rule only applies when facing up to five enemies simultaneously. Beyond that number, you are outnumbered and must play through the combat normally (see the "COMBAT" section).`,simplifiedDesc:'In this game mode, all rules apply, but you may save the game up to three times on your CHARACTER SHEET. When saving, note the chapter you are on and write a small "s" next to the weapons and items in your INVENTORY that were just saved. You may return to that save whenever you wish. Note: you must always return to your most recent save.',mortalDesc:"In this game mode, all rules apply... including the one about life. If you die, you lose all your weapons and equipment. You must restart the book from chapter 1."},talentHelp:{INSTINCT:"This TALENT lets your senses and intuition speak. An art that bypasses reason to feel out the best decision to make.",HERBOLOGY:"Plants hold powerful secrets that can serve you in any situation. This TALENT has given you a solid knowledge of this natural magic.",DISCRETION:"Alone in the middle of a crowd, invisible like a ghost. This TALENT lets you slip past unseen, move without even stirring the air.",PERSUASION:"Words are a weapon. With this TALENT, you have the ability to convince anyone of anything in just a few sentences  a sharpness of mind that can prevent many conflicts.",OBSERVATION:"Eyes are bombarded with information every second. This TALENT doesn't let you see further, but rather see what truly matters around you.",SLEIGHT_OF_HAND:"A true virtuoso of the fingers. This TALENT, once mastered, grants you the skills of a pickpocket, a juggler, a sculptor, and more.",EMPATHY_PRACTICE:"The most subtle of TALENTS. Based on empathy, empractice literally allows you to feel exactly what another person is feeling, in order to better understand them."},statsHelp:{hpMax:"To calculate this value, roll two dice and multiply the result by 4. Write this result on your CHARACTER SHEET. You begin this book with all your HIT POINTS. Your HIT POINTS cannot exceed this maximum value unless explicitly stated otherwise.",luck:"Your charisma and natural luck are represented by this result. Roll one six-sided die and note the result on your CHARACTER SHEET. This stat works as a pool of points. You may spend LUCK points to change one of your die results during your adventure. Example: to open a door, you need to roll a 5 on a six-sided die. You roll and get a 3. You choose to spend two LUCK points to set your die to 5. Reduce your LUCK on your CHARACTER SHEET by 2.",dexterity:"This stat is essential for combat. Your dexterity may change over the course of your adventures and learning. For now, as with all Apprentices at the end of their training, your DEXTERITY is 7. Please note it on your CHARACTER SHEET."},createdLabel:'Party "{{name}}" created (mode {{mode}})'},Yx={title:" Combat",back:" Back",mortalDeath:{title:"You are dead.",desc:"{{partyName}}  The adventure ends here. In Mortal mode, there is no turning back.",homeBtn:"Back to home"},reroll:{btn:" Re-roll (if something went wrong)",warning:" Use only if the roll wasn't registered / visual bug.",confirmBtn:"Confirm re-roll",cancelBtn:"Cancel"},setup:{enemiesTitle:"Enemies ({{count}}/5)",enemyNamePlaceholder:"Name",defaultEnemyName:"Enemy",defaultEnemyNameN:"Enemy {{n}}",hpMaxLabel:"Max HP",dexLabel:"DEX",atkBonusLabel:"ATK Bonus",addEnemyBtn:"+ Add enemy",startBtn:" Start combat"},ongoing:{turnInfo:"Turn {{turn}}  {{count}} active enemy(s)",lastRoll:"Your last roll: {{d1}}+{{d2}}={{total}} (DEX {{dex}})",attackBtn:" Attack",enemyAttackBtn:" {{name}} attacks",enemyHpMinus:"1 enemy HP",enemyHpPlus:"+1 enemy HP",luckSection:" Use luck ({{luck}} remaining)",diceTo:"Die1{{val}}"},result:{victory:" Victory!",defeat:" Defeat  HP at 0",restoreHint:"You can restore a save from the dashboard.",rerollCount:"{{count}} re-roll(s) performed.",backBtn:"Back to dashboard"},log:{title:"Combat log",started:"Combat started against {{count}} enemy(s)",playerHit:"Turn {{turn}}  Player hits ({{rolls}}={{total}}){{weapon}}  {{damage}} damage",playerMiss:"Turn {{turn}}  Player misses ({{rolls}}={{total}} > DEX {{dex}})",enemyHit:"Turn {{turn}}  {{name}} hits ({{rolls}}={{total}})  {{damage}} damage",enemyMiss:"Turn {{turn}}  {{name}} misses ({{rolls}}={{total}})",rerollLog:"Player die re-roll (before: {{before}}, after: {{after}})",victory:"Victory!",defeat:"Defeat  HP at 0."}},Qx={title:"Settings",themeTitle:"Theme",themeLight:"Light",themeDark:"Dark",themeAuto:"Automatic (OS)",languageTitle:"Language",langFR:" Franais",langEN:" English",importTitle:"Import a party",importDesc:"Load a JSON file exported from another session.",importBtn:" Choose a JSON file",importError:"Import error: {{message}}",footer:"Dagda  La Saga"},Gx={title:"Page not found",backBtn:"Back to home"},Xx={v0_4_0:{label:"v0.4.0  What's new",items:["You can now use an animated dice roller during combat and party creation.","The README is now available in a bilingual version (fr/en) with an overview of the app and the tech stack."]},title:"What's new",closeBtn:"Close",v0_1_0:{label:"v0.1.0  Initial release",items:["Create parties with three modes: Narrative, Simplified, and Mortal","Full character sheet: hit points, luck, dexterity, and inventory (weapons, items, boulons)","Turn-based combat system  spend luck to adjust your dice up or down","Timestamped journal, free notes, and up to three save slots","Export and import parties as JSON","Finished or dead parties are view-only","Available in French and English with automatic language detection","Installable on your home screen, works offline (PWA)"]}},Jx={common:Ux,status:zx,timeAgo:Hx,timeline:$x,talents:Vx,home:Kx,dashboard:qx,createParty:Wx,combat:Yx,settings:Qx,notFound:Gx,changelog:Xx};Bn.use(Rp).use(iv).init({resources:{"fr-FR":{translation:Bx},"en-US":{translation:Jx}},fallbackLng:"fr-FR",supportedLngs:["fr-FR","en-US"],detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},interpolation:{escapeValue:!1}});Dm.createRoot(document.getElementById("root")).render(S.jsx(xo.StrictMode,{children:S.jsx(fy,{router:dx})}));

var Em=Object.defineProperty;var km=(a,r,o)=>r in a?Em(a,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[r]=o;var mi=(a,r,o)=>km(a,typeof r!="symbol"?r+"":r,o);function Bp(a,r){for(var o=0;o<r.length;o++){const l=r[o];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in a)){const p=Object.getOwnPropertyDescriptor(l,c);p&&Object.defineProperty(a,c,p.get?p:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const p of c)if(p.type==="childList")for(const g of p.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&l(g)}).observe(document,{childList:!0,subtree:!0});function o(c){const p={};return c.integrity&&(p.integrity=c.integrity),c.referrerPolicy&&(p.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?p.credentials="include":c.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function l(c){if(c.ep)return;c.ep=!0;const p=o(c);fetch(c.href,p)}})();var Cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var uc={exports:{}},ss={},cc={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf;function Nm(){if(Tf)return wt;Tf=1;var a=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),k=Symbol.iterator;function O(P){return P===null||typeof P!="object"?null:(P=k&&P[k]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,W={};function re(P,G,Se){this.props=P,this.context=G,this.refs=W,this.updater=Se||j}re.prototype.isReactComponent={},re.prototype.setState=function(P,G){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,G,"setState")},re.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ye(){}ye.prototype=re.prototype;function ue(P,G,Se){this.props=P,this.context=G,this.refs=W,this.updater=Se||j}var le=ue.prototype=new ye;le.constructor=ue,D(le,re.prototype),le.isPureReactComponent=!0;var oe=Array.isArray,Be=Object.prototype.hasOwnProperty,We={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function Ne(P,G,Se){var ge,He={},ie=null,Me=null;if(G!=null)for(ge in G.ref!==void 0&&(Me=G.ref),G.key!==void 0&&(ie=""+G.key),G)Be.call(G,ge)&&!V.hasOwnProperty(ge)&&(He[ge]=G[ge]);var Ze=arguments.length-2;if(Ze===1)He.children=Se;else if(1<Ze){for(var ut=Array(Ze),Pe=0;Pe<Ze;Pe++)ut[Pe]=arguments[Pe+2];He.children=ut}if(P&&P.defaultProps)for(ge in Ze=P.defaultProps,Ze)He[ge]===void 0&&(He[ge]=Ze[ge]);return{$$typeof:a,type:P,key:ie,ref:Me,props:He,_owner:We.current}}function Oe(P,G){return{$$typeof:a,type:P.type,key:G,ref:P.ref,props:P.props,_owner:P._owner}}function _e(P){return typeof P=="object"&&P!==null&&P.$$typeof===a}function dt(P){var G={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Se){return G[Se]})}var je=/\/+/g;function we(P,G){return typeof P=="object"&&P!==null&&P.key!=null?dt(""+P.key):G.toString(36)}function be(P,G,Se,ge,He){var ie=typeof P;(ie==="undefined"||ie==="boolean")&&(P=null);var Me=!1;if(P===null)Me=!0;else switch(ie){case"string":case"number":Me=!0;break;case"object":switch(P.$$typeof){case a:case r:Me=!0}}if(Me)return Me=P,He=He(Me),P=ge===""?"."+we(Me,0):ge,oe(He)?(Se="",P!=null&&(Se=P.replace(je,"$&/")+"/"),be(He,G,Se,"",function(Pe){return Pe})):He!=null&&(_e(He)&&(He=Oe(He,Se+(!He.key||Me&&Me.key===He.key?"":(""+He.key).replace(je,"$&/")+"/")+P)),G.push(He)),1;if(Me=0,ge=ge===""?".":ge+":",oe(P))for(var Ze=0;Ze<P.length;Ze++){ie=P[Ze];var ut=ge+we(ie,Ze);Me+=be(ie,G,Se,ut,He)}else if(ut=O(P),typeof ut=="function")for(P=ut.call(P),Ze=0;!(ie=P.next()).done;)ie=ie.value,ut=ge+we(ie,Ze++),Me+=be(ie,G,Se,ut,He);else if(ie==="object")throw G=String(P),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Me}function nt(P,G,Se){if(P==null)return P;var ge=[],He=0;return be(P,ge,"","",function(ie){return G.call(Se,ie,He++)}),ge}function rt(P){if(P._status===-1){var G=P._result;G=G(),G.then(function(Se){(P._status===0||P._status===-1)&&(P._status=1,P._result=Se)},function(Se){(P._status===0||P._status===-1)&&(P._status=2,P._result=Se)}),P._status===-1&&(P._status=0,P._result=G)}if(P._status===1)return P._result.default;throw P._result}var it={current:null},se={transition:null},De={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:se,ReactCurrentOwner:We};function Y(){throw Error("act(...) is not supported in production builds of React.")}return wt.Children={map:nt,forEach:function(P,G,Se){nt(P,function(){G.apply(this,arguments)},Se)},count:function(P){var G=0;return nt(P,function(){G++}),G},toArray:function(P){return nt(P,function(G){return G})||[]},only:function(P){if(!_e(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},wt.Component=re,wt.Fragment=o,wt.Profiler=c,wt.PureComponent=ue,wt.StrictMode=l,wt.Suspense=x,wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=De,wt.act=Y,wt.cloneElement=function(P,G,Se){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ge=D({},P.props),He=P.key,ie=P.ref,Me=P._owner;if(G!=null){if(G.ref!==void 0&&(ie=G.ref,Me=We.current),G.key!==void 0&&(He=""+G.key),P.type&&P.type.defaultProps)var Ze=P.type.defaultProps;for(ut in G)Be.call(G,ut)&&!V.hasOwnProperty(ut)&&(ge[ut]=G[ut]===void 0&&Ze!==void 0?Ze[ut]:G[ut])}var ut=arguments.length-2;if(ut===1)ge.children=Se;else if(1<ut){Ze=Array(ut);for(var Pe=0;Pe<ut;Pe++)Ze[Pe]=arguments[Pe+2];ge.children=Ze}return{$$typeof:a,type:P.type,key:He,ref:ie,props:ge,_owner:Me}},wt.createContext=function(P){return P={$$typeof:g,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:p,_context:P},P.Consumer=P},wt.createElement=Ne,wt.createFactory=function(P){var G=Ne.bind(null,P);return G.type=P,G},wt.createRef=function(){return{current:null}},wt.forwardRef=function(P){return{$$typeof:v,render:P}},wt.isValidElement=_e,wt.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:rt}},wt.memo=function(P,G){return{$$typeof:E,type:P,compare:G===void 0?null:G}},wt.startTransition=function(P){var G=se.transition;se.transition={};try{P()}finally{se.transition=G}},wt.unstable_act=Y,wt.useCallback=function(P,G){return it.current.useCallback(P,G)},wt.useContext=function(P){return it.current.useContext(P)},wt.useDebugValue=function(){},wt.useDeferredValue=function(P){return it.current.useDeferredValue(P)},wt.useEffect=function(P,G){return it.current.useEffect(P,G)},wt.useId=function(){return it.current.useId()},wt.useImperativeHandle=function(P,G,Se){return it.current.useImperativeHandle(P,G,Se)},wt.useInsertionEffect=function(P,G){return it.current.useInsertionEffect(P,G)},wt.useLayoutEffect=function(P,G){return it.current.useLayoutEffect(P,G)},wt.useMemo=function(P,G){return it.current.useMemo(P,G)},wt.useReducer=function(P,G,Se){return it.current.useReducer(P,G,Se)},wt.useRef=function(P){return it.current.useRef(P)},wt.useState=function(P){return it.current.useState(P)},wt.useSyncExternalStore=function(P,G,Se){return it.current.useSyncExternalStore(P,G,Se)},wt.useTransition=function(){return it.current.useTransition()},wt.version="18.3.1",wt}var Of;function xs(){return Of||(Of=1,cc.exports=Nm()),cc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df;function _m(){if(Df)return ss;Df=1;var a=xs(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function g(v,x,E){var _,k={},O=null,j=null;E!==void 0&&(O=""+E),x.key!==void 0&&(O=""+x.key),x.ref!==void 0&&(j=x.ref);for(_ in x)l.call(x,_)&&!p.hasOwnProperty(_)&&(k[_]=x[_]);if(v&&v.defaultProps)for(_ in x=v.defaultProps,x)k[_]===void 0&&(k[_]=x[_]);return{$$typeof:r,type:v,key:O,ref:j,props:k,_owner:c.current}}return ss.Fragment=o,ss.jsx=g,ss.jsxs=g,ss}var Lf;function Pm(){return Lf||(Lf=1,uc.exports=_m()),uc.exports}var S=Pm(),Z=xs();const xi=vs(Z),Rm=Bp({__proto__:null,default:xi},[Z]);var Pl={},dc={exports:{}},Qn={},fc={exports:{}},pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af;function jm(){return Af||(Af=1,(function(a){function r(se,De){var Y=se.length;se.push(De);e:for(;0<Y;){var P=Y-1>>>1,G=se[P];if(0<c(G,De))se[P]=De,se[Y]=G,Y=P;else break e}}function o(se){return se.length===0?null:se[0]}function l(se){if(se.length===0)return null;var De=se[0],Y=se.pop();if(Y!==De){se[0]=Y;e:for(var P=0,G=se.length,Se=G>>>1;P<Se;){var ge=2*(P+1)-1,He=se[ge],ie=ge+1,Me=se[ie];if(0>c(He,Y))ie<G&&0>c(Me,He)?(se[P]=Me,se[ie]=Y,P=ie):(se[P]=He,se[ge]=Y,P=ge);else if(ie<G&&0>c(Me,Y))se[P]=Me,se[ie]=Y,P=ie;else break e}}return De}function c(se,De){var Y=se.sortIndex-De.sortIndex;return Y!==0?Y:se.id-De.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;a.unstable_now=function(){return p.now()}}else{var g=Date,v=g.now();a.unstable_now=function(){return g.now()-v}}var x=[],E=[],_=1,k=null,O=3,j=!1,D=!1,W=!1,re=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function le(se){for(var De=o(E);De!==null;){if(De.callback===null)l(E);else if(De.startTime<=se)l(E),De.sortIndex=De.expirationTime,r(x,De);else break;De=o(E)}}function oe(se){if(W=!1,le(se),!D)if(o(x)!==null)D=!0,rt(Be);else{var De=o(E);De!==null&&it(oe,De.startTime-se)}}function Be(se,De){D=!1,W&&(W=!1,ye(Ne),Ne=-1),j=!0;var Y=O;try{for(le(De),k=o(x);k!==null&&(!(k.expirationTime>De)||se&&!dt());){var P=k.callback;if(typeof P=="function"){k.callback=null,O=k.priorityLevel;var G=P(k.expirationTime<=De);De=a.unstable_now(),typeof G=="function"?k.callback=G:k===o(x)&&l(x),le(De)}else l(x);k=o(x)}if(k!==null)var Se=!0;else{var ge=o(E);ge!==null&&it(oe,ge.startTime-De),Se=!1}return Se}finally{k=null,O=Y,j=!1}}var We=!1,V=null,Ne=-1,Oe=5,_e=-1;function dt(){return!(a.unstable_now()-_e<Oe)}function je(){if(V!==null){var se=a.unstable_now();_e=se;var De=!0;try{De=V(!0,se)}finally{De?we():(We=!1,V=null)}}else We=!1}var we;if(typeof ue=="function")we=function(){ue(je)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,nt=be.port2;be.port1.onmessage=je,we=function(){nt.postMessage(null)}}else we=function(){re(je,0)};function rt(se){V=se,We||(We=!0,we())}function it(se,De){Ne=re(function(){se(a.unstable_now())},De)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(se){se.callback=null},a.unstable_continueExecution=function(){D||j||(D=!0,rt(Be))},a.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Oe=0<se?Math.floor(1e3/se):5},a.unstable_getCurrentPriorityLevel=function(){return O},a.unstable_getFirstCallbackNode=function(){return o(x)},a.unstable_next=function(se){switch(O){case 1:case 2:case 3:var De=3;break;default:De=O}var Y=O;O=De;try{return se()}finally{O=Y}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(se,De){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Y=O;O=se;try{return De()}finally{O=Y}},a.unstable_scheduleCallback=function(se,De,Y){var P=a.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?P+Y:P):Y=P,se){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Y+G,se={id:_++,callback:De,priorityLevel:se,startTime:Y,expirationTime:G,sortIndex:-1},Y>P?(se.sortIndex=Y,r(E,se),o(x)===null&&se===o(E)&&(W?(ye(Ne),Ne=-1):W=!0,it(oe,Y-P))):(se.sortIndex=G,r(x,se),D||j||(D=!0,rt(Be))),se},a.unstable_shouldYield=dt,a.unstable_wrapCallback=function(se){var De=O;return function(){var Y=O;O=De;try{return se.apply(this,arguments)}finally{O=Y}}}})(pc)),pc}var If;function Tm(){return If||(If=1,fc.exports=jm()),fc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf;function Om(){if(Mf)return Qn;Mf=1;var a=xs(),r=Tm();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function p(e,t){g(e,t),g(e+"Capture",t)}function g(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var v=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},k={};function O(e){return x.call(k,e)?!0:x.call(_,e)?!1:E.test(e)?k[e]=!0:(_[e]=!0,!1)}function j(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D(e,t,n,s){if(t===null||typeof t>"u"||j(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function W(e,t,n,s,d,h,b){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=d,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=b}var re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){re[e]=new W(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];re[t]=new W(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){re[e]=new W(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){re[e]=new W(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){re[e]=new W(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){re[e]=new W(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){re[e]=new W(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){re[e]=new W(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){re[e]=new W(e,5,!1,e.toLowerCase(),null,!1,!1)});var ye=/[\-:]([a-z])/g;function ue(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ye,ue);re[t]=new W(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ye,ue);re[t]=new W(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ye,ue);re[t]=new W(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){re[e]=new W(e,1,!1,e.toLowerCase(),null,!1,!1)}),re.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){re[e]=new W(e,1,!1,e.toLowerCase(),null,!0,!0)});function le(e,t,n,s){var d=re.hasOwnProperty(t)?re[t]:null;(d!==null?d.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D(t,n,d,s)&&(n=null),s||d===null?O(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):d.mustUseProperty?e[d.propertyName]=n===null?d.type===3?!1:"":n:(t=d.attributeName,s=d.attributeNamespace,n===null?e.removeAttribute(t):(d=d.type,n=d===3||d===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var oe=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Be=Symbol.for("react.element"),We=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),Ne=Symbol.for("react.strict_mode"),Oe=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),dt=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),it=Symbol.for("react.offscreen"),se=Symbol.iterator;function De(e){return e===null||typeof e!="object"?null:(e=se&&e[se]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,P;function G(e){if(P===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return`
`+P+e}var Se=!1;function ge(e,t){if(!e||Se)return"";Se=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ne){var s=ne}Reflect.construct(e,[],t)}else{try{t.call()}catch(ne){s=ne}e.call(t.prototype)}else{try{throw Error()}catch(ne){s=ne}e()}}catch(ne){if(ne&&s&&typeof ne.stack=="string"){for(var d=ne.stack.split(`
`),h=s.stack.split(`
`),b=d.length-1,R=h.length-1;1<=b&&0<=R&&d[b]!==h[R];)R--;for(;1<=b&&0<=R;b--,R--)if(d[b]!==h[R]){if(b!==1||R!==1)do if(b--,R--,0>R||d[b]!==h[R]){var A=`
`+d[b].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=b&&0<=R);break}}}finally{Se=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?G(e):""}function He(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=ge(e.type,!1),e;case 11:return e=ge(e.type.render,!1),e;case 1:return e=ge(e.type,!0),e;default:return""}}function ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case We:return"Portal";case Oe:return"Profiler";case Ne:return"StrictMode";case we:return"Suspense";case be:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dt:return(e.displayName||"Context")+".Consumer";case _e:return(e._context.displayName||"Context")+".Provider";case je:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nt:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case rt:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}function Me(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(t);case 8:return t===Ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ze(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pe(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var d=n.get,h=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(b){s=""+b,h.call(this,b)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rn(e){e._valueTracker||(e._valueTracker=Pe(e))}function tt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ut(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ht(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qt(e,t){var n=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Re(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ze(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function et(e,t){t=t.checked,t!=null&&le(e,"checked",t,!1)}function kt(e,t){et(e,t);var n=Ze(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ur(e,t.type,n):t.hasOwnProperty("defaultValue")&&ur(e,t.type,Ze(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fn(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ur(e,t,n){(t!=="number"||ht(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var en=Array.isArray;function an(e,t,n,s){if(e=e.options,t){t={};for(var d=0;d<n.length;d++)t["$"+n[d]]=!0;for(n=0;n<e.length;n++)d=t.hasOwnProperty("$"+e[n].value),e[n].selected!==d&&(e[n].selected=d),d&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ze(n),t=null,d=0;d<e.length;d++){if(e[d].value===n){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function va(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mr(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(en(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ze(n)}}function Xn(e,t){var n=Ze(t.value),s=Ze(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function zn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function on(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function On(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?on(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wn,pn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,d){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wn=wn||document.createElement("div"),wn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vr=["Webkit","ms","Moz","O"];Object.keys(Dn).forEach(function(e){vr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dn[t]=Dn[e]})});function Cn(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Dn.hasOwnProperty(e)&&Dn[e]?(""+t).trim():t+"px"}function Gr(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,d=Cn(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,d):e[n]=d}}var Jn=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ye(e,t){if(t){if(Jn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function xr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hn=null;function Zn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Te=null,$n=null,er=null;function xa(e){if(e=qi(e)){if(typeof Te!="function")throw Error(o(280));var t=e.stateNode;t&&(t=$s(t),Te(e.stateNode,e.type,t))}}function wa(e){$n?er?er.push(e):er=[e]:$n=e}function ba(){if($n){var e=$n,t=er;if(er=$n=null,xa(e),t)for(e=0;e<t.length;e++)xa(t[e])}}function ro(e,t){return e(t)}function Xr(){}var Ln=!1;function wr(e,t,n){if(Ln)return e(t,n);Ln=!0;try{return ro(e,t,n)}finally{Ln=!1,($n!==null||er!==null)&&(Xr(),ba())}}function br(e,t){var n=e.stateNode;if(n===null)return null;var s=$s(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var T=!1;if(v)try{var U={};Object.defineProperty(U,"passive",{get:function(){T=!0}}),window.addEventListener("test",U,U),window.removeEventListener("test",U,U)}catch{T=!1}function J(e,t,n,s,d,h,b,R,A){var ne=Array.prototype.slice.call(arguments,3);try{t.apply(n,ne)}catch(he){this.onError(he)}}var ce=!1,ke=null,Qe=!1,at=null,Ke={onError:function(e){ce=!0,ke=e}};function Ue(e,t,n,s,d,h,b,R,A){ce=!1,ke=null,J.apply(Ke,arguments)}function Fe(e,t,n,s,d,h,b,R,A){if(Ue.apply(this,arguments),ce){if(ce){var ne=ke;ce=!1,ke=null}else throw Error(o(198));Qe||(Qe=!0,at=ne)}}function Ie(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ct(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xt(e){if(Ie(e)!==e)throw Error(o(188))}function Lt(e){var t=e.alternate;if(!t){if(t=Ie(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,s=t;;){var d=n.return;if(d===null)break;var h=d.alternate;if(h===null){if(s=d.return,s!==null){n=s;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===n)return xt(d),e;if(h===s)return xt(d),t;h=h.sibling}throw Error(o(188))}if(n.return!==s.return)n=d,s=h;else{for(var b=!1,R=d.child;R;){if(R===n){b=!0,n=d,s=h;break}if(R===s){b=!0,s=d,n=h;break}R=R.sibling}if(!b){for(R=h.child;R;){if(R===n){b=!0,n=h,s=d;break}if(R===s){b=!0,s=h,n=d;break}R=R.sibling}if(!b)throw Error(o(189))}}if(n.alternate!==s)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function Pt(e){return e=Lt(e),e!==null?gt(e):null}function gt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gt(e);if(t!==null)return t;e=e.sibling}return null}var At=r.unstable_scheduleCallback,tr=r.unstable_cancelCallback,Ot=r.unstable_shouldYield,sn=r.unstable_requestPaint,yt=r.unstable_now,Sa=r.unstable_getCurrentPriorityLevel,Nn=r.unstable_ImmediatePriority,An=r.unstable_UserBlockingPriority,nr=r.unstable_NormalPriority,Fr=r.unstable_LowPriority,mt=r.unstable_IdlePriority,Tt=null,Gt=null;function Br(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Tt,e,void 0,(e.current.flags&128)===128)}catch{}}var Ve=Math.clz32?Math.clz32:Ea,Sr=Math.log,ao=Math.LN2;function Ea(e){return e>>>=0,e===0?32:31-(Sr(e)/ao|0)|0}var Ur=64,oo=4194304;function ka(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function io(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,d=e.suspendedLanes,h=e.pingedLanes,b=n&268435455;if(b!==0){var R=b&~d;R!==0?s=ka(R):(h&=b,h!==0&&(s=ka(h)))}else b=n&~d,b!==0?s=ka(b):h!==0&&(s=ka(h));if(s===0)return 0;if(t!==0&&t!==s&&(t&d)===0&&(d=s&-s,h=t&-t,d>=h||d===16&&(h&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ve(t),d=1<<n,s|=e[n],t&=~d;return s}function It(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function so(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes;0<h;){var b=31-Ve(h),R=1<<b,A=d[b];A===-1?((R&n)===0||(R&s)!==0)&&(d[b]=It(R,t)):A<=t&&(e.expiredLanes|=R),h&=~R}}function Jr(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zr(){var e=Ur;return Ur<<=1,(Ur&4194240)===0&&(Ur=64),e}function lo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ea(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ve(t),e[t]=n}function Fo(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var d=31-Ve(n),h=1<<d;t[d]=0,s[d]=-1,e[d]=-1,n&=~h}}function Bo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ve(n),d=1<<s;d&t|e[s]&t&&(e[s]|=t),n&=~d}}var Nt=0;function Ni(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Es,Et,_i,ks,Cs,bn=!1,Er=[],rr=null,Sn=null,kr=null,Ca=new Map,Ht=new Map,ln=[],uo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Na(e,t){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Ca.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ht.delete(t.pointerId)}}function ta(e,t,n,s,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:h,targetContainers:[d]},t!==null&&(t=qi(t),t!==null&&Et(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function zr(e,t,n,s,d){switch(t){case"focusin":return rr=ta(rr,e,t,n,s,d),!0;case"dragenter":return Sn=ta(Sn,e,t,n,s,d),!0;case"mouseover":return kr=ta(kr,e,t,n,s,d),!0;case"pointerover":var h=d.pointerId;return Ca.set(h,ta(Ca.get(h)||null,e,t,n,s,d)),!0;case"gotpointercapture":return h=d.pointerId,Ht.set(h,ta(Ht.get(h)||null,e,t,n,s,d)),!0}return!1}function Ns(e){var t=vo(e.target);if(t!==null){var n=Ie(t);if(n!==null){if(t=n.tag,t===13){if(t=ct(n),t!==null){e.blockedOn=t,Cs(e.priority,function(){_i(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function In(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_a(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Hn=s,n.target.dispatchEvent(s),Hn=null}else return t=qi(n),t!==null&&Et(t),e.blockedOn=n,!1;t.shift()}return!0}function Uo(e,t,n){In(e)&&n.delete(t)}function _s(){bn=!1,rr!==null&&In(rr)&&(rr=null),Sn!==null&&In(Sn)&&(Sn=null),kr!==null&&In(kr)&&(kr=null),Ca.forEach(Uo),Ht.forEach(Uo)}function na(e,t){e.blockedOn===t&&(e.blockedOn=null,bn||(bn=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_s)))}function Cr(e){function t(d){return na(d,e)}if(0<Er.length){na(Er[0],e);for(var n=1;n<Er.length;n++){var s=Er[n];s.blockedOn===e&&(s.blockedOn=null)}}for(rr!==null&&na(rr,e),Sn!==null&&na(Sn,e),kr!==null&&na(kr,e),Ca.forEach(t),Ht.forEach(t),n=0;n<ln.length;n++)s=ln[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<ln.length&&(n=ln[0],n.blockedOn===null);)Ns(n),n.blockedOn===null&&ln.shift()}var Hr=oe.ReactCurrentBatchConfig,co=!0;function Wl(e,t,n,s){var d=Nt,h=Hr.transition;Hr.transition=null;try{Nt=1,Pi(e,t,n,s)}finally{Nt=d,Hr.transition=h}}function fo(e,t,n,s){var d=Nt,h=Hr.transition;Hr.transition=null;try{Nt=4,Pi(e,t,n,s)}finally{Nt=d,Hr.transition=h}}function Pi(e,t,n,s){if(co){var d=_a(e,t,n,s);if(d===null)Zl(e,t,s,zo,n),Na(e,s);else if(zr(d,e,t,n,s))s.stopPropagation();else if(Na(e,s),t&4&&-1<uo.indexOf(e)){for(;d!==null;){var h=qi(d);if(h!==null&&Es(h),h=_a(e,t,n,s),h===null&&Zl(e,t,s,zo,n),h===d)break;d=h}d!==null&&s.stopPropagation()}else Zl(e,t,s,null,n)}}var zo=null;function _a(e,t,n,s){if(zo=null,e=Zn(s),e=vo(e),e!==null)if(t=Ie(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ct(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zo=e,null}function po(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sa()){case Nn:return 1;case An:return 4;case nr:case Fr:return 16;case mt:return 536870912;default:return 16}default:return 16}}var dr=null,Ri=null,Ho=null;function Ps(){if(Ho)return Ho;var e,t=Ri,n=t.length,s,d="value"in dr?dr.value:dr.textContent,h=d.length;for(e=0;e<n&&t[e]===d[e];e++);var b=n-e;for(s=1;s<=b&&t[n-s]===d[h-s];s++);return Ho=d.slice(e,1<s?1-s:void 0)}function Pa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ra(){return!0}function ji(){return!1}function hn(e){function t(n,s,d,h,b){this._reactName=n,this._targetInst=d,this.type=s,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(n=e[R],this[R]=n?n(h):h[R]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ra:ji,this.isPropagationStopped=ji,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),t}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=hn(Nr),Ta=Y({},Nr,{view:0,detail:0}),Yl=hn(Ta),$r,ho,ra,Oa=Y({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ra&&(ra&&e.type==="mousemove"?($r=e.screenX-ra.screenX,ho=e.screenY-ra.screenY):ho=$r=0,ra=e),$r)},movementY:function(e){return"movementY"in e?e.movementY:ho}}),$o=hn(Oa),mn=Y({},Oa,{dataTransfer:0}),mo=hn(mn),go=Y({},Ta,{relatedTarget:0}),Vo=hn(go),Ko=Y({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Rs=hn(Ko),js=Y({},Nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qo=hn(js),Ti=Y({},Nr,{data:0}),Vr=hn(Ti),Oi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Di={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Li(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wo[e])?!!t[e]:!1}function Yo(){return Li}var Ql=Y({},Ta,{key:function(e){if(e.key){var t=Oi[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Di[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yo,charCode:function(e){return e.type==="keypress"?Pa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ai=hn(Ql),Qo=Y({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ts=hn(Qo),Ii=Y({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yo}),Mi=hn(Ii),Gl=Y({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Os=hn(Gl),Xl=Y({},Oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ds=hn(Xl),Ls=[9,13,27,32],Fi=v&&"CompositionEvent"in window,Da=null;v&&"documentMode"in document&&(Da=document.documentMode);var Bi=v&&"TextEvent"in window&&!Da,Ui=v&&(!Fi||Da&&8<Da&&11>=Da),zi=" ",As=!1;function Is(e,t){switch(e){case"keyup":return Ls.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ms(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _r=!1;function Pr(e,t){switch(e){case"compositionend":return Ms(t);case"keypress":return t.which!==32?null:(As=!0,zi);case"textInput":return e=t.data,e===zi&&As?null:e;default:return null}}function Wt(e,t){if(_r)return e==="compositionend"||!Fi&&Is(e,t)?(e=Ps(),Ho=Ri=dr=null,_r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ui&&t.locale!=="ko"?null:t.data;default:return null}}var Go={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Go[e.type]:t==="textarea"}function Fs(e,t,n,s){wa(s),t=Us(t,"onChange"),0<t.length&&(n=new ja("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var oa=null,La=null;function ia(e){qc(e,0)}function Aa(e){var t=ei(e);if(tt(t))return e}function Ia(e,t){if(e==="change")return t}var Rr=!1;if(v){var Xo;if(v){var i="oninput"in document;if(!i){var u=document.createElement("div");u.setAttribute("oninput","return;"),i=typeof u.oninput=="function"}Xo=i}else Xo=!1;Rr=Xo&&(!document.documentMode||9<document.documentMode)}function f(){oa&&(oa.detachEvent("onpropertychange",m),La=oa=null)}function m(e){if(e.propertyName==="value"&&Aa(La)){var t=[];Fs(t,La,e,Zn(e)),wr(ia,t)}}function y(e,t,n){e==="focusin"?(f(),oa=t,La=n,oa.attachEvent("onpropertychange",m)):e==="focusout"&&f()}function w(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Aa(La)}function C(e,t){if(e==="click")return Aa(t)}function N(e,t){if(e==="input"||e==="change")return Aa(t)}function B(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var K=typeof Object.is=="function"?Object.is:B;function I(e,t){if(K(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var d=n[s];if(!x.call(t,d)||!K(e[d],t[d]))return!1}return!0}function L(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function z(e,t){var n=L(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=L(n)}}function H(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?H(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function F(){for(var e=window,t=ht();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ht(e.document)}return t}function M(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function X(e){var t=F(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&H(n.ownerDocument.documentElement,n)){if(s!==null&&M(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=n.textContent.length,h=Math.min(s.start,d);s=s.end===void 0?h:Math.min(s.end,d),!e.extend&&h>s&&(d=s,s=h,h=d),d=z(n,h);var b=z(n,s);d&&b&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),h>s?(e.addRange(t),e.extend(b.node,b.offset)):(t.setEnd(b.node,b.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var te=v&&"documentMode"in document&&11>=document.documentMode,q=null,ae=null,de=null,Ee=!1;function Ce(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ee||q==null||q!==ht(s)||(s=q,"selectionStart"in s&&M(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),de&&I(de,s)||(de=s,s=Us(ae,"onSelect"),0<s.length&&(t=new ja("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=q)))}function pe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ae={animationend:pe("Animation","AnimationEnd"),animationiteration:pe("Animation","AnimationIteration"),animationstart:pe("Animation","AnimationStart"),transitionend:pe("Transition","TransitionEnd")},Le={},ve={};v&&(ve=document.createElement("div").style,"AnimationEvent"in window||(delete Ae.animationend.animation,delete Ae.animationiteration.animation,delete Ae.animationstart.animation),"TransitionEvent"in window||delete Ae.transitionend.transition);function ze(e){if(Le[e])return Le[e];if(!Ae[e])return e;var t=Ae[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ve)return Le[e]=t[n];return e}var St=ze("animationend"),Ct=ze("animationiteration"),ot=ze("animationstart"),vt=ze("transitionend"),Ft=new Map,Mn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jt(e,t){Ft.set(e,t),p(t,[e])}for(var jr=0;jr<Mn.length;jr++){var yo=Mn[jr],Oh=yo.toLowerCase(),Dh=yo[0].toUpperCase()+yo.slice(1);jt(Oh,"on"+Dh)}jt(St,"onAnimationEnd"),jt(Ct,"onAnimationIteration"),jt(ot,"onAnimationStart"),jt("dblclick","onDoubleClick"),jt("focusin","onFocus"),jt("focusout","onBlur"),jt(vt,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function Kc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Fe(s,t,void 0,e),e.currentTarget=null}function qc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],d=s.event;s=s.listeners;e:{var h=void 0;if(t)for(var b=s.length-1;0<=b;b--){var R=s[b],A=R.instance,ne=R.currentTarget;if(R=R.listener,A!==h&&d.isPropagationStopped())break e;Kc(d,R,ne),h=A}else for(b=0;b<s.length;b++){if(R=s[b],A=R.instance,ne=R.currentTarget,R=R.listener,A!==h&&d.isPropagationStopped())break e;Kc(d,R,ne),h=A}}}if(Qe)throw e=at,Qe=!1,at=null,e}function Ut(e,t){var n=t[ou];n===void 0&&(n=t[ou]=new Set);var s=e+"__bubble";n.has(s)||(Wc(t,e,2,!1),n.add(s))}function Jl(e,t,n){var s=0;t&&(s|=4),Wc(n,e,s,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function $i(e){if(!e[Bs]){e[Bs]=!0,l.forEach(function(n){n!=="selectionchange"&&(Lh.has(n)||Jl(n,!1,e),Jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bs]||(t[Bs]=!0,Jl("selectionchange",!1,t))}}function Wc(e,t,n,s){switch(po(t)){case 1:var d=Wl;break;case 4:d=fo;break;default:d=Pi}n=d.bind(null,t,n,e),d=void 0,!T||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(t,n,{capture:!0,passive:d}):e.addEventListener(t,n,!0):d!==void 0?e.addEventListener(t,n,{passive:d}):e.addEventListener(t,n,!1)}function Zl(e,t,n,s,d){var h=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var b=s.tag;if(b===3||b===4){var R=s.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(b===4)for(b=s.return;b!==null;){var A=b.tag;if((A===3||A===4)&&(A=b.stateNode.containerInfo,A===d||A.nodeType===8&&A.parentNode===d))return;b=b.return}for(;R!==null;){if(b=vo(R),b===null)return;if(A=b.tag,A===5||A===6){s=h=b;continue e}R=R.parentNode}}s=s.return}wr(function(){var ne=h,he=Zn(n),me=[];e:{var fe=Ft.get(e);if(fe!==void 0){var $e=ja,Ge=e;switch(e){case"keypress":if(Pa(n)===0)break e;case"keydown":case"keyup":$e=Ai;break;case"focusin":Ge="focus",$e=Vo;break;case"focusout":Ge="blur",$e=Vo;break;case"beforeblur":case"afterblur":$e=Vo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=Mi;break;case St:case Ct:case ot:$e=Rs;break;case vt:$e=Os;break;case"scroll":$e=Yl;break;case"wheel":$e=Ds;break;case"copy":case"cut":case"paste":$e=qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=Ts}var Xe=(t&4)!==0,Zt=!Xe&&e==="scroll",Q=Xe?fe!==null?fe+"Capture":null:fe;Xe=[];for(var $=ne,ee;$!==null;){ee=$;var xe=ee.stateNode;if(ee.tag===5&&xe!==null&&(ee=xe,Q!==null&&(xe=br($,Q),xe!=null&&Xe.push(Vi($,xe,ee)))),Zt)break;$=$.return}0<Xe.length&&(fe=new $e(fe,Ge,null,n,he),me.push({event:fe,listeners:Xe}))}}if((t&7)===0){e:{if(fe=e==="mouseover"||e==="pointerover",$e=e==="mouseout"||e==="pointerout",fe&&n!==Hn&&(Ge=n.relatedTarget||n.fromElement)&&(vo(Ge)||Ge[sa]))break e;if(($e||fe)&&(fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window,$e?(Ge=n.relatedTarget||n.toElement,$e=ne,Ge=Ge?vo(Ge):null,Ge!==null&&(Zt=Ie(Ge),Ge!==Zt||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):($e=null,Ge=ne),$e!==Ge)){if(Xe=$o,xe="onMouseLeave",Q="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(Xe=Ts,xe="onPointerLeave",Q="onPointerEnter",$="pointer"),Zt=$e==null?fe:ei($e),ee=Ge==null?fe:ei(Ge),fe=new Xe(xe,$+"leave",$e,n,he),fe.target=Zt,fe.relatedTarget=ee,xe=null,vo(he)===ne&&(Xe=new Xe(Q,$+"enter",Ge,n,he),Xe.target=ee,Xe.relatedTarget=Zt,xe=Xe),Zt=xe,$e&&Ge)t:{for(Xe=$e,Q=Ge,$=0,ee=Xe;ee;ee=Jo(ee))$++;for(ee=0,xe=Q;xe;xe=Jo(xe))ee++;for(;0<$-ee;)Xe=Jo(Xe),$--;for(;0<ee-$;)Q=Jo(Q),ee--;for(;$--;){if(Xe===Q||Q!==null&&Xe===Q.alternate)break t;Xe=Jo(Xe),Q=Jo(Q)}Xe=null}else Xe=null;$e!==null&&Yc(me,fe,$e,Xe,!1),Ge!==null&&Zt!==null&&Yc(me,Zt,Ge,Xe,!0)}}e:{if(fe=ne?ei(ne):window,$e=fe.nodeName&&fe.nodeName.toLowerCase(),$e==="select"||$e==="input"&&fe.type==="file")var Je=Ia;else if(aa(fe))if(Rr)Je=N;else{Je=w;var st=y}else($e=fe.nodeName)&&$e.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Je=C);if(Je&&(Je=Je(e,ne))){Fs(me,Je,n,he);break e}st&&st(e,fe,ne),e==="focusout"&&(st=fe._wrapperState)&&st.controlled&&fe.type==="number"&&ur(fe,"number",fe.value)}switch(st=ne?ei(ne):window,e){case"focusin":(aa(st)||st.contentEditable==="true")&&(q=st,ae=ne,de=null);break;case"focusout":de=ae=q=null;break;case"mousedown":Ee=!0;break;case"contextmenu":case"mouseup":case"dragend":Ee=!1,Ce(me,n,he);break;case"selectionchange":if(te)break;case"keydown":case"keyup":Ce(me,n,he)}var lt;if(Fi)e:{switch(e){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else _r?Is(e,n)&&(ft="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ft="onCompositionStart");ft&&(Ui&&n.locale!=="ko"&&(_r||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&_r&&(lt=Ps()):(dr=he,Ri="value"in dr?dr.value:dr.textContent,_r=!0)),st=Us(ne,ft),0<st.length&&(ft=new Vr(ft,e,null,n,he),me.push({event:ft,listeners:st}),lt?ft.data=lt:(lt=Ms(n),lt!==null&&(ft.data=lt)))),(lt=Bi?Pr(e,n):Wt(e,n))&&(ne=Us(ne,"onBeforeInput"),0<ne.length&&(he=new Vr("onBeforeInput","beforeinput",null,n,he),me.push({event:he,listeners:ne}),he.data=lt))}qc(me,t)})}function Vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Us(e,t){for(var n=t+"Capture",s=[];e!==null;){var d=e,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=br(e,n),h!=null&&s.unshift(Vi(e,h,d)),h=br(e,t),h!=null&&s.push(Vi(e,h,d))),e=e.return}return s}function Jo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yc(e,t,n,s,d){for(var h=t._reactName,b=[];n!==null&&n!==s;){var R=n,A=R.alternate,ne=R.stateNode;if(A!==null&&A===s)break;R.tag===5&&ne!==null&&(R=ne,d?(A=br(n,h),A!=null&&b.unshift(Vi(n,A,R))):d||(A=br(n,h),A!=null&&b.push(Vi(n,A,R)))),n=n.return}b.length!==0&&e.push({event:t,listeners:b})}var Ah=/\r\n?/g,Ih=/\u0000|\uFFFD/g;function Qc(e){return(typeof e=="string"?e:""+e).replace(Ah,`
`).replace(Ih,"")}function zs(e,t,n){if(t=Qc(t),Qc(e)!==t&&n)throw Error(o(425))}function Hs(){}var eu=null,tu=null;function nu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ru=typeof setTimeout=="function"?setTimeout:void 0,Mh=typeof clearTimeout=="function"?clearTimeout:void 0,Gc=typeof Promise=="function"?Promise:void 0,Fh=typeof queueMicrotask=="function"?queueMicrotask:typeof Gc<"u"?function(e){return Gc.resolve(null).then(e).catch(Bh)}:ru;function Bh(e){setTimeout(function(){throw e})}function au(e,t){var n=t,s=0;do{var d=n.nextSibling;if(e.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"){if(s===0){e.removeChild(d),Cr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=d}while(n);Cr(t)}function Ma(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Zo,Ki="__reactProps$"+Zo,sa="__reactContainer$"+Zo,ou="__reactEvents$"+Zo,Uh="__reactListeners$"+Zo,zh="__reactHandles$"+Zo;function vo(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sa]||n[Kr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xc(e);e!==null;){if(n=e[Kr])return n;e=Xc(e)}return t}e=n,n=e.parentNode}return null}function qi(e){return e=e[Kr]||e[sa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ei(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function $s(e){return e[Ki]||null}var iu=[],ti=-1;function Fa(e){return{current:e}}function zt(e){0>ti||(e.current=iu[ti],iu[ti]=null,ti--)}function Bt(e,t){ti++,iu[ti]=e.current,e.current=t}var Ba={},_n=Fa(Ba),Vn=Fa(!1),xo=Ba;function ni(e,t){var n=e.type.contextTypes;if(!n)return Ba;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in n)d[h]=t[h];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Kn(e){return e=e.childContextTypes,e!=null}function Vs(){zt(Vn),zt(_n)}function Jc(e,t,n){if(_n.current!==Ba)throw Error(o(168));Bt(_n,t),Bt(Vn,n)}function Zc(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var d in s)if(!(d in t))throw Error(o(108,Me(e)||"Unknown",d));return Y({},n,s)}function Ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ba,xo=_n.current,Bt(_n,e),Bt(Vn,Vn.current),!0}function ed(e,t,n){var s=e.stateNode;if(!s)throw Error(o(169));n?(e=Zc(e,t,xo),s.__reactInternalMemoizedMergedChildContext=e,zt(Vn),zt(_n),Bt(_n,e)):zt(Vn),Bt(Vn,n)}var la=null,qs=!1,su=!1;function td(e){la===null?la=[e]:la.push(e)}function Hh(e){qs=!0,td(e)}function Ua(){if(!su&&la!==null){su=!0;var e=0,t=Nt;try{var n=la;for(Nt=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}la=null,qs=!1}catch(d){throw la!==null&&(la=la.slice(e+1)),At(Nn,Ua),d}finally{Nt=t,su=!1}}return null}var ri=[],ai=0,Ws=null,Ys=0,fr=[],pr=0,wo=null,ua=1,ca="";function bo(e,t){ri[ai++]=Ys,ri[ai++]=Ws,Ws=e,Ys=t}function nd(e,t,n){fr[pr++]=ua,fr[pr++]=ca,fr[pr++]=wo,wo=e;var s=ua;e=ca;var d=32-Ve(s)-1;s&=~(1<<d),n+=1;var h=32-Ve(t)+d;if(30<h){var b=d-d%5;h=(s&(1<<b)-1).toString(32),s>>=b,d-=b,ua=1<<32-Ve(t)+d|n<<d|s,ca=h+e}else ua=1<<h|n<<d|s,ca=e}function lu(e){e.return!==null&&(bo(e,1),nd(e,1,0))}function uu(e){for(;e===Ws;)Ws=ri[--ai],ri[ai]=null,Ys=ri[--ai],ri[ai]=null;for(;e===wo;)wo=fr[--pr],fr[pr]=null,ca=fr[--pr],fr[pr]=null,ua=fr[--pr],fr[pr]=null}var ar=null,or=null,$t=!1,Tr=null;function rd(e,t){var n=yr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ad(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ar=e,or=Ma(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ar=e,or=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wo!==null?{id:ua,overflow:ca}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ar=e,or=null,!0):!1;default:return!1}}function cu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function du(e){if($t){var t=or;if(t){var n=t;if(!ad(e,t)){if(cu(e))throw Error(o(418));t=Ma(n.nextSibling);var s=ar;t&&ad(e,t)?rd(s,n):(e.flags=e.flags&-4097|2,$t=!1,ar=e)}}else{if(cu(e))throw Error(o(418));e.flags=e.flags&-4097|2,$t=!1,ar=e}}}function od(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ar=e}function Qs(e){if(e!==ar)return!1;if(!$t)return od(e),$t=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nu(e.type,e.memoizedProps)),t&&(t=or)){if(cu(e))throw id(),Error(o(418));for(;t;)rd(e,t),t=Ma(t.nextSibling)}if(od(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){or=Ma(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}or=null}}else or=ar?Ma(e.stateNode.nextSibling):null;return!0}function id(){for(var e=or;e;)e=Ma(e.nextSibling)}function oi(){or=ar=null,$t=!1}function fu(e){Tr===null?Tr=[e]:Tr.push(e)}var $h=oe.ReactCurrentBatchConfig;function Wi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var s=n.stateNode}if(!s)throw Error(o(147,e));var d=s,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(b){var R=d.refs;b===null?delete R[h]:R[h]=b},t._stringRef=h,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sd(e){var t=e._init;return t(e._payload)}function ld(e){function t(Q,$){if(e){var ee=Q.deletions;ee===null?(Q.deletions=[$],Q.flags|=16):ee.push($)}}function n(Q,$){if(!e)return null;for(;$!==null;)t(Q,$),$=$.sibling;return null}function s(Q,$){for(Q=new Map;$!==null;)$.key!==null?Q.set($.key,$):Q.set($.index,$),$=$.sibling;return Q}function d(Q,$){return Q=Ya(Q,$),Q.index=0,Q.sibling=null,Q}function h(Q,$,ee){return Q.index=ee,e?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<$?(Q.flags|=2,$):ee):(Q.flags|=2,$)):(Q.flags|=1048576,$)}function b(Q){return e&&Q.alternate===null&&(Q.flags|=2),Q}function R(Q,$,ee,xe){return $===null||$.tag!==6?($=rc(ee,Q.mode,xe),$.return=Q,$):($=d($,ee),$.return=Q,$)}function A(Q,$,ee,xe){var Je=ee.type;return Je===V?he(Q,$,ee.props.children,xe,ee.key):$!==null&&($.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===rt&&sd(Je)===$.type)?(xe=d($,ee.props),xe.ref=Wi(Q,$,ee),xe.return=Q,xe):(xe=wl(ee.type,ee.key,ee.props,null,Q.mode,xe),xe.ref=Wi(Q,$,ee),xe.return=Q,xe)}function ne(Q,$,ee,xe){return $===null||$.tag!==4||$.stateNode.containerInfo!==ee.containerInfo||$.stateNode.implementation!==ee.implementation?($=ac(ee,Q.mode,xe),$.return=Q,$):($=d($,ee.children||[]),$.return=Q,$)}function he(Q,$,ee,xe,Je){return $===null||$.tag!==7?($=Ro(ee,Q.mode,xe,Je),$.return=Q,$):($=d($,ee),$.return=Q,$)}function me(Q,$,ee){if(typeof $=="string"&&$!==""||typeof $=="number")return $=rc(""+$,Q.mode,ee),$.return=Q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case Be:return ee=wl($.type,$.key,$.props,null,Q.mode,ee),ee.ref=Wi(Q,null,$),ee.return=Q,ee;case We:return $=ac($,Q.mode,ee),$.return=Q,$;case rt:var xe=$._init;return me(Q,xe($._payload),ee)}if(en($)||De($))return $=Ro($,Q.mode,ee,null),$.return=Q,$;Gs(Q,$)}return null}function fe(Q,$,ee,xe){var Je=$!==null?$.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Je!==null?null:R(Q,$,""+ee,xe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Be:return ee.key===Je?A(Q,$,ee,xe):null;case We:return ee.key===Je?ne(Q,$,ee,xe):null;case rt:return Je=ee._init,fe(Q,$,Je(ee._payload),xe)}if(en(ee)||De(ee))return Je!==null?null:he(Q,$,ee,xe,null);Gs(Q,ee)}return null}function $e(Q,$,ee,xe,Je){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return Q=Q.get(ee)||null,R($,Q,""+xe,Je);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case Be:return Q=Q.get(xe.key===null?ee:xe.key)||null,A($,Q,xe,Je);case We:return Q=Q.get(xe.key===null?ee:xe.key)||null,ne($,Q,xe,Je);case rt:var st=xe._init;return $e(Q,$,ee,st(xe._payload),Je)}if(en(xe)||De(xe))return Q=Q.get(ee)||null,he($,Q,xe,Je,null);Gs($,xe)}return null}function Ge(Q,$,ee,xe){for(var Je=null,st=null,lt=$,ft=$=0,vn=null;lt!==null&&ft<ee.length;ft++){lt.index>ft?(vn=lt,lt=null):vn=lt.sibling;var Rt=fe(Q,lt,ee[ft],xe);if(Rt===null){lt===null&&(lt=vn);break}e&&lt&&Rt.alternate===null&&t(Q,lt),$=h(Rt,$,ft),st===null?Je=Rt:st.sibling=Rt,st=Rt,lt=vn}if(ft===ee.length)return n(Q,lt),$t&&bo(Q,ft),Je;if(lt===null){for(;ft<ee.length;ft++)lt=me(Q,ee[ft],xe),lt!==null&&($=h(lt,$,ft),st===null?Je=lt:st.sibling=lt,st=lt);return $t&&bo(Q,ft),Je}for(lt=s(Q,lt);ft<ee.length;ft++)vn=$e(lt,Q,ft,ee[ft],xe),vn!==null&&(e&&vn.alternate!==null&&lt.delete(vn.key===null?ft:vn.key),$=h(vn,$,ft),st===null?Je=vn:st.sibling=vn,st=vn);return e&&lt.forEach(function(Qa){return t(Q,Qa)}),$t&&bo(Q,ft),Je}function Xe(Q,$,ee,xe){var Je=De(ee);if(typeof Je!="function")throw Error(o(150));if(ee=Je.call(ee),ee==null)throw Error(o(151));for(var st=Je=null,lt=$,ft=$=0,vn=null,Rt=ee.next();lt!==null&&!Rt.done;ft++,Rt=ee.next()){lt.index>ft?(vn=lt,lt=null):vn=lt.sibling;var Qa=fe(Q,lt,Rt.value,xe);if(Qa===null){lt===null&&(lt=vn);break}e&&lt&&Qa.alternate===null&&t(Q,lt),$=h(Qa,$,ft),st===null?Je=Qa:st.sibling=Qa,st=Qa,lt=vn}if(Rt.done)return n(Q,lt),$t&&bo(Q,ft),Je;if(lt===null){for(;!Rt.done;ft++,Rt=ee.next())Rt=me(Q,Rt.value,xe),Rt!==null&&($=h(Rt,$,ft),st===null?Je=Rt:st.sibling=Rt,st=Rt);return $t&&bo(Q,ft),Je}for(lt=s(Q,lt);!Rt.done;ft++,Rt=ee.next())Rt=$e(lt,Q,ft,Rt.value,xe),Rt!==null&&(e&&Rt.alternate!==null&&lt.delete(Rt.key===null?ft:Rt.key),$=h(Rt,$,ft),st===null?Je=Rt:st.sibling=Rt,st=Rt);return e&&lt.forEach(function(Sm){return t(Q,Sm)}),$t&&bo(Q,ft),Je}function Zt(Q,$,ee,xe){if(typeof ee=="object"&&ee!==null&&ee.type===V&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Be:e:{for(var Je=ee.key,st=$;st!==null;){if(st.key===Je){if(Je=ee.type,Je===V){if(st.tag===7){n(Q,st.sibling),$=d(st,ee.props.children),$.return=Q,Q=$;break e}}else if(st.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===rt&&sd(Je)===st.type){n(Q,st.sibling),$=d(st,ee.props),$.ref=Wi(Q,st,ee),$.return=Q,Q=$;break e}n(Q,st);break}else t(Q,st);st=st.sibling}ee.type===V?($=Ro(ee.props.children,Q.mode,xe,ee.key),$.return=Q,Q=$):(xe=wl(ee.type,ee.key,ee.props,null,Q.mode,xe),xe.ref=Wi(Q,$,ee),xe.return=Q,Q=xe)}return b(Q);case We:e:{for(st=ee.key;$!==null;){if($.key===st)if($.tag===4&&$.stateNode.containerInfo===ee.containerInfo&&$.stateNode.implementation===ee.implementation){n(Q,$.sibling),$=d($,ee.children||[]),$.return=Q,Q=$;break e}else{n(Q,$);break}else t(Q,$);$=$.sibling}$=ac(ee,Q.mode,xe),$.return=Q,Q=$}return b(Q);case rt:return st=ee._init,Zt(Q,$,st(ee._payload),xe)}if(en(ee))return Ge(Q,$,ee,xe);if(De(ee))return Xe(Q,$,ee,xe);Gs(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,$!==null&&$.tag===6?(n(Q,$.sibling),$=d($,ee),$.return=Q,Q=$):(n(Q,$),$=rc(ee,Q.mode,xe),$.return=Q,Q=$),b(Q)):n(Q,$)}return Zt}var ii=ld(!0),ud=ld(!1),Xs=Fa(null),Js=null,si=null,pu=null;function hu(){pu=si=Js=null}function mu(e){var t=Xs.current;zt(Xs),e._currentValue=t}function gu(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function li(e,t){Js=e,pu=si=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(qn=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(pu!==e)if(e={context:e,memoizedValue:t,next:null},si===null){if(Js===null)throw Error(o(308));si=e,Js.dependencies={lanes:0,firstContext:e}}else si=si.next=e;return t}var So=null;function yu(e){So===null?So=[e]:So.push(e)}function cd(e,t,n,s){var d=t.interleaved;return d===null?(n.next=n,yu(t)):(n.next=d.next,d.next=n),t.interleaved=n,da(e,s)}function da(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var za=!1;function vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(_t&2)!==0){var d=s.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),s.pending=t,da(e,n)}return d=s.interleaved,d===null?(t.next=t,yu(s)):(t.next=d.next,d.next=t),s.interleaved=t,da(e,n)}function Zs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Bo(e,n)}}function fd(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var d=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var b={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};h===null?d=h=b:h=h.next=b,n=n.next}while(n!==null);h===null?d=h=t:h=h.next=t}else d=h=t;n={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function el(e,t,n,s){var d=e.updateQueue;za=!1;var h=d.firstBaseUpdate,b=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var A=R,ne=A.next;A.next=null,b===null?h=ne:b.next=ne,b=A;var he=e.alternate;he!==null&&(he=he.updateQueue,R=he.lastBaseUpdate,R!==b&&(R===null?he.firstBaseUpdate=ne:R.next=ne,he.lastBaseUpdate=A))}if(h!==null){var me=d.baseState;b=0,he=ne=A=null,R=h;do{var fe=R.lane,$e=R.eventTime;if((s&fe)===fe){he!==null&&(he=he.next={eventTime:$e,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Ge=e,Xe=R;switch(fe=t,$e=n,Xe.tag){case 1:if(Ge=Xe.payload,typeof Ge=="function"){me=Ge.call($e,me,fe);break e}me=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Xe.payload,fe=typeof Ge=="function"?Ge.call($e,me,fe):Ge,fe==null)break e;me=Y({},me,fe);break e;case 2:za=!0}}R.callback!==null&&R.lane!==0&&(e.flags|=64,fe=d.effects,fe===null?d.effects=[R]:fe.push(R))}else $e={eventTime:$e,lane:fe,tag:R.tag,payload:R.payload,callback:R.callback,next:null},he===null?(ne=he=$e,A=me):he=he.next=$e,b|=fe;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;fe=R,R=fe.next,fe.next=null,d.lastBaseUpdate=fe,d.shared.pending=null}}while(!0);if(he===null&&(A=me),d.baseState=A,d.firstBaseUpdate=ne,d.lastBaseUpdate=he,t=d.shared.interleaved,t!==null){d=t;do b|=d.lane,d=d.next;while(d!==t)}else h===null&&(d.shared.lanes=0);Co|=b,e.lanes=b,e.memoizedState=me}}function pd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],d=s.callback;if(d!==null){if(s.callback=null,s=n,typeof d!="function")throw Error(o(191,d));d.call(s)}}}var Yi={},qr=Fa(Yi),Qi=Fa(Yi),Gi=Fa(Yi);function Eo(e){if(e===Yi)throw Error(o(174));return e}function xu(e,t){switch(Bt(Gi,t),Bt(Qi,e),Bt(qr,Yi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:On(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=On(t,e)}zt(qr),Bt(qr,t)}function ui(){zt(qr),zt(Qi),zt(Gi)}function hd(e){Eo(Gi.current);var t=Eo(qr.current),n=On(t,e.type);t!==n&&(Bt(Qi,e),Bt(qr,n))}function wu(e){Qi.current===e&&(zt(qr),zt(Qi))}var Yt=Fa(0);function tl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bu=[];function Su(){for(var e=0;e<bu.length;e++)bu[e]._workInProgressVersionPrimary=null;bu.length=0}var nl=oe.ReactCurrentDispatcher,Eu=oe.ReactCurrentBatchConfig,ko=0,Qt=null,un=null,gn=null,rl=!1,Xi=!1,Ji=0,Vh=0;function Pn(){throw Error(o(321))}function ku(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!K(e[n],t[n]))return!1;return!0}function Cu(e,t,n,s,d,h){if(ko=h,Qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nl.current=e===null||e.memoizedState===null?Yh:Qh,e=n(s,d),Xi){h=0;do{if(Xi=!1,Ji=0,25<=h)throw Error(o(301));h+=1,gn=un=null,t.updateQueue=null,nl.current=Gh,e=n(s,d)}while(Xi)}if(nl.current=il,t=un!==null&&un.next!==null,ko=0,gn=un=Qt=null,rl=!1,t)throw Error(o(300));return e}function Nu(){var e=Ji!==0;return Ji=0,e}function Wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Qt.memoizedState=gn=e:gn=gn.next=e,gn}function mr(){if(un===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=un.next;var t=gn===null?Qt.memoizedState:gn.next;if(t!==null)gn=t,un=e;else{if(e===null)throw Error(o(310));un=e,e={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},gn===null?Qt.memoizedState=gn=e:gn=gn.next=e}return gn}function Zi(e,t){return typeof t=="function"?t(e):t}function _u(e){var t=mr(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var s=un,d=s.baseQueue,h=n.pending;if(h!==null){if(d!==null){var b=d.next;d.next=h.next,h.next=b}s.baseQueue=d=h,n.pending=null}if(d!==null){h=d.next,s=s.baseState;var R=b=null,A=null,ne=h;do{var he=ne.lane;if((ko&he)===he)A!==null&&(A=A.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),s=ne.hasEagerState?ne.eagerState:e(s,ne.action);else{var me={lane:he,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};A===null?(R=A=me,b=s):A=A.next=me,Qt.lanes|=he,Co|=he}ne=ne.next}while(ne!==null&&ne!==h);A===null?b=s:A.next=R,K(s,t.memoizedState)||(qn=!0),t.memoizedState=s,t.baseState=b,t.baseQueue=A,n.lastRenderedState=s}if(e=n.interleaved,e!==null){d=e;do h=d.lane,Qt.lanes|=h,Co|=h,d=d.next;while(d!==e)}else d===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pu(e){var t=mr(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var s=n.dispatch,d=n.pending,h=t.memoizedState;if(d!==null){n.pending=null;var b=d=d.next;do h=e(h,b.action),b=b.next;while(b!==d);K(h,t.memoizedState)||(qn=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,s]}function md(){}function gd(e,t){var n=Qt,s=mr(),d=t(),h=!K(s.memoizedState,d);if(h&&(s.memoizedState=d,qn=!0),s=s.queue,Ru(xd.bind(null,n,s,e),[e]),s.getSnapshot!==t||h||gn!==null&&gn.memoizedState.tag&1){if(n.flags|=2048,es(9,vd.bind(null,n,s,d,t),void 0,null),yn===null)throw Error(o(349));(ko&30)!==0||yd(n,t,d)}return d}function yd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vd(e,t,n,s){t.value=n,t.getSnapshot=s,wd(t)&&bd(e)}function xd(e,t,n){return n(function(){wd(t)&&bd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!K(e,n)}catch{return!0}}function bd(e){var t=da(e,1);t!==null&&Ar(t,e,1,-1)}function Sd(e){var t=Wr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},t.queue=e,e=e.dispatch=Wh.bind(null,Qt,e),[t.memoizedState,e]}function es(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Ed(){return mr().memoizedState}function al(e,t,n,s){var d=Wr();Qt.flags|=e,d.memoizedState=es(1|t,n,void 0,s===void 0?null:s)}function ol(e,t,n,s){var d=mr();s=s===void 0?null:s;var h=void 0;if(un!==null){var b=un.memoizedState;if(h=b.destroy,s!==null&&ku(s,b.deps)){d.memoizedState=es(t,n,h,s);return}}Qt.flags|=e,d.memoizedState=es(1|t,n,h,s)}function kd(e,t){return al(8390656,8,e,t)}function Ru(e,t){return ol(2048,8,e,t)}function Cd(e,t){return ol(4,2,e,t)}function Nd(e,t){return ol(4,4,e,t)}function _d(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pd(e,t,n){return n=n!=null?n.concat([e]):null,ol(4,4,_d.bind(null,t,e),n)}function ju(){}function Rd(e,t){var n=mr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ku(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function jd(e,t){var n=mr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ku(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Td(e,t,n){return(ko&21)===0?(e.baseState&&(e.baseState=!1,qn=!0),e.memoizedState=n):(K(n,t)||(n=Zr(),Qt.lanes|=n,Co|=n,e.baseState=!0),t)}function Kh(e,t){var n=Nt;Nt=n!==0&&4>n?n:4,e(!0);var s=Eu.transition;Eu.transition={};try{e(!1),t()}finally{Nt=n,Eu.transition=s}}function Od(){return mr().memoizedState}function qh(e,t,n){var s=qa(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Dd(e))Ld(t,n);else if(n=cd(e,t,n,s),n!==null){var d=Bn();Ar(n,e,s,d),Ad(n,t,s)}}function Wh(e,t,n){var s=qa(e),d={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dd(e))Ld(t,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var b=t.lastRenderedState,R=h(b,n);if(d.hasEagerState=!0,d.eagerState=R,K(R,b)){var A=t.interleaved;A===null?(d.next=d,yu(t)):(d.next=A.next,A.next=d),t.interleaved=d;return}}catch{}finally{}n=cd(e,t,d,s),n!==null&&(d=Bn(),Ar(n,e,s,d),Ad(n,t,s))}}function Dd(e){var t=e.alternate;return e===Qt||t!==null&&t===Qt}function Ld(e,t){Xi=rl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ad(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Bo(e,n)}}var il={readContext:hr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},Yh={readContext:hr,useCallback:function(e,t){return Wr().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:kd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,al(4194308,4,_d.bind(null,t,e),n)},useLayoutEffect:function(e,t){return al(4194308,4,e,t)},useInsertionEffect:function(e,t){return al(4,2,e,t)},useMemo:function(e,t){var n=Wr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Wr();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=qh.bind(null,Qt,e),[s.memoizedState,e]},useRef:function(e){var t=Wr();return e={current:e},t.memoizedState=e},useState:Sd,useDebugValue:ju,useDeferredValue:function(e){return Wr().memoizedState=e},useTransition:function(){var e=Sd(!1),t=e[0];return e=Kh.bind(null,e[1]),Wr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Qt,d=Wr();if($t){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),yn===null)throw Error(o(349));(ko&30)!==0||yd(s,t,n)}d.memoizedState=n;var h={value:n,getSnapshot:t};return d.queue=h,kd(xd.bind(null,s,h,e),[e]),s.flags|=2048,es(9,vd.bind(null,s,h,n,t),void 0,null),n},useId:function(){var e=Wr(),t=yn.identifierPrefix;if($t){var n=ca,s=ua;n=(s&~(1<<32-Ve(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ji++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Vh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qh={readContext:hr,useCallback:Rd,useContext:hr,useEffect:Ru,useImperativeHandle:Pd,useInsertionEffect:Cd,useLayoutEffect:Nd,useMemo:jd,useReducer:_u,useRef:Ed,useState:function(){return _u(Zi)},useDebugValue:ju,useDeferredValue:function(e){var t=mr();return Td(t,un.memoizedState,e)},useTransition:function(){var e=_u(Zi)[0],t=mr().memoizedState;return[e,t]},useMutableSource:md,useSyncExternalStore:gd,useId:Od,unstable_isNewReconciler:!1},Gh={readContext:hr,useCallback:Rd,useContext:hr,useEffect:Ru,useImperativeHandle:Pd,useInsertionEffect:Cd,useLayoutEffect:Nd,useMemo:jd,useReducer:Pu,useRef:Ed,useState:function(){return Pu(Zi)},useDebugValue:ju,useDeferredValue:function(e){var t=mr();return un===null?t.memoizedState=e:Td(t,un.memoizedState,e)},useTransition:function(){var e=Pu(Zi)[0],t=mr().memoizedState;return[e,t]},useMutableSource:md,useSyncExternalStore:gd,useId:Od,unstable_isNewReconciler:!1};function Or(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tu(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sl={isMounted:function(e){return(e=e._reactInternals)?Ie(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Bn(),d=qa(e),h=fa(s,d);h.payload=t,n!=null&&(h.callback=n),t=Ha(e,h,d),t!==null&&(Ar(t,e,d,s),Zs(t,e,d))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Bn(),d=qa(e),h=fa(s,d);h.tag=1,h.payload=t,n!=null&&(h.callback=n),t=Ha(e,h,d),t!==null&&(Ar(t,e,d,s),Zs(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bn(),s=qa(e),d=fa(n,s);d.tag=2,t!=null&&(d.callback=t),t=Ha(e,d,s),t!==null&&(Ar(t,e,s,n),Zs(t,e,s))}};function Id(e,t,n,s,d,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,b):t.prototype&&t.prototype.isPureReactComponent?!I(n,s)||!I(d,h):!0}function Md(e,t,n){var s=!1,d=Ba,h=t.contextType;return typeof h=="object"&&h!==null?h=hr(h):(d=Kn(t)?xo:_n.current,s=t.contextTypes,h=(s=s!=null)?ni(e,d):Ba),t=new t(n,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=h),t}function Fd(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&sl.enqueueReplaceState(t,t.state,null)}function Ou(e,t,n,s){var d=e.stateNode;d.props=n,d.state=e.memoizedState,d.refs={},vu(e);var h=t.contextType;typeof h=="object"&&h!==null?d.context=hr(h):(h=Kn(t)?xo:_n.current,d.context=ni(e,h)),d.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Tu(e,t,h,n),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&sl.enqueueReplaceState(d,d.state,null),el(e,n,d,s),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function ci(e,t){try{var n="",s=t;do n+=He(s),s=s.return;while(s);var d=n}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:d,digest:null}}function Du(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Lu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xh=typeof WeakMap=="function"?WeakMap:Map;function Bd(e,t,n){n=fa(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){hl||(hl=!0,Qu=s),Lu(e,t)},n}function Ud(e,t,n){n=fa(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var d=t.value;n.payload=function(){return s(d)},n.callback=function(){Lu(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(n.callback=function(){Lu(e,t),typeof s!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var b=t.stack;this.componentDidCatch(t.value,{componentStack:b!==null?b:""})}),n}function zd(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Xh;var d=new Set;s.set(t,d)}else d=s.get(t),d===void 0&&(d=new Set,s.set(t,d));d.has(n)||(d.add(n),e=dm.bind(null,e,t,n),t.then(e,e))}function Hd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $d(e,t,n,s,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fa(-1,1),t.tag=2,Ha(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Jh=oe.ReactCurrentOwner,qn=!1;function Fn(e,t,n,s){t.child=e===null?ud(t,null,n,s):ii(t,e.child,n,s)}function Vd(e,t,n,s,d){n=n.render;var h=t.ref;return li(t,d),s=Cu(e,t,n,s,h,d),n=Nu(),e!==null&&!qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,pa(e,t,d)):($t&&n&&lu(t),t.flags|=1,Fn(e,t,s,d),t.child)}function Kd(e,t,n,s,d){if(e===null){var h=n.type;return typeof h=="function"&&!nc(h)&&h.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=h,qd(e,t,h,s,d)):(e=wl(n.type,null,s,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&d)===0){var b=h.memoizedProps;if(n=n.compare,n=n!==null?n:I,n(b,s)&&e.ref===t.ref)return pa(e,t,d)}return t.flags|=1,e=Ya(h,s),e.ref=t.ref,e.return=t,t.child=e}function qd(e,t,n,s,d){if(e!==null){var h=e.memoizedProps;if(I(h,s)&&e.ref===t.ref)if(qn=!1,t.pendingProps=s=h,(e.lanes&d)!==0)(e.flags&131072)!==0&&(qn=!0);else return t.lanes=e.lanes,pa(e,t,d)}return Au(e,t,n,s,d)}function Wd(e,t,n){var s=t.pendingProps,d=s.children,h=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(fi,ir),ir|=n;else{if((n&1073741824)===0)return e=h!==null?h.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bt(fi,ir),ir|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=h!==null?h.baseLanes:n,Bt(fi,ir),ir|=s}else h!==null?(s=h.baseLanes|n,t.memoizedState=null):s=n,Bt(fi,ir),ir|=s;return Fn(e,t,d,n),t.child}function Yd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Au(e,t,n,s,d){var h=Kn(n)?xo:_n.current;return h=ni(t,h),li(t,d),n=Cu(e,t,n,s,h,d),s=Nu(),e!==null&&!qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,pa(e,t,d)):($t&&s&&lu(t),t.flags|=1,Fn(e,t,n,d),t.child)}function Qd(e,t,n,s,d){if(Kn(n)){var h=!0;Ks(t)}else h=!1;if(li(t,d),t.stateNode===null)ul(e,t),Md(t,n,s),Ou(t,n,s,d),s=!0;else if(e===null){var b=t.stateNode,R=t.memoizedProps;b.props=R;var A=b.context,ne=n.contextType;typeof ne=="object"&&ne!==null?ne=hr(ne):(ne=Kn(n)?xo:_n.current,ne=ni(t,ne));var he=n.getDerivedStateFromProps,me=typeof he=="function"||typeof b.getSnapshotBeforeUpdate=="function";me||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==s||A!==ne)&&Fd(t,b,s,ne),za=!1;var fe=t.memoizedState;b.state=fe,el(t,s,b,d),A=t.memoizedState,R!==s||fe!==A||Vn.current||za?(typeof he=="function"&&(Tu(t,n,he,s),A=t.memoizedState),(R=za||Id(t,n,R,s,fe,A,ne))?(me||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(t.flags|=4194308)):(typeof b.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=A),b.props=s,b.state=A,b.context=ne,s=R):(typeof b.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{b=t.stateNode,dd(e,t),R=t.memoizedProps,ne=t.type===t.elementType?R:Or(t.type,R),b.props=ne,me=t.pendingProps,fe=b.context,A=n.contextType,typeof A=="object"&&A!==null?A=hr(A):(A=Kn(n)?xo:_n.current,A=ni(t,A));var $e=n.getDerivedStateFromProps;(he=typeof $e=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==me||fe!==A)&&Fd(t,b,s,A),za=!1,fe=t.memoizedState,b.state=fe,el(t,s,b,d);var Ge=t.memoizedState;R!==me||fe!==Ge||Vn.current||za?(typeof $e=="function"&&(Tu(t,n,$e,s),Ge=t.memoizedState),(ne=za||Id(t,n,ne,s,fe,Ge,A)||!1)?(he||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(s,Ge,A),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(s,Ge,A)),typeof b.componentDidUpdate=="function"&&(t.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===e.memoizedProps&&fe===e.memoizedState||(t.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&fe===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Ge),b.props=s,b.state=Ge,b.context=A,s=ne):(typeof b.componentDidUpdate!="function"||R===e.memoizedProps&&fe===e.memoizedState||(t.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&fe===e.memoizedState||(t.flags|=1024),s=!1)}return Iu(e,t,n,s,h,d)}function Iu(e,t,n,s,d,h){Yd(e,t);var b=(t.flags&128)!==0;if(!s&&!b)return d&&ed(t,n,!1),pa(e,t,h);s=t.stateNode,Jh.current=t;var R=b&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&b?(t.child=ii(t,e.child,null,h),t.child=ii(t,null,R,h)):Fn(e,t,R,h),t.memoizedState=s.state,d&&ed(t,n,!0),t.child}function Gd(e){var t=e.stateNode;t.pendingContext?Jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jc(e,t.context,!1),xu(e,t.containerInfo)}function Xd(e,t,n,s,d){return oi(),fu(d),t.flags|=256,Fn(e,t,n,s),t.child}var Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jd(e,t,n){var s=t.pendingProps,d=Yt.current,h=!1,b=(t.flags&128)!==0,R;if((R=b)||(R=e!==null&&e.memoizedState===null?!1:(d&2)!==0),R?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Bt(Yt,d&1),e===null)return du(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(b=s.children,e=s.fallback,h?(s=t.mode,h=t.child,b={mode:"hidden",children:b},(s&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=b):h=bl(b,s,0,null),e=Ro(e,s,n,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Bu(t,b));if(d=e.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return Zh(e,t,b,s,R,d,n);if(h){h=s.fallback,b=t.mode,d=e.child,R=d.sibling;var A={mode:"hidden",children:s.children};return(b&1)===0&&t.child!==d?(s=t.child,s.childLanes=0,s.pendingProps=A,t.deletions=null):(s=Ya(d,A),s.subtreeFlags=d.subtreeFlags&14680064),R!==null?h=Ya(R,h):(h=Ro(h,b,n,null),h.flags|=2),h.return=t,s.return=t,s.sibling=h,t.child=s,s=h,h=t.child,b=e.child.memoizedState,b=b===null?Fu(n):{baseLanes:b.baseLanes|n,cachePool:null,transitions:b.transitions},h.memoizedState=b,h.childLanes=e.childLanes&~n,t.memoizedState=Mu,s}return h=e.child,e=h.sibling,s=Ya(h,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Bu(e,t){return t=bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ll(e,t,n,s){return s!==null&&fu(s),ii(t,e.child,null,n),e=Bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zh(e,t,n,s,d,h,b){if(n)return t.flags&256?(t.flags&=-257,s=Du(Error(o(422))),ll(e,t,b,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=s.fallback,d=t.mode,s=bl({mode:"visible",children:s.children},d,0,null),h=Ro(h,d,b,null),h.flags|=2,s.return=t,h.return=t,s.sibling=h,t.child=s,(t.mode&1)!==0&&ii(t,e.child,null,b),t.child.memoizedState=Fu(b),t.memoizedState=Mu,h);if((t.mode&1)===0)return ll(e,t,b,null);if(d.data==="$!"){if(s=d.nextSibling&&d.nextSibling.dataset,s)var R=s.dgst;return s=R,h=Error(o(419)),s=Du(h,s,void 0),ll(e,t,b,s)}if(R=(b&e.childLanes)!==0,qn||R){if(s=yn,s!==null){switch(b&-b){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(s.suspendedLanes|b))!==0?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,da(e,d),Ar(s,e,d,-1))}return tc(),s=Du(Error(o(421))),ll(e,t,b,s)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=fm.bind(null,e),d._reactRetry=t,null):(e=h.treeContext,or=Ma(d.nextSibling),ar=t,$t=!0,Tr=null,e!==null&&(fr[pr++]=ua,fr[pr++]=ca,fr[pr++]=wo,ua=e.id,ca=e.overflow,wo=t),t=Bu(t,s.children),t.flags|=4096,t)}function Zd(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),gu(e.return,t,n)}function Uu(e,t,n,s,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:d}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=n,h.tailMode=d)}function ef(e,t,n){var s=t.pendingProps,d=s.revealOrder,h=s.tail;if(Fn(e,t,s.children,n),s=Yt.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zd(e,n,t);else if(e.tag===19)Zd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Bt(Yt,s),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(n=t.child,d=null;n!==null;)e=n.alternate,e!==null&&tl(e)===null&&(d=n),n=n.sibling;n=d,n===null?(d=t.child,t.child=null):(d=n.sibling,n.sibling=null),Uu(t,!1,d,n,h);break;case"backwards":for(n=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&tl(e)===null){t.child=d;break}e=d.sibling,d.sibling=n,n=d,d=e}Uu(t,!0,n,null,h);break;case"together":Uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ul(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Co|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Ya(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ya(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function em(e,t,n){switch(t.tag){case 3:Gd(t),oi();break;case 5:hd(t);break;case 1:Kn(t.type)&&Ks(t);break;case 4:xu(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,d=t.memoizedProps.value;Bt(Xs,s._currentValue),s._currentValue=d;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Bt(Yt,Yt.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Jd(e,t,n):(Bt(Yt,Yt.current&1),e=pa(e,t,n),e!==null?e.sibling:null);Bt(Yt,Yt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return ef(e,t,n);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Bt(Yt,Yt.current),s)break;return null;case 22:case 23:return t.lanes=0,Wd(e,t,n)}return pa(e,t,n)}var tf,zu,nf,rf;tf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zu=function(){},nf=function(e,t,n,s){var d=e.memoizedProps;if(d!==s){e=t.stateNode,Eo(qr.current);var h=null;switch(n){case"input":d=qt(e,d),s=qt(e,s),h=[];break;case"select":d=Y({},d,{value:void 0}),s=Y({},s,{value:void 0}),h=[];break;case"textarea":d=va(e,d),s=va(e,s),h=[];break;default:typeof d.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Hs)}Ye(n,s);var b;n=null;for(ne in d)if(!s.hasOwnProperty(ne)&&d.hasOwnProperty(ne)&&d[ne]!=null)if(ne==="style"){var R=d[ne];for(b in R)R.hasOwnProperty(b)&&(n||(n={}),n[b]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(c.hasOwnProperty(ne)?h||(h=[]):(h=h||[]).push(ne,null));for(ne in s){var A=s[ne];if(R=d!=null?d[ne]:void 0,s.hasOwnProperty(ne)&&A!==R&&(A!=null||R!=null))if(ne==="style")if(R){for(b in R)!R.hasOwnProperty(b)||A&&A.hasOwnProperty(b)||(n||(n={}),n[b]="");for(b in A)A.hasOwnProperty(b)&&R[b]!==A[b]&&(n||(n={}),n[b]=A[b])}else n||(h||(h=[]),h.push(ne,n)),n=A;else ne==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,R=R?R.__html:void 0,A!=null&&R!==A&&(h=h||[]).push(ne,A)):ne==="children"?typeof A!="string"&&typeof A!="number"||(h=h||[]).push(ne,""+A):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(c.hasOwnProperty(ne)?(A!=null&&ne==="onScroll"&&Ut("scroll",e),h||R===A||(h=[])):(h=h||[]).push(ne,A))}n&&(h=h||[]).push("style",n);var ne=h;(t.updateQueue=ne)&&(t.flags|=4)}},rf=function(e,t,n,s){n!==s&&(t.flags|=4)};function ts(e,t){if(!$t)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Rn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var d=e.child;d!==null;)n|=d.lanes|d.childLanes,s|=d.subtreeFlags&14680064,s|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)n|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function tm(e,t,n){var s=t.pendingProps;switch(uu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(t),null;case 1:return Kn(t.type)&&Vs(),Rn(t),null;case 3:return s=t.stateNode,ui(),zt(Vn),zt(_n),Su(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Qs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Tr!==null&&(Ju(Tr),Tr=null))),zu(e,t),Rn(t),null;case 5:wu(t);var d=Eo(Gi.current);if(n=t.type,e!==null&&t.stateNode!=null)nf(e,t,n,s,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(o(166));return Rn(t),null}if(e=Eo(qr.current),Qs(t)){s=t.stateNode,n=t.type;var h=t.memoizedProps;switch(s[Kr]=t,s[Ki]=h,e=(t.mode&1)!==0,n){case"dialog":Ut("cancel",s),Ut("close",s);break;case"iframe":case"object":case"embed":Ut("load",s);break;case"video":case"audio":for(d=0;d<Hi.length;d++)Ut(Hi[d],s);break;case"source":Ut("error",s);break;case"img":case"image":case"link":Ut("error",s),Ut("load",s);break;case"details":Ut("toggle",s);break;case"input":Re(s,h),Ut("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!h.multiple},Ut("invalid",s);break;case"textarea":Mr(s,h),Ut("invalid",s)}Ye(n,h),d=null;for(var b in h)if(h.hasOwnProperty(b)){var R=h[b];b==="children"?typeof R=="string"?s.textContent!==R&&(h.suppressHydrationWarning!==!0&&zs(s.textContent,R,e),d=["children",R]):typeof R=="number"&&s.textContent!==""+R&&(h.suppressHydrationWarning!==!0&&zs(s.textContent,R,e),d=["children",""+R]):c.hasOwnProperty(b)&&R!=null&&b==="onScroll"&&Ut("scroll",s)}switch(n){case"input":rn(s),fn(s,h,!0);break;case"textarea":rn(s),zn(s);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(s.onclick=Hs)}s=d,t.updateQueue=s,s!==null&&(t.flags|=4)}else{b=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=on(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=b.createElement(n,{is:s.is}):(e=b.createElement(n),n==="select"&&(b=e,s.multiple?b.multiple=!0:s.size&&(b.size=s.size))):e=b.createElementNS(e,n),e[Kr]=t,e[Ki]=s,tf(e,t,!1,!1),t.stateNode=e;e:{switch(b=xr(n,s),n){case"dialog":Ut("cancel",e),Ut("close",e),d=s;break;case"iframe":case"object":case"embed":Ut("load",e),d=s;break;case"video":case"audio":for(d=0;d<Hi.length;d++)Ut(Hi[d],e);d=s;break;case"source":Ut("error",e),d=s;break;case"img":case"image":case"link":Ut("error",e),Ut("load",e),d=s;break;case"details":Ut("toggle",e),d=s;break;case"input":Re(e,s),d=qt(e,s),Ut("invalid",e);break;case"option":d=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},d=Y({},s,{value:void 0}),Ut("invalid",e);break;case"textarea":Mr(e,s),d=va(e,s),Ut("invalid",e);break;default:d=s}Ye(n,d),R=d;for(h in R)if(R.hasOwnProperty(h)){var A=R[h];h==="style"?Gr(e,A):h==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&pn(e,A)):h==="children"?typeof A=="string"?(n!=="textarea"||A!=="")&&cr(e,A):typeof A=="number"&&cr(e,""+A):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(c.hasOwnProperty(h)?A!=null&&h==="onScroll"&&Ut("scroll",e):A!=null&&le(e,h,A,b))}switch(n){case"input":rn(e),fn(e,s,!1);break;case"textarea":rn(e),zn(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ze(s.value));break;case"select":e.multiple=!!s.multiple,h=s.value,h!=null?an(e,!!s.multiple,h,!1):s.defaultValue!=null&&an(e,!!s.multiple,s.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Hs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rn(t),null;case 6:if(e&&t.stateNode!=null)rf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(n=Eo(Gi.current),Eo(qr.current),Qs(t)){if(s=t.stateNode,n=t.memoizedProps,s[Kr]=t,(h=s.nodeValue!==n)&&(e=ar,e!==null))switch(e.tag){case 3:zs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zs(s.nodeValue,n,(e.mode&1)!==0)}h&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Kr]=t,t.stateNode=s}return Rn(t),null;case 13:if(zt(Yt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($t&&or!==null&&(t.mode&1)!==0&&(t.flags&128)===0)id(),oi(),t.flags|=98560,h=!1;else if(h=Qs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!h)throw Error(o(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[Kr]=t}else oi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Rn(t),h=!1}else Tr!==null&&(Ju(Tr),Tr=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Yt.current&1)!==0?cn===0&&(cn=3):tc())),t.updateQueue!==null&&(t.flags|=4),Rn(t),null);case 4:return ui(),zu(e,t),e===null&&$i(t.stateNode.containerInfo),Rn(t),null;case 10:return mu(t.type._context),Rn(t),null;case 17:return Kn(t.type)&&Vs(),Rn(t),null;case 19:if(zt(Yt),h=t.memoizedState,h===null)return Rn(t),null;if(s=(t.flags&128)!==0,b=h.rendering,b===null)if(s)ts(h,!1);else{if(cn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(b=tl(e),b!==null){for(t.flags|=128,ts(h,!1),s=b.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)h=n,e=s,h.flags&=14680066,b=h.alternate,b===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,e=b.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Bt(Yt,Yt.current&1|2),t.child}e=e.sibling}h.tail!==null&&yt()>pi&&(t.flags|=128,s=!0,ts(h,!1),t.lanes=4194304)}else{if(!s)if(e=tl(b),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ts(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!$t)return Rn(t),null}else 2*yt()-h.renderingStartTime>pi&&n!==1073741824&&(t.flags|=128,s=!0,ts(h,!1),t.lanes=4194304);h.isBackwards?(b.sibling=t.child,t.child=b):(n=h.last,n!==null?n.sibling=b:t.child=b,h.last=b)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=yt(),t.sibling=null,n=Yt.current,Bt(Yt,s?n&1|2:n&1),t):(Rn(t),null);case 22:case 23:return ec(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(ir&1073741824)!==0&&(Rn(t),t.subtreeFlags&6&&(t.flags|=8192)):Rn(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function nm(e,t){switch(uu(t),t.tag){case 1:return Kn(t.type)&&Vs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ui(),zt(Vn),zt(_n),Su(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return wu(t),null;case 13:if(zt(Yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(Yt),null;case 4:return ui(),null;case 10:return mu(t.type._context),null;case 22:case 23:return ec(),null;case 24:return null;default:return null}}var cl=!1,jn=!1,rm=typeof WeakSet=="function"?WeakSet:Set,qe=null;function di(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Xt(e,t,s)}else n.current=null}function Hu(e,t,n){try{n()}catch(s){Xt(e,t,s)}}var af=!1;function am(e,t){if(eu=co,e=F(),M(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var d=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var b=0,R=-1,A=-1,ne=0,he=0,me=e,fe=null;t:for(;;){for(var $e;me!==n||d!==0&&me.nodeType!==3||(R=b+d),me!==h||s!==0&&me.nodeType!==3||(A=b+s),me.nodeType===3&&(b+=me.nodeValue.length),($e=me.firstChild)!==null;)fe=me,me=$e;for(;;){if(me===e)break t;if(fe===n&&++ne===d&&(R=b),fe===h&&++he===s&&(A=b),($e=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=$e}n=R===-1||A===-1?null:{start:R,end:A}}else n=null}n=n||{start:0,end:0}}else n=null;for(tu={focusedElem:e,selectionRange:n},co=!1,qe=t;qe!==null;)if(t=qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qe=e;else for(;qe!==null;){t=qe;try{var Ge=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var Xe=Ge.memoizedProps,Zt=Ge.memoizedState,Q=t.stateNode,$=Q.getSnapshotBeforeUpdate(t.elementType===t.type?Xe:Or(t.type,Xe),Zt);Q.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var ee=t.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(xe){Xt(t,t.return,xe)}if(e=t.sibling,e!==null){e.return=t.return,qe=e;break}qe=t.return}return Ge=af,af=!1,Ge}function ns(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var d=s=s.next;do{if((d.tag&e)===e){var h=d.destroy;d.destroy=void 0,h!==void 0&&Hu(t,n,h)}d=d.next}while(d!==s)}}function dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function $u(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function of(e){var t=e.alternate;t!==null&&(e.alternate=null,of(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kr],delete t[Ki],delete t[ou],delete t[Uh],delete t[zh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sf(e){return e.tag===5||e.tag===3||e.tag===4}function lf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hs));else if(s!==4&&(e=e.child,e!==null))for(Vu(e,t,n),e=e.sibling;e!==null;)Vu(e,t,n),e=e.sibling}function Ku(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ku(e,t,n),e=e.sibling;e!==null;)Ku(e,t,n),e=e.sibling}var En=null,Dr=!1;function $a(e,t,n){for(n=n.child;n!==null;)uf(e,t,n),n=n.sibling}function uf(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Tt,n)}catch{}switch(n.tag){case 5:jn||di(n,t);case 6:var s=En,d=Dr;En=null,$a(e,t,n),En=s,Dr=d,En!==null&&(Dr?(e=En,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):En.removeChild(n.stateNode));break;case 18:En!==null&&(Dr?(e=En,n=n.stateNode,e.nodeType===8?au(e.parentNode,n):e.nodeType===1&&au(e,n),Cr(e)):au(En,n.stateNode));break;case 4:s=En,d=Dr,En=n.stateNode.containerInfo,Dr=!0,$a(e,t,n),En=s,Dr=d;break;case 0:case 11:case 14:case 15:if(!jn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){d=s=s.next;do{var h=d,b=h.destroy;h=h.tag,b!==void 0&&((h&2)!==0||(h&4)!==0)&&Hu(n,t,b),d=d.next}while(d!==s)}$a(e,t,n);break;case 1:if(!jn&&(di(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(R){Xt(n,t,R)}$a(e,t,n);break;case 21:$a(e,t,n);break;case 22:n.mode&1?(jn=(s=jn)||n.memoizedState!==null,$a(e,t,n),jn=s):$a(e,t,n);break;default:$a(e,t,n)}}function cf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rm),t.forEach(function(s){var d=pm.bind(null,e,s);n.has(s)||(n.add(s),s.then(d,d))})}}function Lr(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var d=n[s];try{var h=e,b=t,R=b;e:for(;R!==null;){switch(R.tag){case 5:En=R.stateNode,Dr=!1;break e;case 3:En=R.stateNode.containerInfo,Dr=!0;break e;case 4:En=R.stateNode.containerInfo,Dr=!0;break e}R=R.return}if(En===null)throw Error(o(160));uf(h,b,d),En=null,Dr=!1;var A=d.alternate;A!==null&&(A.return=null),d.return=null}catch(ne){Xt(d,t,ne)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)df(t,e),t=t.sibling}function df(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lr(t,e),Yr(e),s&4){try{ns(3,e,e.return),dl(3,e)}catch(Xe){Xt(e,e.return,Xe)}try{ns(5,e,e.return)}catch(Xe){Xt(e,e.return,Xe)}}break;case 1:Lr(t,e),Yr(e),s&512&&n!==null&&di(n,n.return);break;case 5:if(Lr(t,e),Yr(e),s&512&&n!==null&&di(n,n.return),e.flags&32){var d=e.stateNode;try{cr(d,"")}catch(Xe){Xt(e,e.return,Xe)}}if(s&4&&(d=e.stateNode,d!=null)){var h=e.memoizedProps,b=n!==null?n.memoizedProps:h,R=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{R==="input"&&h.type==="radio"&&h.name!=null&&et(d,h),xr(R,b);var ne=xr(R,h);for(b=0;b<A.length;b+=2){var he=A[b],me=A[b+1];he==="style"?Gr(d,me):he==="dangerouslySetInnerHTML"?pn(d,me):he==="children"?cr(d,me):le(d,he,me,ne)}switch(R){case"input":kt(d,h);break;case"textarea":Xn(d,h);break;case"select":var fe=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var $e=h.value;$e!=null?an(d,!!h.multiple,$e,!1):fe!==!!h.multiple&&(h.defaultValue!=null?an(d,!!h.multiple,h.defaultValue,!0):an(d,!!h.multiple,h.multiple?[]:"",!1))}d[Ki]=h}catch(Xe){Xt(e,e.return,Xe)}}break;case 6:if(Lr(t,e),Yr(e),s&4){if(e.stateNode===null)throw Error(o(162));d=e.stateNode,h=e.memoizedProps;try{d.nodeValue=h}catch(Xe){Xt(e,e.return,Xe)}}break;case 3:if(Lr(t,e),Yr(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Cr(t.containerInfo)}catch(Xe){Xt(e,e.return,Xe)}break;case 4:Lr(t,e),Yr(e);break;case 13:Lr(t,e),Yr(e),d=e.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(Yu=yt())),s&4&&cf(e);break;case 22:if(he=n!==null&&n.memoizedState!==null,e.mode&1?(jn=(ne=jn)||he,Lr(t,e),jn=ne):Lr(t,e),Yr(e),s&8192){if(ne=e.memoizedState!==null,(e.stateNode.isHidden=ne)&&!he&&(e.mode&1)!==0)for(qe=e,he=e.child;he!==null;){for(me=qe=he;qe!==null;){switch(fe=qe,$e=fe.child,fe.tag){case 0:case 11:case 14:case 15:ns(4,fe,fe.return);break;case 1:di(fe,fe.return);var Ge=fe.stateNode;if(typeof Ge.componentWillUnmount=="function"){s=fe,n=fe.return;try{t=s,Ge.props=t.memoizedProps,Ge.state=t.memoizedState,Ge.componentWillUnmount()}catch(Xe){Xt(s,n,Xe)}}break;case 5:di(fe,fe.return);break;case 22:if(fe.memoizedState!==null){hf(me);continue}}$e!==null?($e.return=fe,qe=$e):hf(me)}he=he.sibling}e:for(he=null,me=e;;){if(me.tag===5){if(he===null){he=me;try{d=me.stateNode,ne?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(R=me.stateNode,A=me.memoizedProps.style,b=A!=null&&A.hasOwnProperty("display")?A.display:null,R.style.display=Cn("display",b))}catch(Xe){Xt(e,e.return,Xe)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(Xe){Xt(e,e.return,Xe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===e)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===e)break e;for(;me.sibling===null;){if(me.return===null||me.return===e)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Lr(t,e),Yr(e),s&4&&cf(e);break;case 21:break;default:Lr(t,e),Yr(e)}}function Yr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(sf(n)){var s=n;break e}n=n.return}throw Error(o(160))}switch(s.tag){case 5:var d=s.stateNode;s.flags&32&&(cr(d,""),s.flags&=-33);var h=lf(e);Ku(e,h,d);break;case 3:case 4:var b=s.stateNode.containerInfo,R=lf(e);Vu(e,R,b);break;default:throw Error(o(161))}}catch(A){Xt(e,e.return,A)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function om(e,t,n){qe=e,ff(e)}function ff(e,t,n){for(var s=(e.mode&1)!==0;qe!==null;){var d=qe,h=d.child;if(d.tag===22&&s){var b=d.memoizedState!==null||cl;if(!b){var R=d.alternate,A=R!==null&&R.memoizedState!==null||jn;R=cl;var ne=jn;if(cl=b,(jn=A)&&!ne)for(qe=d;qe!==null;)b=qe,A=b.child,b.tag===22&&b.memoizedState!==null?mf(d):A!==null?(A.return=b,qe=A):mf(d);for(;h!==null;)qe=h,ff(h),h=h.sibling;qe=d,cl=R,jn=ne}pf(e)}else(d.subtreeFlags&8772)!==0&&h!==null?(h.return=d,qe=h):pf(e)}}function pf(e){for(;qe!==null;){var t=qe;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:jn||dl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!jn)if(n===null)s.componentDidMount();else{var d=t.elementType===t.type?n.memoizedProps:Or(t.type,n.memoizedProps);s.componentDidUpdate(d,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&pd(t,h,s);break;case 3:var b=t.updateQueue;if(b!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}pd(t,b,n)}break;case 5:var R=t.stateNode;if(n===null&&t.flags&4){n=R;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&n.focus();break;case"img":A.src&&(n.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ne=t.alternate;if(ne!==null){var he=ne.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&Cr(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}jn||t.flags&512&&$u(t)}catch(fe){Xt(t,t.return,fe)}}if(t===e){qe=null;break}if(n=t.sibling,n!==null){n.return=t.return,qe=n;break}qe=t.return}}function hf(e){for(;qe!==null;){var t=qe;if(t===e){qe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,qe=n;break}qe=t.return}}function mf(e){for(;qe!==null;){var t=qe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dl(4,t)}catch(A){Xt(t,n,A)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var d=t.return;try{s.componentDidMount()}catch(A){Xt(t,d,A)}}var h=t.return;try{$u(t)}catch(A){Xt(t,h,A)}break;case 5:var b=t.return;try{$u(t)}catch(A){Xt(t,b,A)}}}catch(A){Xt(t,t.return,A)}if(t===e){qe=null;break}var R=t.sibling;if(R!==null){R.return=t.return,qe=R;break}qe=t.return}}var im=Math.ceil,fl=oe.ReactCurrentDispatcher,qu=oe.ReactCurrentOwner,gr=oe.ReactCurrentBatchConfig,_t=0,yn=null,tn=null,kn=0,ir=0,fi=Fa(0),cn=0,rs=null,Co=0,pl=0,Wu=0,as=null,Wn=null,Yu=0,pi=1/0,ha=null,hl=!1,Qu=null,Va=null,ml=!1,Ka=null,gl=0,os=0,Gu=null,yl=-1,vl=0;function Bn(){return(_t&6)!==0?yt():yl!==-1?yl:yl=yt()}function qa(e){return(e.mode&1)===0?1:(_t&2)!==0&&kn!==0?kn&-kn:$h.transition!==null?(vl===0&&(vl=Zr()),vl):(e=Nt,e!==0||(e=window.event,e=e===void 0?16:po(e.type)),e)}function Ar(e,t,n,s){if(50<os)throw os=0,Gu=null,Error(o(185));ea(e,n,s),((_t&2)===0||e!==yn)&&(e===yn&&((_t&2)===0&&(pl|=n),cn===4&&Wa(e,kn)),Yn(e,s),n===1&&_t===0&&(t.mode&1)===0&&(pi=yt()+500,qs&&Ua()))}function Yn(e,t){var n=e.callbackNode;so(e,t);var s=io(e,e===yn?kn:0);if(s===0)n!==null&&tr(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&tr(n),t===1)e.tag===0?Hh(yf.bind(null,e)):td(yf.bind(null,e)),Fh(function(){(_t&6)===0&&Ua()}),n=null;else{switch(Ni(s)){case 1:n=Nn;break;case 4:n=An;break;case 16:n=nr;break;case 536870912:n=mt;break;default:n=nr}n=Cf(n,gf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gf(e,t){if(yl=-1,vl=0,(_t&6)!==0)throw Error(o(327));var n=e.callbackNode;if(hi()&&e.callbackNode!==n)return null;var s=io(e,e===yn?kn:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=xl(e,s);else{t=s;var d=_t;_t|=2;var h=xf();(yn!==e||kn!==t)&&(ha=null,pi=yt()+500,_o(e,t));do try{um();break}catch(R){vf(e,R)}while(!0);hu(),fl.current=h,_t=d,tn!==null?t=0:(yn=null,kn=0,t=cn)}if(t!==0){if(t===2&&(d=Jr(e),d!==0&&(s=d,t=Xu(e,d))),t===1)throw n=rs,_o(e,0),Wa(e,s),Yn(e,yt()),n;if(t===6)Wa(e,s);else{if(d=e.current.alternate,(s&30)===0&&!sm(d)&&(t=xl(e,s),t===2&&(h=Jr(e),h!==0&&(s=h,t=Xu(e,h))),t===1))throw n=rs,_o(e,0),Wa(e,s),Yn(e,yt()),n;switch(e.finishedWork=d,e.finishedLanes=s,t){case 0:case 1:throw Error(o(345));case 2:Po(e,Wn,ha);break;case 3:if(Wa(e,s),(s&130023424)===s&&(t=Yu+500-yt(),10<t)){if(io(e,0)!==0)break;if(d=e.suspendedLanes,(d&s)!==s){Bn(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=ru(Po.bind(null,e,Wn,ha),t);break}Po(e,Wn,ha);break;case 4:if(Wa(e,s),(s&4194240)===s)break;for(t=e.eventTimes,d=-1;0<s;){var b=31-Ve(s);h=1<<b,b=t[b],b>d&&(d=b),s&=~h}if(s=d,s=yt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*im(s/1960))-s,10<s){e.timeoutHandle=ru(Po.bind(null,e,Wn,ha),s);break}Po(e,Wn,ha);break;case 5:Po(e,Wn,ha);break;default:throw Error(o(329))}}}return Yn(e,yt()),e.callbackNode===n?gf.bind(null,e):null}function Xu(e,t){var n=as;return e.current.memoizedState.isDehydrated&&(_o(e,t).flags|=256),e=xl(e,t),e!==2&&(t=Wn,Wn=n,t!==null&&Ju(t)),e}function Ju(e){Wn===null?Wn=e:Wn.push.apply(Wn,e)}function sm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var d=n[s],h=d.getSnapshot;d=d.value;try{if(!K(h(),d))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wa(e,t){for(t&=~Wu,t&=~pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ve(t),s=1<<n;e[n]=-1,t&=~s}}function yf(e){if((_t&6)!==0)throw Error(o(327));hi();var t=io(e,0);if((t&1)===0)return Yn(e,yt()),null;var n=xl(e,t);if(e.tag!==0&&n===2){var s=Jr(e);s!==0&&(t=s,n=Xu(e,s))}if(n===1)throw n=rs,_o(e,0),Wa(e,t),Yn(e,yt()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Po(e,Wn,ha),Yn(e,yt()),null}function Zu(e,t){var n=_t;_t|=1;try{return e(t)}finally{_t=n,_t===0&&(pi=yt()+500,qs&&Ua())}}function No(e){Ka!==null&&Ka.tag===0&&(_t&6)===0&&hi();var t=_t;_t|=1;var n=gr.transition,s=Nt;try{if(gr.transition=null,Nt=1,e)return e()}finally{Nt=s,gr.transition=n,_t=t,(_t&6)===0&&Ua()}}function ec(){ir=fi.current,zt(fi)}function _o(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Mh(n)),tn!==null)for(n=tn.return;n!==null;){var s=n;switch(uu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Vs();break;case 3:ui(),zt(Vn),zt(_n),Su();break;case 5:wu(s);break;case 4:ui();break;case 13:zt(Yt);break;case 19:zt(Yt);break;case 10:mu(s.type._context);break;case 22:case 23:ec()}n=n.return}if(yn=e,tn=e=Ya(e.current,null),kn=ir=t,cn=0,rs=null,Wu=pl=Co=0,Wn=as=null,So!==null){for(t=0;t<So.length;t++)if(n=So[t],s=n.interleaved,s!==null){n.interleaved=null;var d=s.next,h=n.pending;if(h!==null){var b=h.next;h.next=d,s.next=b}n.pending=s}So=null}return e}function vf(e,t){do{var n=tn;try{if(hu(),nl.current=il,rl){for(var s=Qt.memoizedState;s!==null;){var d=s.queue;d!==null&&(d.pending=null),s=s.next}rl=!1}if(ko=0,gn=un=Qt=null,Xi=!1,Ji=0,qu.current=null,n===null||n.return===null){cn=1,rs=t,tn=null;break}e:{var h=e,b=n.return,R=n,A=t;if(t=kn,R.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var ne=A,he=R,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var $e=Hd(b);if($e!==null){$e.flags&=-257,$d($e,b,R,h,t),$e.mode&1&&zd(h,ne,t),t=$e,A=ne;var Ge=t.updateQueue;if(Ge===null){var Xe=new Set;Xe.add(A),t.updateQueue=Xe}else Ge.add(A);break e}else{if((t&1)===0){zd(h,ne,t),tc();break e}A=Error(o(426))}}else if($t&&R.mode&1){var Zt=Hd(b);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),$d(Zt,b,R,h,t),fu(ci(A,R));break e}}h=A=ci(A,R),cn!==4&&(cn=2),as===null?as=[h]:as.push(h),h=b;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var Q=Bd(h,A,t);fd(h,Q);break e;case 1:R=A;var $=h.type,ee=h.stateNode;if((h.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Va===null||!Va.has(ee)))){h.flags|=65536,t&=-t,h.lanes|=t;var xe=Ud(h,R,t);fd(h,xe);break e}}h=h.return}while(h!==null)}bf(n)}catch(Je){t=Je,tn===n&&n!==null&&(tn=n=n.return);continue}break}while(!0)}function xf(){var e=fl.current;return fl.current=il,e===null?il:e}function tc(){(cn===0||cn===3||cn===2)&&(cn=4),yn===null||(Co&268435455)===0&&(pl&268435455)===0||Wa(yn,kn)}function xl(e,t){var n=_t;_t|=2;var s=xf();(yn!==e||kn!==t)&&(ha=null,_o(e,t));do try{lm();break}catch(d){vf(e,d)}while(!0);if(hu(),_t=n,fl.current=s,tn!==null)throw Error(o(261));return yn=null,kn=0,cn}function lm(){for(;tn!==null;)wf(tn)}function um(){for(;tn!==null&&!Ot();)wf(tn)}function wf(e){var t=kf(e.alternate,e,ir);e.memoizedProps=e.pendingProps,t===null?bf(e):tn=t,qu.current=null}function bf(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=tm(n,t,ir),n!==null){tn=n;return}}else{if(n=nm(n,t),n!==null){n.flags&=32767,tn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{cn=6,tn=null;return}}if(t=t.sibling,t!==null){tn=t;return}tn=t=e}while(t!==null);cn===0&&(cn=5)}function Po(e,t,n){var s=Nt,d=gr.transition;try{gr.transition=null,Nt=1,cm(e,t,n,s)}finally{gr.transition=d,Nt=s}return null}function cm(e,t,n,s){do hi();while(Ka!==null);if((_t&6)!==0)throw Error(o(327));n=e.finishedWork;var d=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var h=n.lanes|n.childLanes;if(Fo(e,h),e===yn&&(tn=yn=null,kn=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ml||(ml=!0,Cf(nr,function(){return hi(),null})),h=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||h){h=gr.transition,gr.transition=null;var b=Nt;Nt=1;var R=_t;_t|=4,qu.current=null,am(e,n),df(n,e),X(tu),co=!!eu,tu=eu=null,e.current=n,om(n),sn(),_t=R,Nt=b,gr.transition=h}else e.current=n;if(ml&&(ml=!1,Ka=e,gl=d),h=e.pendingLanes,h===0&&(Va=null),Br(n.stateNode),Yn(e,yt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)d=t[n],s(d.value,{componentStack:d.stack,digest:d.digest});if(hl)throw hl=!1,e=Qu,Qu=null,e;return(gl&1)!==0&&e.tag!==0&&hi(),h=e.pendingLanes,(h&1)!==0?e===Gu?os++:(os=0,Gu=e):os=0,Ua(),null}function hi(){if(Ka!==null){var e=Ni(gl),t=gr.transition,n=Nt;try{if(gr.transition=null,Nt=16>e?16:e,Ka===null)var s=!1;else{if(e=Ka,Ka=null,gl=0,(_t&6)!==0)throw Error(o(331));var d=_t;for(_t|=4,qe=e.current;qe!==null;){var h=qe,b=h.child;if((qe.flags&16)!==0){var R=h.deletions;if(R!==null){for(var A=0;A<R.length;A++){var ne=R[A];for(qe=ne;qe!==null;){var he=qe;switch(he.tag){case 0:case 11:case 15:ns(8,he,h)}var me=he.child;if(me!==null)me.return=he,qe=me;else for(;qe!==null;){he=qe;var fe=he.sibling,$e=he.return;if(of(he),he===ne){qe=null;break}if(fe!==null){fe.return=$e,qe=fe;break}qe=$e}}}var Ge=h.alternate;if(Ge!==null){var Xe=Ge.child;if(Xe!==null){Ge.child=null;do{var Zt=Xe.sibling;Xe.sibling=null,Xe=Zt}while(Xe!==null)}}qe=h}}if((h.subtreeFlags&2064)!==0&&b!==null)b.return=h,qe=b;else e:for(;qe!==null;){if(h=qe,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:ns(9,h,h.return)}var Q=h.sibling;if(Q!==null){Q.return=h.return,qe=Q;break e}qe=h.return}}var $=e.current;for(qe=$;qe!==null;){b=qe;var ee=b.child;if((b.subtreeFlags&2064)!==0&&ee!==null)ee.return=b,qe=ee;else e:for(b=$;qe!==null;){if(R=qe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:dl(9,R)}}catch(Je){Xt(R,R.return,Je)}if(R===b){qe=null;break e}var xe=R.sibling;if(xe!==null){xe.return=R.return,qe=xe;break e}qe=R.return}}if(_t=d,Ua(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Tt,e)}catch{}s=!0}return s}finally{Nt=n,gr.transition=t}}return!1}function Sf(e,t,n){t=ci(n,t),t=Bd(e,t,1),e=Ha(e,t,1),t=Bn(),e!==null&&(ea(e,1,t),Yn(e,t))}function Xt(e,t,n){if(e.tag===3)Sf(e,e,n);else for(;t!==null;){if(t.tag===3){Sf(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Va===null||!Va.has(s))){e=ci(n,e),e=Ud(t,e,1),t=Ha(t,e,1),e=Bn(),t!==null&&(ea(t,1,e),Yn(t,e));break}}t=t.return}}function dm(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Bn(),e.pingedLanes|=e.suspendedLanes&n,yn===e&&(kn&n)===n&&(cn===4||cn===3&&(kn&130023424)===kn&&500>yt()-Yu?_o(e,0):Wu|=n),Yn(e,t)}function Ef(e,t){t===0&&((e.mode&1)===0?t=1:(t=oo,oo<<=1,(oo&130023424)===0&&(oo=4194304)));var n=Bn();e=da(e,t),e!==null&&(ea(e,t,n),Yn(e,n))}function fm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ef(e,n)}function pm(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(n=d.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(t),Ef(e,n)}var kf;kf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vn.current)qn=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return qn=!1,em(e,t,n);qn=(e.flags&131072)!==0}else qn=!1,$t&&(t.flags&1048576)!==0&&nd(t,Ys,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ul(e,t),e=t.pendingProps;var d=ni(t,_n.current);li(t,n),d=Cu(null,t,s,e,d,n);var h=Nu();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kn(s)?(h=!0,Ks(t)):h=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,vu(t),d.updater=sl,t.stateNode=d,d._reactInternals=t,Ou(t,s,e,n),t=Iu(null,t,s,!0,h,n)):(t.tag=0,$t&&h&&lu(t),Fn(null,t,d,n),t=t.child),t;case 16:s=t.elementType;e:{switch(ul(e,t),e=t.pendingProps,d=s._init,s=d(s._payload),t.type=s,d=t.tag=mm(s),e=Or(s,e),d){case 0:t=Au(null,t,s,e,n);break e;case 1:t=Qd(null,t,s,e,n);break e;case 11:t=Vd(null,t,s,e,n);break e;case 14:t=Kd(null,t,s,Or(s.type,e),n);break e}throw Error(o(306,s,""))}return t;case 0:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Or(s,d),Au(e,t,s,d,n);case 1:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Or(s,d),Qd(e,t,s,d,n);case 3:e:{if(Gd(t),e===null)throw Error(o(387));s=t.pendingProps,h=t.memoizedState,d=h.element,dd(e,t),el(t,s,null,n);var b=t.memoizedState;if(s=b.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){d=ci(Error(o(423)),t),t=Xd(e,t,s,n,d);break e}else if(s!==d){d=ci(Error(o(424)),t),t=Xd(e,t,s,n,d);break e}else for(or=Ma(t.stateNode.containerInfo.firstChild),ar=t,$t=!0,Tr=null,n=ud(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oi(),s===d){t=pa(e,t,n);break e}Fn(e,t,s,n)}t=t.child}return t;case 5:return hd(t),e===null&&du(t),s=t.type,d=t.pendingProps,h=e!==null?e.memoizedProps:null,b=d.children,nu(s,d)?b=null:h!==null&&nu(s,h)&&(t.flags|=32),Yd(e,t),Fn(e,t,b,n),t.child;case 6:return e===null&&du(t),null;case 13:return Jd(e,t,n);case 4:return xu(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ii(t,null,s,n):Fn(e,t,s,n),t.child;case 11:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Or(s,d),Vd(e,t,s,d,n);case 7:return Fn(e,t,t.pendingProps,n),t.child;case 8:return Fn(e,t,t.pendingProps.children,n),t.child;case 12:return Fn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,d=t.pendingProps,h=t.memoizedProps,b=d.value,Bt(Xs,s._currentValue),s._currentValue=b,h!==null)if(K(h.value,b)){if(h.children===d.children&&!Vn.current){t=pa(e,t,n);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var R=h.dependencies;if(R!==null){b=h.child;for(var A=R.firstContext;A!==null;){if(A.context===s){if(h.tag===1){A=fa(-1,n&-n),A.tag=2;var ne=h.updateQueue;if(ne!==null){ne=ne.shared;var he=ne.pending;he===null?A.next=A:(A.next=he.next,he.next=A),ne.pending=A}}h.lanes|=n,A=h.alternate,A!==null&&(A.lanes|=n),gu(h.return,n,t),R.lanes|=n;break}A=A.next}}else if(h.tag===10)b=h.type===t.type?null:h.child;else if(h.tag===18){if(b=h.return,b===null)throw Error(o(341));b.lanes|=n,R=b.alternate,R!==null&&(R.lanes|=n),gu(b,n,t),b=h.sibling}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}Fn(e,t,d.children,n),t=t.child}return t;case 9:return d=t.type,s=t.pendingProps.children,li(t,n),d=hr(d),s=s(d),t.flags|=1,Fn(e,t,s,n),t.child;case 14:return s=t.type,d=Or(s,t.pendingProps),d=Or(s.type,d),Kd(e,t,s,d,n);case 15:return qd(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Or(s,d),ul(e,t),t.tag=1,Kn(s)?(e=!0,Ks(t)):e=!1,li(t,n),Md(t,s,d),Ou(t,s,d,n),Iu(null,t,s,!0,e,n);case 19:return ef(e,t,n);case 22:return Wd(e,t,n)}throw Error(o(156,t.tag))};function Cf(e,t){return At(e,t)}function hm(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(e,t,n,s){return new hm(e,t,n,s)}function nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mm(e){if(typeof e=="function")return nc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===je)return 11;if(e===nt)return 14}return 2}function Ya(e,t){var n=e.alternate;return n===null?(n=yr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wl(e,t,n,s,d,h){var b=2;if(s=e,typeof e=="function")nc(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case V:return Ro(n.children,d,h,t);case Ne:b=8,d|=8;break;case Oe:return e=yr(12,n,t,d|2),e.elementType=Oe,e.lanes=h,e;case we:return e=yr(13,n,t,d),e.elementType=we,e.lanes=h,e;case be:return e=yr(19,n,t,d),e.elementType=be,e.lanes=h,e;case it:return bl(n,d,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _e:b=10;break e;case dt:b=9;break e;case je:b=11;break e;case nt:b=14;break e;case rt:b=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=yr(b,n,t,d),t.elementType=e,t.type=s,t.lanes=h,t}function Ro(e,t,n,s){return e=yr(7,e,s,t),e.lanes=n,e}function bl(e,t,n,s){return e=yr(22,e,s,t),e.elementType=it,e.lanes=n,e.stateNode={isHidden:!1},e}function rc(e,t,n){return e=yr(6,e,null,t),e.lanes=n,e}function ac(e,t,n){return t=yr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gm(e,t,n,s,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lo(0),this.expirationTimes=lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.identifierPrefix=s,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function oc(e,t,n,s,d,h,b,R,A){return e=new gm(e,t,n,R,A),t===1?(t=1,h===!0&&(t|=8)):t=0,h=yr(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(h),e}function ym(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:We,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Nf(e){if(!e)return Ba;e=e._reactInternals;e:{if(Ie(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(Kn(n))return Zc(e,n,t)}return t}function _f(e,t,n,s,d,h,b,R,A){return e=oc(n,s,!0,e,d,h,b,R,A),e.context=Nf(null),n=e.current,s=Bn(),d=qa(n),h=fa(s,d),h.callback=t??null,Ha(n,h,d),e.current.lanes=d,ea(e,d,s),Yn(e,s),e}function Sl(e,t,n,s){var d=t.current,h=Bn(),b=qa(d);return n=Nf(n),t.context===null?t.context=n:t.pendingContext=n,t=fa(h,b),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ha(d,t,b),e!==null&&(Ar(e,d,b,h),Zs(e,d,b)),b}function El(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ic(e,t){Pf(e,t),(e=e.alternate)&&Pf(e,t)}function vm(){return null}var Rf=typeof reportError=="function"?reportError:function(e){console.error(e)};function sc(e){this._internalRoot=e}kl.prototype.render=sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Sl(e,t,null,null)},kl.prototype.unmount=sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;No(function(){Sl(null,e,null,null)}),t[sa]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ks();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ln.length&&t!==0&&t<ln[n].priority;n++);ln.splice(n,0,e),n===0&&Ns(e)}};function lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jf(){}function xm(e,t,n,s,d){if(d){if(typeof s=="function"){var h=s;s=function(){var ne=El(b);h.call(ne)}}var b=_f(t,s,e,0,null,!1,!1,"",jf);return e._reactRootContainer=b,e[sa]=b.current,$i(e.nodeType===8?e.parentNode:e),No(),b}for(;d=e.lastChild;)e.removeChild(d);if(typeof s=="function"){var R=s;s=function(){var ne=El(A);R.call(ne)}}var A=oc(e,0,!1,null,null,!1,!1,"",jf);return e._reactRootContainer=A,e[sa]=A.current,$i(e.nodeType===8?e.parentNode:e),No(function(){Sl(t,A,n,s)}),A}function Nl(e,t,n,s,d){var h=n._reactRootContainer;if(h){var b=h;if(typeof d=="function"){var R=d;d=function(){var A=El(b);R.call(A)}}Sl(t,b,e,d)}else b=xm(n,t,e,d,s);return El(b)}Es=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ka(t.pendingLanes);n!==0&&(Bo(t,n|1),Yn(t,yt()),(_t&6)===0&&(pi=yt()+500,Ua()))}break;case 13:No(function(){var s=da(e,1);if(s!==null){var d=Bn();Ar(s,e,1,d)}}),ic(e,1)}},Et=function(e){if(e.tag===13){var t=da(e,134217728);if(t!==null){var n=Bn();Ar(t,e,134217728,n)}ic(e,134217728)}},_i=function(e){if(e.tag===13){var t=qa(e),n=da(e,t);if(n!==null){var s=Bn();Ar(n,e,t,s)}ic(e,t)}},ks=function(){return Nt},Cs=function(e,t){var n=Nt;try{return Nt=e,t()}finally{Nt=n}},Te=function(e,t,n){switch(t){case"input":if(kt(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var d=$s(s);if(!d)throw Error(o(90));tt(s),kt(s,d)}}}break;case"textarea":Xn(e,n);break;case"select":t=n.value,t!=null&&an(e,!!n.multiple,t,!1)}},ro=Zu,Xr=No;var wm={usingClientEntryPoint:!1,Events:[qi,ei,$s,wa,ba,Zu]},is={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bm={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pt(e),e===null?null:e.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||vm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{Tt=_l.inject(bm),Gt=_l}catch{}}return Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wm,Qn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lc(t))throw Error(o(200));return ym(e,t,null,n)},Qn.createRoot=function(e,t){if(!lc(e))throw Error(o(299));var n=!1,s="",d=Rf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=oc(e,1,!1,null,null,n,!1,s,d),e[sa]=t.current,$i(e.nodeType===8?e.parentNode:e),new sc(t)},Qn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Pt(t),e=e===null?null:e.stateNode,e},Qn.flushSync=function(e){return No(e)},Qn.hydrate=function(e,t,n){if(!Cl(t))throw Error(o(200));return Nl(null,e,t,!0,n)},Qn.hydrateRoot=function(e,t,n){if(!lc(e))throw Error(o(405));var s=n!=null&&n.hydratedSources||null,d=!1,h="",b=Rf;if(n!=null&&(n.unstable_strictMode===!0&&(d=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),t=_f(t,null,e,1,n??null,d,!1,h,b),e[sa]=t.current,$i(e),s)for(e=0;e<s.length;e++)n=s[e],d=n._getVersion,d=d(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,d]:t.mutableSourceEagerHydrationData.push(n,d);return new kl(t)},Qn.render=function(e,t,n){if(!Cl(t))throw Error(o(200));return Nl(null,e,t,!1,n)},Qn.unmountComponentAtNode=function(e){if(!Cl(e))throw Error(o(40));return e._reactRootContainer?(No(function(){Nl(null,null,e,!1,function(){e._reactRootContainer=null,e[sa]=null})}),!0):!1},Qn.unstable_batchedUpdates=Zu,Qn.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Cl(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Nl(e,t,n,!1,s)},Qn.version="18.3.1-next-f1338f8080-20240426",Qn}var Ff;function Up(){if(Ff)return dc.exports;Ff=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),dc.exports=Om(),dc.exports}var Bf;function Dm(){if(Bf)return Pl;Bf=1;var a=Up();return Pl.createRoot=a.createRoot,Pl.hydrateRoot=a.hydrateRoot,Pl}var Lm=Dm();const Am=vs(Lm);var zp=Up();const Im=vs(zp),Mm=Bp({__proto__:null,default:Im},[zp]);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kt(){return Kt=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a},Kt.apply(this,arguments)}var nn;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(nn||(nn={}));const Uf="popstate";function Fm(a){a===void 0&&(a={});function r(l,c){let{pathname:p,search:g,hash:v}=l.location;return ms("",{pathname:p,search:g,hash:v},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function o(l,c){return typeof c=="string"?c:Ao(c)}return Um(r,o,null,a)}function bt(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function Lo(a,r){if(!a){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Bm(){return Math.random().toString(36).substr(2,8)}function zf(a,r){return{usr:a.state,key:a.key,idx:r}}function ms(a,r,o,l){return o===void 0&&(o=null),Kt({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof r=="string"?Za(r):r,{state:o,key:r&&r.key||l||Bm()})}function Ao(a){let{pathname:r="/",search:o="",hash:l=""}=a;return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function Za(a){let r={};if(a){let o=a.indexOf("#");o>=0&&(r.hash=a.substr(o),a=a.substr(0,o));let l=a.indexOf("?");l>=0&&(r.search=a.substr(l),a=a.substr(0,l)),a&&(r.pathname=a)}return r}function Um(a,r,o,l){l===void 0&&(l={});let{window:c=document.defaultView,v5Compat:p=!1}=l,g=c.history,v=nn.Pop,x=null,E=_();E==null&&(E=0,g.replaceState(Kt({},g.state,{idx:E}),""));function _(){return(g.state||{idx:null}).idx}function k(){v=nn.Pop;let re=_(),ye=re==null?null:re-E;E=re,x&&x({action:v,location:W.location,delta:ye})}function O(re,ye){v=nn.Push;let ue=ms(W.location,re,ye);E=_()+1;let le=zf(ue,E),oe=W.createHref(ue);try{g.pushState(le,"",oe)}catch(Be){if(Be instanceof DOMException&&Be.name==="DataCloneError")throw Be;c.location.assign(oe)}p&&x&&x({action:v,location:W.location,delta:1})}function j(re,ye){v=nn.Replace;let ue=ms(W.location,re,ye);E=_();let le=zf(ue,E),oe=W.createHref(ue);g.replaceState(le,"",oe),p&&x&&x({action:v,location:W.location,delta:0})}function D(re){let ye=c.location.origin!=="null"?c.location.origin:c.location.href,ue=typeof re=="string"?re:Ao(re);return ue=ue.replace(/ $/,"%20"),bt(ye,"No window.location.(origin|href) available to create URL for href: "+ue),new URL(ue,ye)}let W={get action(){return v},get location(){return a(c,g)},listen(re){if(x)throw new Error("A history only accepts one active listener");return c.addEventListener(Uf,k),x=re,()=>{c.removeEventListener(Uf,k),x=null}},createHref(re){return r(c,re)},createURL:D,encodeLocation(re){let ye=D(re);return{pathname:ye.pathname,search:ye.search,hash:ye.hash}},push:O,replace:j,go(re){return g.go(re)}};return W}var Dt;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(Dt||(Dt={}));const zm=new Set(["lazy","caseSensitive","path","id","index","children"]);function Hm(a){return a.index===!0}function Al(a,r,o,l){return o===void 0&&(o=[]),l===void 0&&(l={}),a.map((c,p)=>{let g=[...o,String(p)],v=typeof c.id=="string"?c.id:g.join("-");if(bt(c.index!==!0||!c.children,"Cannot specify children on an index route"),bt(!l[v],'Found a route id collision on id "'+v+`".  Route id's must be globally unique within Data Router usages`),Hm(c)){let x=Kt({},c,r(c),{id:v});return l[v]=x,x}else{let x=Kt({},c,r(c),{id:v,children:void 0});return l[v]=x,c.children&&(x.children=Al(c.children,r,g,l)),x}})}function To(a,r,o){return o===void 0&&(o="/"),Dl(a,r,o,!1)}function Dl(a,r,o,l){let c=typeof r=="string"?Za(r):r,p=ga(c.pathname||"/",o);if(p==null)return null;let g=Hp(a);Vm(g);let v=null;for(let x=0;v==null&&x<g.length;++x){let E=tg(p);v=Zm(g[x],E,l)}return v}function $m(a,r){let{route:o,pathname:l,params:c}=a;return{id:o.id,pathname:l,params:c,data:r[o.id],handle:o.handle}}function Hp(a,r,o,l){r===void 0&&(r=[]),o===void 0&&(o=[]),l===void 0&&(l="");let c=(p,g,v)=>{let x={relativePath:v===void 0?p.path||"":v,caseSensitive:p.caseSensitive===!0,childrenIndex:g,route:p};x.relativePath.startsWith("/")&&(bt(x.relativePath.startsWith(l),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(l.length));let E=ma([l,x.relativePath]),_=o.concat(x);p.children&&p.children.length>0&&(bt(p.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+E+'".')),Hp(p.children,r,_,E)),!(p.path==null&&!p.index)&&r.push({path:E,score:Xm(E,p.index),routesMeta:_})};return a.forEach((p,g)=>{var v;if(p.path===""||!((v=p.path)!=null&&v.includes("?")))c(p,g);else for(let x of $p(p.path))c(p,g,x)}),r}function $p(a){let r=a.split("/");if(r.length===0)return[];let[o,...l]=r,c=o.endsWith("?"),p=o.replace(/\?$/,"");if(l.length===0)return c?[p,""]:[p];let g=$p(l.join("/")),v=[];return v.push(...g.map(x=>x===""?p:[p,x].join("/"))),c&&v.push(...g),v.map(x=>a.startsWith("/")&&x===""?"/":x)}function Vm(a){a.sort((r,o)=>r.score!==o.score?o.score-r.score:Jm(r.routesMeta.map(l=>l.childrenIndex),o.routesMeta.map(l=>l.childrenIndex)))}const Km=/^:[\w-]+$/,qm=3,Wm=2,Ym=1,Qm=10,Gm=-2,Hf=a=>a==="*";function Xm(a,r){let o=a.split("/"),l=o.length;return o.some(Hf)&&(l+=Gm),r&&(l+=Wm),o.filter(c=>!Hf(c)).reduce((c,p)=>c+(Km.test(p)?qm:p===""?Ym:Qm),l)}function Jm(a,r){return a.length===r.length&&a.slice(0,-1).every((l,c)=>l===r[c])?a[a.length-1]-r[r.length-1]:0}function Zm(a,r,o){o===void 0&&(o=!1);let{routesMeta:l}=a,c={},p="/",g=[];for(let v=0;v<l.length;++v){let x=l[v],E=v===l.length-1,_=p==="/"?r:r.slice(p.length)||"/",k=Il({path:x.relativePath,caseSensitive:x.caseSensitive,end:E},_),O=x.route;if(!k&&E&&o&&!l[l.length-1].route.index&&(k=Il({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},_)),!k)return null;Object.assign(c,k.params),g.push({params:c,pathname:ma([p,k.pathname]),pathnameBase:og(ma([p,k.pathnameBase])),route:O}),k.pathnameBase!=="/"&&(p=ma([p,k.pathnameBase]))}return g}function Il(a,r){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[o,l]=eg(a.path,a.caseSensitive,a.end),c=r.match(o);if(!c)return null;let p=c[0],g=p.replace(/(.)\/+$/,"$1"),v=c.slice(1);return{params:l.reduce((E,_,k)=>{let{paramName:O,isOptional:j}=_;if(O==="*"){let W=v[k]||"";g=p.slice(0,p.length-W.length).replace(/(.)\/+$/,"$1")}const D=v[k];return j&&!D?E[O]=void 0:E[O]=(D||"").replace(/%2F/g,"/"),E},{}),pathname:p,pathnameBase:g,pattern:a}}function eg(a,r,o){r===void 0&&(r=!1),o===void 0&&(o=!0),Lo(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let l=[],c="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,v,x)=>(l.push({paramName:v,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(l.push({paramName:"*"}),c+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":a!==""&&a!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),l]}function tg(a){try{return a.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Lo(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),a}}function ga(a,r){if(r==="/")return a;if(!a.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,l=a.charAt(o);return l&&l!=="/"?null:a.slice(o)||"/"}const ng=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rg=a=>ng.test(a);function ag(a,r){r===void 0&&(r="/");let{pathname:o,search:l="",hash:c=""}=typeof a=="string"?Za(a):a,p;if(o)if(rg(o))p=o;else{if(o.includes("//")){let g=o;o=o.replace(/\/\/+/g,"/"),Lo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(g+" -> "+o))}o.startsWith("/")?p=$f(o.substring(1),"/"):p=$f(o,r)}else p=r;return{pathname:p,search:ig(l),hash:sg(c)}}function $f(a,r){let o=r.replace(/\/+$/,"").split("/");return a.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function hc(a,r,o,l){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vp(a){return a.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function Lc(a,r){let o=Vp(a);return r?o.map((l,c)=>c===o.length-1?l.pathname:l.pathnameBase):o.map(l=>l.pathnameBase)}function Ac(a,r,o,l){l===void 0&&(l=!1);let c;typeof a=="string"?c=Za(a):(c=Kt({},a),bt(!c.pathname||!c.pathname.includes("?"),hc("?","pathname","search",c)),bt(!c.pathname||!c.pathname.includes("#"),hc("#","pathname","hash",c)),bt(!c.search||!c.search.includes("#"),hc("#","search","hash",c)));let p=a===""||c.pathname==="",g=p?"/":c.pathname,v;if(g==null)v=o;else{let k=r.length-1;if(!l&&g.startsWith("..")){let O=g.split("/");for(;O[0]==="..";)O.shift(),k-=1;c.pathname=O.join("/")}v=k>=0?r[k]:"/"}let x=ag(c,v),E=g&&g!=="/"&&g.endsWith("/"),_=(p||g===".")&&o.endsWith("/");return!x.pathname.endsWith("/")&&(E||_)&&(x.pathname+="/"),x}const ma=a=>a.join("/").replace(/\/\/+/g,"/"),og=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),ig=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,sg=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;class Ml{constructor(r,o,l,c){c===void 0&&(c=!1),this.status=r,this.statusText=o||"",this.internal=c,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}}function gs(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const Kp=["post","put","patch","delete"],lg=new Set(Kp),ug=["get",...Kp],cg=new Set(ug),dg=new Set([301,302,303,307,308]),fg=new Set([307,308]),mc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pg={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ls={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ic=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hg=a=>({hasErrorBoundary:!!a.hasErrorBoundary}),qp="remix-router-transitions";function mg(a){const r=a.window?a.window:typeof window<"u"?window:void 0,o=typeof r<"u"&&typeof r.document<"u"&&typeof r.document.createElement<"u",l=!o;bt(a.routes.length>0,"You must provide a non-empty routes array to createRouter");let c;if(a.mapRouteProperties)c=a.mapRouteProperties;else if(a.detectErrorBoundary){let T=a.detectErrorBoundary;c=U=>({hasErrorBoundary:T(U)})}else c=hg;let p={},g=Al(a.routes,c,void 0,p),v,x=a.basename||"/",E=a.dataStrategy||xg,_=a.patchRoutesOnNavigation,k=Kt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},a.future),O=null,j=new Set,D=null,W=null,re=null,ye=a.hydrationData!=null,ue=To(g,a.history.location,x),le=!1,oe=null;if(ue==null&&!_){let T=Gn(404,{pathname:a.history.location.pathname}),{matches:U,route:J}=ep(g);ue=U,oe={[J.id]:T}}ue&&!a.hydrationData&&Xr(ue,g,a.history.location.pathname).active&&(ue=null);let Be;if(ue)if(ue.some(T=>T.route.lazy))Be=!1;else if(!ue.some(T=>T.route.loader))Be=!0;else if(k.v7_partialHydration){let T=a.hydrationData?a.hydrationData.loaderData:null,U=a.hydrationData?a.hydrationData.errors:null;if(U){let J=ue.findIndex(ce=>U[ce.route.id]!==void 0);Be=ue.slice(0,J+1).every(ce=>!Cc(ce.route,T,U))}else Be=ue.every(J=>!Cc(J.route,T,U))}else Be=a.hydrationData!=null;else if(Be=!1,ue=[],k.v7_partialHydration){let T=Xr(null,g,a.history.location.pathname);T.active&&T.matches&&(le=!0,ue=T.matches)}let We,V={historyAction:a.history.action,location:a.history.location,matches:ue,initialized:Be,navigation:mc,restoreScrollPosition:a.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:a.hydrationData&&a.hydrationData.loaderData||{},actionData:a.hydrationData&&a.hydrationData.actionData||null,errors:a.hydrationData&&a.hydrationData.errors||oe,fetchers:new Map,blockers:new Map},Ne=nn.Pop,Oe=!1,_e,dt=!1,je=new Map,we=null,be=!1,nt=!1,rt=[],it=new Set,se=new Map,De=0,Y=-1,P=new Map,G=new Set,Se=new Map,ge=new Map,He=new Set,ie=new Map,Me=new Map,Ze;function ut(){if(O=a.history.listen(T=>{let{action:U,location:J,delta:ce}=T;if(Ze){Ze(),Ze=void 0;return}Lo(Me.size===0||ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ke=Te({currentLocation:V.location,nextLocation:J,historyAction:U});if(ke&&ce!=null){let Qe=new Promise(at=>{Ze=at});a.history.go(ce*-1),Zn(ke,{state:"blocked",location:J,proceed(){Zn(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),Qe.then(()=>a.history.go(ce))},reset(){let at=new Map(V.blockers);at.set(ke,ls),tt({blockers:at})}});return}return et(U,J)}),o){Dg(r,je);let T=()=>Lg(r,je);r.addEventListener("pagehide",T),we=()=>r.removeEventListener("pagehide",T)}return V.initialized||et(nn.Pop,V.location,{initialHydration:!0}),We}function Pe(){O&&O(),we&&we(),j.clear(),_e&&_e.abort(),V.fetchers.forEach((T,U)=>Dn(U)),V.blockers.forEach((T,U)=>Hn(U))}function rn(T){return j.add(T),()=>j.delete(T)}function tt(T,U){U===void 0&&(U={}),V=Kt({},V,T);let J=[],ce=[];k.v7_fetcherPersist&&V.fetchers.forEach((ke,Qe)=>{ke.state==="idle"&&(He.has(Qe)?ce.push(Qe):J.push(Qe))}),He.forEach(ke=>{!V.fetchers.has(ke)&&!se.has(ke)&&ce.push(ke)}),[...j].forEach(ke=>ke(V,{deletedFetchers:ce,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),k.v7_fetcherPersist?(J.forEach(ke=>V.fetchers.delete(ke)),ce.forEach(ke=>Dn(ke))):ce.forEach(ke=>He.delete(ke))}function ht(T,U,J){var ce,ke;let{flushSync:Qe}=J===void 0?{}:J,at=V.actionData!=null&&V.navigation.formMethod!=null&&Ir(V.navigation.formMethod)&&V.navigation.state==="loading"&&((ce=T.state)==null?void 0:ce._isRedirect)!==!0,Ke;U.actionData?Object.keys(U.actionData).length>0?Ke=U.actionData:Ke=null:at?Ke=V.actionData:Ke=null;let Ue=U.loaderData?Jf(V.loaderData,U.loaderData,U.matches||[],U.errors):V.loaderData,Fe=V.blockers;Fe.size>0&&(Fe=new Map(Fe),Fe.forEach((xt,Lt)=>Fe.set(Lt,ls)));let Ie=Oe===!0||V.navigation.formMethod!=null&&Ir(V.navigation.formMethod)&&((ke=T.state)==null?void 0:ke._isRedirect)!==!0;v&&(g=v,v=void 0),be||Ne===nn.Pop||(Ne===nn.Push?a.history.push(T,T.state):Ne===nn.Replace&&a.history.replace(T,T.state));let ct;if(Ne===nn.Pop){let xt=je.get(V.location.pathname);xt&&xt.has(T.pathname)?ct={currentLocation:V.location,nextLocation:T}:je.has(T.pathname)&&(ct={currentLocation:T,nextLocation:V.location})}else if(dt){let xt=je.get(V.location.pathname);xt?xt.add(T.pathname):(xt=new Set([T.pathname]),je.set(V.location.pathname,xt)),ct={currentLocation:V.location,nextLocation:T}}tt(Kt({},U,{actionData:Ke,loaderData:Ue,historyAction:Ne,location:T,initialized:!0,navigation:mc,revalidation:"idle",restoreScrollPosition:ro(T,U.matches||V.matches),preventScrollReset:Ie,blockers:Fe}),{viewTransitionOpts:ct,flushSync:Qe===!0}),Ne=nn.Pop,Oe=!1,dt=!1,be=!1,nt=!1,rt=[]}async function qt(T,U){if(typeof T=="number"){a.history.go(T);return}let J=kc(V.location,V.matches,x,k.v7_prependBasename,T,k.v7_relativeSplatPath,U==null?void 0:U.fromRouteId,U==null?void 0:U.relative),{path:ce,submission:ke,error:Qe}=Vf(k.v7_normalizeFormMethod,!1,J,U),at=V.location,Ke=ms(V.location,ce,U&&U.state);Ke=Kt({},Ke,a.history.encodeLocation(Ke));let Ue=U&&U.replace!=null?U.replace:void 0,Fe=nn.Push;Ue===!0?Fe=nn.Replace:Ue===!1||ke!=null&&Ir(ke.formMethod)&&ke.formAction===V.location.pathname+V.location.search&&(Fe=nn.Replace);let Ie=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,ct=(U&&U.flushSync)===!0,xt=Te({currentLocation:at,nextLocation:Ke,historyAction:Fe});if(xt){Zn(xt,{state:"blocked",location:Ke,proceed(){Zn(xt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ke}),qt(T,U)},reset(){let Lt=new Map(V.blockers);Lt.set(xt,ls),tt({blockers:Lt})}});return}return await et(Fe,Ke,{submission:ke,pendingError:Qe,preventScrollReset:Ie,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:ct})}function Re(){if(On(),tt({revalidation:"loading"}),V.navigation.state!=="submitting"){if(V.navigation.state==="idle"){et(V.historyAction,V.location,{startUninterruptedRevalidation:!0});return}et(Ne||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:dt===!0})}}async function et(T,U,J){_e&&_e.abort(),_e=null,Ne=T,be=(J&&J.startUninterruptedRevalidation)===!0,ba(V.location,V.matches),Oe=(J&&J.preventScrollReset)===!0,dt=(J&&J.enableViewTransition)===!0;let ce=v||g,ke=J&&J.overrideNavigation,Qe=J!=null&&J.initialHydration&&V.matches&&V.matches.length>0&&!le?V.matches:To(ce,U,x),at=(J&&J.flushSync)===!0;if(Qe&&V.initialized&&!nt&&Cg(V.location,U)&&!(J&&J.submission&&Ir(J.submission.formMethod))){ht(U,{matches:Qe},{flushSync:at});return}let Ke=Xr(Qe,ce,U.pathname);if(Ke.active&&Ke.matches&&(Qe=Ke.matches),!Qe){let{error:Pt,notFoundMatches:gt,route:At}=$n(U.pathname);ht(U,{matches:gt,loaderData:{},errors:{[At.id]:Pt}},{flushSync:at});return}_e=new AbortController;let Ue=gi(a.history,U,_e.signal,J&&J.submission),Fe;if(J&&J.pendingError)Fe=[Oo(Qe).route.id,{type:Dt.error,error:J.pendingError}];else if(J&&J.submission&&Ir(J.submission.formMethod)){let Pt=await kt(Ue,U,J.submission,Qe,Ke.active,{replace:J.replace,flushSync:at});if(Pt.shortCircuited)return;if(Pt.pendingActionResult){let[gt,At]=Pt.pendingActionResult;if(sr(At)&&gs(At.error)&&At.error.status===404){_e=null,ht(U,{matches:Pt.matches,loaderData:{},errors:{[gt]:At.error}});return}}Qe=Pt.matches||Qe,Fe=Pt.pendingActionResult,ke=gc(U,J.submission),at=!1,Ke.active=!1,Ue=gi(a.history,Ue.url,Ue.signal)}let{shortCircuited:Ie,matches:ct,loaderData:xt,errors:Lt}=await fn(Ue,U,Qe,Ke.active,ke,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,at,Fe);Ie||(_e=null,ht(U,Kt({matches:ct||Qe},Zf(Fe),{loaderData:xt,errors:Lt})))}async function kt(T,U,J,ce,ke,Qe){Qe===void 0&&(Qe={}),On();let at=Tg(U,J);if(tt({navigation:at},{flushSync:Qe.flushSync===!0}),ke){let Fe=await Ln(ce,U.pathname,T.signal);if(Fe.type==="aborted")return{shortCircuited:!0};if(Fe.type==="error"){let Ie=Oo(Fe.partialMatches).route.id;return{matches:Fe.partialMatches,pendingActionResult:[Ie,{type:Dt.error,error:Fe.error}]}}else if(Fe.matches)ce=Fe.matches;else{let{notFoundMatches:Ie,error:ct,route:xt}=$n(U.pathname);return{matches:Ie,pendingActionResult:[xt.id,{type:Dt.error,error:ct}]}}}let Ke,Ue=fs(ce,U);if(!Ue.route.action&&!Ue.route.lazy)Ke={type:Dt.error,error:Gn(405,{method:T.method,pathname:U.pathname,routeId:Ue.route.id})};else if(Ke=(await zn("action",V,T,[Ue],ce,null))[Ue.route.id],T.signal.aborted)return{shortCircuited:!0};if(Do(Ke)){let Fe;return Qe&&Qe.replace!=null?Fe=Qe.replace:Fe=Qf(Ke.response.headers.get("Location"),new URL(T.url),x,a.history)===V.location.pathname+V.location.search,await Xn(T,Ke,!0,{submission:J,replace:Fe}),{shortCircuited:!0}}if(Xa(Ke))throw Gn(400,{type:"defer-action"});if(sr(Ke)){let Fe=Oo(ce,Ue.route.id);return(Qe&&Qe.replace)!==!0&&(Ne=nn.Push),{matches:ce,pendingActionResult:[Fe.route.id,Ke]}}return{matches:ce,pendingActionResult:[Ue.route.id,Ke]}}async function fn(T,U,J,ce,ke,Qe,at,Ke,Ue,Fe,Ie){let ct=ke||gc(U,Qe),xt=Qe||at||np(ct),Lt=!be&&(!k.v7_partialHydration||!Ue);if(ce){if(Lt){let Tt=ur(Ie);tt(Kt({navigation:ct},Tt!==void 0?{actionData:Tt}:{}),{flushSync:Fe})}let mt=await Ln(J,U.pathname,T.signal);if(mt.type==="aborted")return{shortCircuited:!0};if(mt.type==="error"){let Tt=Oo(mt.partialMatches).route.id;return{matches:mt.partialMatches,loaderData:{},errors:{[Tt]:mt.error}}}else if(mt.matches)J=mt.matches;else{let{error:Tt,notFoundMatches:Gt,route:Br}=$n(U.pathname);return{matches:Gt,loaderData:{},errors:{[Br.id]:Tt}}}}let Pt=v||g,[gt,At]=qf(a.history,V,J,xt,U,k.v7_partialHydration&&Ue===!0,k.v7_skipActionErrorRevalidation,nt,rt,it,He,Se,G,Pt,x,Ie);if(er(mt=>!(J&&J.some(Tt=>Tt.route.id===mt))||gt&&gt.some(Tt=>Tt.route.id===mt)),Y=++De,gt.length===0&&At.length===0){let mt=Jn();return ht(U,Kt({matches:J,loaderData:{},errors:Ie&&sr(Ie[1])?{[Ie[0]]:Ie[1].error}:null},Zf(Ie),mt?{fetchers:new Map(V.fetchers)}:{}),{flushSync:Fe}),{shortCircuited:!0}}if(Lt){let mt={};if(!ce){mt.navigation=ct;let Tt=ur(Ie);Tt!==void 0&&(mt.actionData=Tt)}At.length>0&&(mt.fetchers=en(At)),tt(mt,{flushSync:Fe})}At.forEach(mt=>{Cn(mt.key),mt.controller&&se.set(mt.key,mt.controller)});let tr=()=>At.forEach(mt=>Cn(mt.key));_e&&_e.signal.addEventListener("abort",tr);let{loaderResults:Ot,fetcherResults:sn}=await on(V,J,gt,At,T);if(T.signal.aborted)return{shortCircuited:!0};_e&&_e.signal.removeEventListener("abort",tr),At.forEach(mt=>se.delete(mt.key));let yt=Rl(Ot);if(yt)return await Xn(T,yt.result,!0,{replace:Ke}),{shortCircuited:!0};if(yt=Rl(sn),yt)return G.add(yt.key),await Xn(T,yt.result,!0,{replace:Ke}),{shortCircuited:!0};let{loaderData:Sa,errors:Nn}=Xf(V,J,Ot,Ie,At,sn,ie);ie.forEach((mt,Tt)=>{mt.subscribe(Gt=>{(Gt||mt.done)&&ie.delete(Tt)})}),k.v7_partialHydration&&Ue&&V.errors&&(Nn=Kt({},V.errors,Nn));let An=Jn(),nr=Ye(Y),Fr=An||nr||At.length>0;return Kt({matches:J,loaderData:Sa,errors:Nn},Fr?{fetchers:new Map(V.fetchers)}:{})}function ur(T){if(T&&!sr(T[1]))return{[T[0]]:T[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function en(T){return T.forEach(U=>{let J=V.fetchers.get(U.key),ce=us(void 0,J?J.data:void 0);V.fetchers.set(U.key,ce)}),new Map(V.fetchers)}function an(T,U,J,ce){if(l)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Cn(T);let ke=(ce&&ce.flushSync)===!0,Qe=v||g,at=kc(V.location,V.matches,x,k.v7_prependBasename,J,k.v7_relativeSplatPath,U,ce==null?void 0:ce.relative),Ke=To(Qe,at,x),Ue=Xr(Ke,Qe,at);if(Ue.active&&Ue.matches&&(Ke=Ue.matches),!Ke){pn(T,U,Gn(404,{pathname:at}),{flushSync:ke});return}let{path:Fe,submission:Ie,error:ct}=Vf(k.v7_normalizeFormMethod,!0,at,ce);if(ct){pn(T,U,ct,{flushSync:ke});return}let xt=fs(Ke,Fe),Lt=(ce&&ce.preventScrollReset)===!0;if(Ie&&Ir(Ie.formMethod)){va(T,U,Fe,xt,Ke,Ue.active,ke,Lt,Ie);return}Se.set(T,{routeId:U,path:Fe}),Mr(T,U,Fe,xt,Ke,Ue.active,ke,Lt,Ie)}async function va(T,U,J,ce,ke,Qe,at,Ke,Ue){On(),Se.delete(T);function Fe(Ve){if(!Ve.route.action&&!Ve.route.lazy){let Sr=Gn(405,{method:Ue.formMethod,pathname:J,routeId:U});return pn(T,U,Sr,{flushSync:at}),!0}return!1}if(!Qe&&Fe(ce))return;let Ie=V.fetchers.get(T);wn(T,Og(Ue,Ie),{flushSync:at});let ct=new AbortController,xt=gi(a.history,J,ct.signal,Ue);if(Qe){let Ve=await Ln(ke,new URL(xt.url).pathname,xt.signal,T);if(Ve.type==="aborted")return;if(Ve.type==="error"){pn(T,U,Ve.error,{flushSync:at});return}else if(Ve.matches){if(ke=Ve.matches,ce=fs(ke,J),Fe(ce))return}else{pn(T,U,Gn(404,{pathname:J}),{flushSync:at});return}}se.set(T,ct);let Lt=De,gt=(await zn("action",V,xt,[ce],ke,T))[ce.route.id];if(xt.signal.aborted){se.get(T)===ct&&se.delete(T);return}if(k.v7_fetcherPersist&&He.has(T)){if(Do(gt)||sr(gt)){wn(T,Ga(void 0));return}}else{if(Do(gt))if(se.delete(T),Y>Lt){wn(T,Ga(void 0));return}else return G.add(T),wn(T,us(Ue)),Xn(xt,gt,!1,{fetcherSubmission:Ue,preventScrollReset:Ke});if(sr(gt)){pn(T,U,gt.error);return}}if(Xa(gt))throw Gn(400,{type:"defer-action"});let At=V.navigation.location||V.location,tr=gi(a.history,At,ct.signal),Ot=v||g,sn=V.navigation.state!=="idle"?To(Ot,V.navigation.location,x):V.matches;bt(sn,"Didn't find any matches after fetcher action");let yt=++De;P.set(T,yt);let Sa=us(Ue,gt.data);V.fetchers.set(T,Sa);let[Nn,An]=qf(a.history,V,sn,Ue,At,!1,k.v7_skipActionErrorRevalidation,nt,rt,it,He,Se,G,Ot,x,[ce.route.id,gt]);An.filter(Ve=>Ve.key!==T).forEach(Ve=>{let Sr=Ve.key,ao=V.fetchers.get(Sr),Ea=us(void 0,ao?ao.data:void 0);V.fetchers.set(Sr,Ea),Cn(Sr),Ve.controller&&se.set(Sr,Ve.controller)}),tt({fetchers:new Map(V.fetchers)});let nr=()=>An.forEach(Ve=>Cn(Ve.key));ct.signal.addEventListener("abort",nr);let{loaderResults:Fr,fetcherResults:mt}=await on(V,sn,Nn,An,tr);if(ct.signal.aborted)return;ct.signal.removeEventListener("abort",nr),P.delete(T),se.delete(T),An.forEach(Ve=>se.delete(Ve.key));let Tt=Rl(Fr);if(Tt)return Xn(tr,Tt.result,!1,{preventScrollReset:Ke});if(Tt=Rl(mt),Tt)return G.add(Tt.key),Xn(tr,Tt.result,!1,{preventScrollReset:Ke});let{loaderData:Gt,errors:Br}=Xf(V,sn,Fr,void 0,An,mt,ie);if(V.fetchers.has(T)){let Ve=Ga(gt.data);V.fetchers.set(T,Ve)}Ye(yt),V.navigation.state==="loading"&&yt>Y?(bt(Ne,"Expected pending action"),_e&&_e.abort(),ht(V.navigation.location,{matches:sn,loaderData:Gt,errors:Br,fetchers:new Map(V.fetchers)})):(tt({errors:Br,loaderData:Jf(V.loaderData,Gt,sn,Br),fetchers:new Map(V.fetchers)}),nt=!1)}async function Mr(T,U,J,ce,ke,Qe,at,Ke,Ue){let Fe=V.fetchers.get(T);wn(T,us(Ue,Fe?Fe.data:void 0),{flushSync:at});let Ie=new AbortController,ct=gi(a.history,J,Ie.signal);if(Qe){let gt=await Ln(ke,new URL(ct.url).pathname,ct.signal,T);if(gt.type==="aborted")return;if(gt.type==="error"){pn(T,U,gt.error,{flushSync:at});return}else if(gt.matches)ke=gt.matches,ce=fs(ke,J);else{pn(T,U,Gn(404,{pathname:J}),{flushSync:at});return}}se.set(T,Ie);let xt=De,Pt=(await zn("loader",V,ct,[ce],ke,T))[ce.route.id];if(Xa(Pt)&&(Pt=await Mc(Pt,ct.signal,!0)||Pt),se.get(T)===Ie&&se.delete(T),!ct.signal.aborted){if(He.has(T)){wn(T,Ga(void 0));return}if(Do(Pt))if(Y>xt){wn(T,Ga(void 0));return}else{G.add(T),await Xn(ct,Pt,!1,{preventScrollReset:Ke});return}if(sr(Pt)){pn(T,U,Pt.error);return}bt(!Xa(Pt),"Unhandled fetcher deferred data"),wn(T,Ga(Pt.data))}}async function Xn(T,U,J,ce){let{submission:ke,fetcherSubmission:Qe,preventScrollReset:at,replace:Ke}=ce===void 0?{}:ce;U.response.headers.has("X-Remix-Revalidate")&&(nt=!0);let Ue=U.response.headers.get("Location");bt(Ue,"Expected a Location header on the redirect Response"),Ue=Qf(Ue,new URL(T.url),x,a.history);let Fe=ms(V.location,Ue,{_isRedirect:!0});if(o){let gt=!1;if(U.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(Ic.test(Ue)){const At=a.history.createURL(Ue);gt=At.origin!==r.location.origin||ga(At.pathname,x)==null}if(gt){Ke?r.location.replace(Ue):r.location.assign(Ue);return}}_e=null;let Ie=Ke===!0||U.response.headers.has("X-Remix-Replace")?nn.Replace:nn.Push,{formMethod:ct,formAction:xt,formEncType:Lt}=V.navigation;!ke&&!Qe&&ct&&xt&&Lt&&(ke=np(V.navigation));let Pt=ke||Qe;if(fg.has(U.response.status)&&Pt&&Ir(Pt.formMethod))await et(Ie,Fe,{submission:Kt({},Pt,{formAction:Ue}),preventScrollReset:at||Oe,enableViewTransition:J?dt:void 0});else{let gt=gc(Fe,ke);await et(Ie,Fe,{overrideNavigation:gt,fetcherSubmission:Qe,preventScrollReset:at||Oe,enableViewTransition:J?dt:void 0})}}async function zn(T,U,J,ce,ke,Qe){let at,Ke={};try{at=await wg(E,T,U,J,ce,ke,Qe,p,c)}catch(Ue){return ce.forEach(Fe=>{Ke[Fe.route.id]={type:Dt.error,error:Ue}}),Ke}for(let[Ue,Fe]of Object.entries(at))if(Ng(Fe)){let Ie=Fe.result;Ke[Ue]={type:Dt.redirect,response:Eg(Ie,J,Ue,ke,x,k.v7_relativeSplatPath)}}else Ke[Ue]=await Sg(Fe);return Ke}async function on(T,U,J,ce,ke){let Qe=T.matches,at=zn("loader",T,ke,J,U,null),Ke=Promise.all(ce.map(async Ie=>{if(Ie.matches&&Ie.match&&Ie.controller){let xt=(await zn("loader",T,gi(a.history,Ie.path,Ie.controller.signal),[Ie.match],Ie.matches,Ie.key))[Ie.match.route.id];return{[Ie.key]:xt}}else return Promise.resolve({[Ie.key]:{type:Dt.error,error:Gn(404,{pathname:Ie.path})}})})),Ue=await at,Fe=(await Ke).reduce((Ie,ct)=>Object.assign(Ie,ct),{});return await Promise.all([Rg(U,Ue,ke.signal,Qe,T.loaderData),jg(U,Fe,ce)]),{loaderResults:Ue,fetcherResults:Fe}}function On(){nt=!0,rt.push(...er()),Se.forEach((T,U)=>{se.has(U)&&it.add(U),Cn(U)})}function wn(T,U,J){J===void 0&&(J={}),V.fetchers.set(T,U),tt({fetchers:new Map(V.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function pn(T,U,J,ce){ce===void 0&&(ce={});let ke=Oo(V.matches,U);Dn(T),tt({errors:{[ke.route.id]:J},fetchers:new Map(V.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function cr(T){return ge.set(T,(ge.get(T)||0)+1),He.has(T)&&He.delete(T),V.fetchers.get(T)||pg}function Dn(T){let U=V.fetchers.get(T);se.has(T)&&!(U&&U.state==="loading"&&P.has(T))&&Cn(T),Se.delete(T),P.delete(T),G.delete(T),k.v7_fetcherPersist&&He.delete(T),it.delete(T),V.fetchers.delete(T)}function vr(T){let U=(ge.get(T)||0)-1;U<=0?(ge.delete(T),He.add(T),k.v7_fetcherPersist||Dn(T)):ge.set(T,U),tt({fetchers:new Map(V.fetchers)})}function Cn(T){let U=se.get(T);U&&(U.abort(),se.delete(T))}function Gr(T){for(let U of T){let J=cr(U),ce=Ga(J.data);V.fetchers.set(U,ce)}}function Jn(){let T=[],U=!1;for(let J of G){let ce=V.fetchers.get(J);bt(ce,"Expected fetcher: "+J),ce.state==="loading"&&(G.delete(J),T.push(J),U=!0)}return Gr(T),U}function Ye(T){let U=[];for(let[J,ce]of P)if(ce<T){let ke=V.fetchers.get(J);bt(ke,"Expected fetcher: "+J),ke.state==="loading"&&(Cn(J),P.delete(J),U.push(J))}return Gr(U),U.length>0}function xr(T,U){let J=V.blockers.get(T)||ls;return Me.get(T)!==U&&Me.set(T,U),J}function Hn(T){V.blockers.delete(T),Me.delete(T)}function Zn(T,U){let J=V.blockers.get(T)||ls;bt(J.state==="unblocked"&&U.state==="blocked"||J.state==="blocked"&&U.state==="blocked"||J.state==="blocked"&&U.state==="proceeding"||J.state==="blocked"&&U.state==="unblocked"||J.state==="proceeding"&&U.state==="unblocked","Invalid blocker state transition: "+J.state+" -> "+U.state);let ce=new Map(V.blockers);ce.set(T,U),tt({blockers:ce})}function Te(T){let{currentLocation:U,nextLocation:J,historyAction:ce}=T;if(Me.size===0)return;Me.size>1&&Lo(!1,"A router only supports one blocker at a time");let ke=Array.from(Me.entries()),[Qe,at]=ke[ke.length-1],Ke=V.blockers.get(Qe);if(!(Ke&&Ke.state==="proceeding")&&at({currentLocation:U,nextLocation:J,historyAction:ce}))return Qe}function $n(T){let U=Gn(404,{pathname:T}),J=v||g,{matches:ce,route:ke}=ep(J);return er(),{notFoundMatches:ce,route:ke,error:U}}function er(T){let U=[];return ie.forEach((J,ce)=>{(!T||T(ce))&&(J.cancel(),U.push(ce),ie.delete(ce))}),U}function xa(T,U,J){if(D=T,re=U,W=J||null,!ye&&V.navigation===mc){ye=!0;let ce=ro(V.location,V.matches);ce!=null&&tt({restoreScrollPosition:ce})}return()=>{D=null,re=null,W=null}}function wa(T,U){return W&&W(T,U.map(ce=>$m(ce,V.loaderData)))||T.key}function ba(T,U){if(D&&re){let J=wa(T,U);D[J]=re()}}function ro(T,U){if(D){let J=wa(T,U),ce=D[J];if(typeof ce=="number")return ce}return null}function Xr(T,U,J){if(_)if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:Dl(U,J,x,!0)}}else return{active:!0,matches:Dl(U,J,x,!0)||[]};return{active:!1,matches:null}}async function Ln(T,U,J,ce){if(!_)return{type:"success",matches:T};let ke=T;for(;;){let Qe=v==null,at=v||g,Ke=p;try{await _({signal:J,path:U,matches:ke,fetcherKey:ce,patch:(Ie,ct)=>{J.aborted||Yf(Ie,ct,at,Ke,c)}})}catch(Ie){return{type:"error",error:Ie,partialMatches:ke}}finally{Qe&&!J.aborted&&(g=[...g])}if(J.aborted)return{type:"aborted"};let Ue=To(at,U,x);if(Ue)return{type:"success",matches:Ue};let Fe=Dl(at,U,x,!0);if(!Fe||ke.length===Fe.length&&ke.every((Ie,ct)=>Ie.route.id===Fe[ct].route.id))return{type:"success",matches:null};ke=Fe}}function wr(T){p={},v=Al(T,c,void 0,p)}function br(T,U){let J=v==null;Yf(T,U,v||g,p,c),J&&(g=[...g],tt({}))}return We={get basename(){return x},get future(){return k},get state(){return V},get routes(){return g},get window(){return r},initialize:ut,subscribe:rn,enableScrollRestoration:xa,navigate:qt,fetch:an,revalidate:Re,createHref:T=>a.history.createHref(T),encodeLocation:T=>a.history.encodeLocation(T),getFetcher:cr,deleteFetcher:vr,dispose:Pe,getBlocker:xr,deleteBlocker:Hn,patchRoutes:br,_internalFetchControllers:se,_internalActiveDeferreds:ie,_internalSetRoutes:wr},We}function gg(a){return a!=null&&("formData"in a&&a.formData!=null||"body"in a&&a.body!==void 0)}function kc(a,r,o,l,c,p,g,v){let x,E;if(g){x=[];for(let k of r)if(x.push(k),k.route.id===g){E=k;break}}else x=r,E=r[r.length-1];let _=Ac(c||".",Lc(x,p),ga(a.pathname,o)||a.pathname,v==="path");if(c==null&&(_.search=a.search,_.hash=a.hash),(c==null||c===""||c===".")&&E){let k=Fc(_.search);if(E.route.index&&!k)_.search=_.search?_.search.replace(/^\?/,"?index&"):"?index";else if(!E.route.index&&k){let O=new URLSearchParams(_.search),j=O.getAll("index");O.delete("index"),j.filter(W=>W).forEach(W=>O.append("index",W));let D=O.toString();_.search=D?"?"+D:""}}return l&&o!=="/"&&(_.pathname=_.pathname==="/"?o:ma([o,_.pathname])),Ao(_)}function Vf(a,r,o,l){if(!l||!gg(l))return{path:o};if(l.formMethod&&!Pg(l.formMethod))return{path:o,error:Gn(405,{method:l.formMethod})};let c=()=>({path:o,error:Gn(400,{type:"invalid-body"})}),p=l.formMethod||"get",g=a?p.toUpperCase():p.toLowerCase(),v=Qp(o);if(l.body!==void 0){if(l.formEncType==="text/plain"){if(!Ir(g))return c();let O=typeof l.body=="string"?l.body:l.body instanceof FormData||l.body instanceof URLSearchParams?Array.from(l.body.entries()).reduce((j,D)=>{let[W,re]=D;return""+j+W+"="+re+`
`},""):String(l.body);return{path:o,submission:{formMethod:g,formAction:v,formEncType:l.formEncType,formData:void 0,json:void 0,text:O}}}else if(l.formEncType==="application/json"){if(!Ir(g))return c();try{let O=typeof l.body=="string"?JSON.parse(l.body):l.body;return{path:o,submission:{formMethod:g,formAction:v,formEncType:l.formEncType,formData:void 0,json:O,text:void 0}}}catch{return c()}}}bt(typeof FormData=="function","FormData is not available in this environment");let x,E;if(l.formData)x=Nc(l.formData),E=l.formData;else if(l.body instanceof FormData)x=Nc(l.body),E=l.body;else if(l.body instanceof URLSearchParams)x=l.body,E=Gf(x);else if(l.body==null)x=new URLSearchParams,E=new FormData;else try{x=new URLSearchParams(l.body),E=Gf(x)}catch{return c()}let _={formMethod:g,formAction:v,formEncType:l&&l.formEncType||"application/x-www-form-urlencoded",formData:E,json:void 0,text:void 0};if(Ir(_.formMethod))return{path:o,submission:_};let k=Za(o);return r&&k.search&&Fc(k.search)&&x.append("index",""),k.search="?"+x,{path:Ao(k),submission:_}}function Kf(a,r,o){o===void 0&&(o=!1);let l=a.findIndex(c=>c.route.id===r);return l>=0?a.slice(0,o?l+1:l):a}function qf(a,r,o,l,c,p,g,v,x,E,_,k,O,j,D,W){let re=W?sr(W[1])?W[1].error:W[1].data:void 0,ye=a.createURL(r.location),ue=a.createURL(c),le=o;p&&r.errors?le=Kf(o,Object.keys(r.errors)[0],!0):W&&sr(W[1])&&(le=Kf(o,W[0]));let oe=W?W[1].statusCode:void 0,Be=g&&oe&&oe>=400,We=le.filter((Ne,Oe)=>{let{route:_e}=Ne;if(_e.lazy)return!0;if(_e.loader==null)return!1;if(p)return Cc(_e,r.loaderData,r.errors);if(yg(r.loaderData,r.matches[Oe],Ne)||x.some(we=>we===Ne.route.id))return!0;let dt=r.matches[Oe],je=Ne;return Wf(Ne,Kt({currentUrl:ye,currentParams:dt.params,nextUrl:ue,nextParams:je.params},l,{actionResult:re,actionStatus:oe,defaultShouldRevalidate:Be?!1:v||ye.pathname+ye.search===ue.pathname+ue.search||ye.search!==ue.search||Wp(dt,je)}))}),V=[];return k.forEach((Ne,Oe)=>{if(p||!o.some(be=>be.route.id===Ne.routeId)||_.has(Oe))return;let _e=To(j,Ne.path,D);if(!_e){V.push({key:Oe,routeId:Ne.routeId,path:Ne.path,matches:null,match:null,controller:null});return}let dt=r.fetchers.get(Oe),je=fs(_e,Ne.path),we=!1;O.has(Oe)?we=!1:E.has(Oe)?(E.delete(Oe),we=!0):dt&&dt.state!=="idle"&&dt.data===void 0?we=v:we=Wf(je,Kt({currentUrl:ye,currentParams:r.matches[r.matches.length-1].params,nextUrl:ue,nextParams:o[o.length-1].params},l,{actionResult:re,actionStatus:oe,defaultShouldRevalidate:Be?!1:v})),we&&V.push({key:Oe,routeId:Ne.routeId,path:Ne.path,matches:_e,match:je,controller:new AbortController})}),[We,V]}function Cc(a,r,o){if(a.lazy)return!0;if(!a.loader)return!1;let l=r!=null&&r[a.id]!==void 0,c=o!=null&&o[a.id]!==void 0;return!l&&c?!1:typeof a.loader=="function"&&a.loader.hydrate===!0?!0:!l&&!c}function yg(a,r,o){let l=!r||o.route.id!==r.route.id,c=a[o.route.id]===void 0;return l||c}function Wp(a,r){let o=a.route.path;return a.pathname!==r.pathname||o!=null&&o.endsWith("*")&&a.params["*"]!==r.params["*"]}function Wf(a,r){if(a.route.shouldRevalidate){let o=a.route.shouldRevalidate(r);if(typeof o=="boolean")return o}return r.defaultShouldRevalidate}function Yf(a,r,o,l,c){var p;let g;if(a){let E=l[a];bt(E,"No route found to patch children into: routeId = "+a),E.children||(E.children=[]),g=E.children}else g=o;let v=r.filter(E=>!g.some(_=>Yp(E,_))),x=Al(v,c,[a||"_","patch",String(((p=g)==null?void 0:p.length)||"0")],l);g.push(...x)}function Yp(a,r){return"id"in a&&"id"in r&&a.id===r.id?!0:a.index===r.index&&a.path===r.path&&a.caseSensitive===r.caseSensitive?(!a.children||a.children.length===0)&&(!r.children||r.children.length===0)?!0:a.children.every((o,l)=>{var c;return(c=r.children)==null?void 0:c.some(p=>Yp(o,p))}):!1}async function vg(a,r,o){if(!a.lazy)return;let l=await a.lazy();if(!a.lazy)return;let c=o[a.id];bt(c,"No route found in manifest");let p={};for(let g in l){let x=c[g]!==void 0&&g!=="hasErrorBoundary";Lo(!x,'Route "'+c.id+'" has a static property "'+g+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+g+'" will be ignored.')),!x&&!zm.has(g)&&(p[g]=l[g])}Object.assign(c,p),Object.assign(c,Kt({},r(c),{lazy:void 0}))}async function xg(a){let{matches:r}=a,o=r.filter(c=>c.shouldLoad);return(await Promise.all(o.map(c=>c.resolve()))).reduce((c,p,g)=>Object.assign(c,{[o[g].route.id]:p}),{})}async function wg(a,r,o,l,c,p,g,v,x,E){let _=p.map(j=>j.route.lazy?vg(j.route,x,v):void 0),k=p.map((j,D)=>{let W=_[D],re=c.some(ue=>ue.route.id===j.route.id);return Kt({},j,{shouldLoad:re,resolve:async ue=>(ue&&l.method==="GET"&&(j.route.lazy||j.route.loader)&&(re=!0),re?bg(r,l,j,W,ue,E):Promise.resolve({type:Dt.data,result:void 0}))})}),O=await a({matches:k,request:l,params:p[0].params,fetcherKey:g,context:E});try{await Promise.all(_)}catch{}return O}async function bg(a,r,o,l,c,p){let g,v,x=E=>{let _,k=new Promise((D,W)=>_=W);v=()=>_(),r.signal.addEventListener("abort",v);let O=D=>typeof E!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+a+'" [routeId: '+o.route.id+"]"))):E({request:r,params:o.params,context:p},...D!==void 0?[D]:[]),j=(async()=>{try{return{type:"data",result:await(c?c(W=>O(W)):O())}}catch(D){return{type:"error",result:D}}})();return Promise.race([j,k])};try{let E=o.route[a];if(l)if(E){let _,[k]=await Promise.all([x(E).catch(O=>{_=O}),l]);if(_!==void 0)throw _;g=k}else if(await l,E=o.route[a],E)g=await x(E);else if(a==="action"){let _=new URL(r.url),k=_.pathname+_.search;throw Gn(405,{method:r.method,pathname:k,routeId:o.route.id})}else return{type:Dt.data,result:void 0};else if(E)g=await x(E);else{let _=new URL(r.url),k=_.pathname+_.search;throw Gn(404,{pathname:k})}bt(g.result!==void 0,"You defined "+(a==="action"?"an action":"a loader")+" for route "+('"'+o.route.id+"\" but didn't return anything from your `"+a+"` ")+"function. Please return a value or `null`.")}catch(E){return{type:Dt.error,result:E}}finally{v&&r.signal.removeEventListener("abort",v)}return g}async function Sg(a){let{result:r,type:o}=a;if(Gp(r)){let k;try{let O=r.headers.get("Content-Type");O&&/\bapplication\/json\b/.test(O)?r.body==null?k=null:k=await r.json():k=await r.text()}catch(O){return{type:Dt.error,error:O}}return o===Dt.error?{type:Dt.error,error:new Ml(r.status,r.statusText,k),statusCode:r.status,headers:r.headers}:{type:Dt.data,data:k,statusCode:r.status,headers:r.headers}}if(o===Dt.error){if(tp(r)){var l,c;if(r.data instanceof Error){var p,g;return{type:Dt.error,error:r.data,statusCode:(p=r.init)==null?void 0:p.status,headers:(g=r.init)!=null&&g.headers?new Headers(r.init.headers):void 0}}return{type:Dt.error,error:new Ml(((l=r.init)==null?void 0:l.status)||500,void 0,r.data),statusCode:gs(r)?r.status:void 0,headers:(c=r.init)!=null&&c.headers?new Headers(r.init.headers):void 0}}return{type:Dt.error,error:r,statusCode:gs(r)?r.status:void 0}}if(_g(r)){var v,x;return{type:Dt.deferred,deferredData:r,statusCode:(v=r.init)==null?void 0:v.status,headers:((x=r.init)==null?void 0:x.headers)&&new Headers(r.init.headers)}}if(tp(r)){var E,_;return{type:Dt.data,data:r.data,statusCode:(E=r.init)==null?void 0:E.status,headers:(_=r.init)!=null&&_.headers?new Headers(r.init.headers):void 0}}return{type:Dt.data,data:r}}function Eg(a,r,o,l,c,p){let g=a.headers.get("Location");if(bt(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ic.test(g)){let v=l.slice(0,l.findIndex(x=>x.route.id===o)+1);g=kc(new URL(r.url),v,c,!0,g,p),a.headers.set("Location",g)}return a}function Qf(a,r,o,l){let c=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Ic.test(a)){let p=a,g=p.startsWith("//")?new URL(r.protocol+p):new URL(p);if(c.includes(g.protocol))throw new Error("Invalid redirect location");let v=ga(g.pathname,o)!=null;if(g.origin===r.origin&&v)return g.pathname+g.search+g.hash}try{let p=l.createURL(a);if(c.includes(p.protocol))throw new Error("Invalid redirect location")}catch{}return a}function gi(a,r,o,l){let c=a.createURL(Qp(r)).toString(),p={signal:o};if(l&&Ir(l.formMethod)){let{formMethod:g,formEncType:v}=l;p.method=g.toUpperCase(),v==="application/json"?(p.headers=new Headers({"Content-Type":v}),p.body=JSON.stringify(l.json)):v==="text/plain"?p.body=l.text:v==="application/x-www-form-urlencoded"&&l.formData?p.body=Nc(l.formData):p.body=l.formData}return new Request(c,p)}function Nc(a){let r=new URLSearchParams;for(let[o,l]of a.entries())r.append(o,typeof l=="string"?l:l.name);return r}function Gf(a){let r=new FormData;for(let[o,l]of a.entries())r.append(o,l);return r}function kg(a,r,o,l,c){let p={},g=null,v,x=!1,E={},_=o&&sr(o[1])?o[1].error:void 0;return a.forEach(k=>{if(!(k.route.id in r))return;let O=k.route.id,j=r[O];if(bt(!Do(j),"Cannot handle redirect results in processLoaderData"),sr(j)){let D=j.error;_!==void 0&&(D=_,_=void 0),g=g||{};{let W=Oo(a,O);g[W.route.id]==null&&(g[W.route.id]=D)}p[O]=void 0,x||(x=!0,v=gs(j.error)?j.error.status:500),j.headers&&(E[O]=j.headers)}else Xa(j)?(l.set(O,j.deferredData),p[O]=j.deferredData.data,j.statusCode!=null&&j.statusCode!==200&&!x&&(v=j.statusCode),j.headers&&(E[O]=j.headers)):(p[O]=j.data,j.statusCode&&j.statusCode!==200&&!x&&(v=j.statusCode),j.headers&&(E[O]=j.headers))}),_!==void 0&&o&&(g={[o[0]]:_},p[o[0]]=void 0),{loaderData:p,errors:g,statusCode:v||200,loaderHeaders:E}}function Xf(a,r,o,l,c,p,g){let{loaderData:v,errors:x}=kg(r,o,l,g);return c.forEach(E=>{let{key:_,match:k,controller:O}=E,j=p[_];if(bt(j,"Did not find corresponding fetcher result"),!(O&&O.signal.aborted))if(sr(j)){let D=Oo(a.matches,k==null?void 0:k.route.id);x&&x[D.route.id]||(x=Kt({},x,{[D.route.id]:j.error})),a.fetchers.delete(_)}else if(Do(j))bt(!1,"Unhandled fetcher revalidation redirect");else if(Xa(j))bt(!1,"Unhandled fetcher deferred data");else{let D=Ga(j.data);a.fetchers.set(_,D)}}),{loaderData:v,errors:x}}function Jf(a,r,o,l){let c=Kt({},r);for(let p of o){let g=p.route.id;if(r.hasOwnProperty(g)?r[g]!==void 0&&(c[g]=r[g]):a[g]!==void 0&&p.route.loader&&(c[g]=a[g]),l&&l.hasOwnProperty(g))break}return c}function Zf(a){return a?sr(a[1])?{actionData:{}}:{actionData:{[a[0]]:a[1].data}}:{}}function Oo(a,r){return(r?a.slice(0,a.findIndex(l=>l.route.id===r)+1):[...a]).reverse().find(l=>l.route.hasErrorBoundary===!0)||a[0]}function ep(a){let r=a.length===1?a[0]:a.find(o=>o.index||!o.path||o.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r}}function Gn(a,r){let{pathname:o,routeId:l,method:c,type:p,message:g}=r===void 0?{}:r,v="Unknown Server Error",x="Unknown @remix-run/router error";return a===400?(v="Bad Request",c&&o&&l?x="You made a "+c+' request to "'+o+'" but '+('did not provide a `loader` for route "'+l+'", ')+"so there is no way to handle the request.":p==="defer-action"?x="defer() is not supported in actions":p==="invalid-body"&&(x="Unable to encode submission body")):a===403?(v="Forbidden",x='Route "'+l+'" does not match URL "'+o+'"'):a===404?(v="Not Found",x='No route matches URL "'+o+'"'):a===405&&(v="Method Not Allowed",c&&o&&l?x="You made a "+c.toUpperCase()+' request to "'+o+'" but '+('did not provide an `action` for route "'+l+'", ')+"so there is no way to handle the request.":c&&(x='Invalid request method "'+c.toUpperCase()+'"')),new Ml(a||500,v,new Error(x),!0)}function Rl(a){let r=Object.entries(a);for(let o=r.length-1;o>=0;o--){let[l,c]=r[o];if(Do(c))return{key:l,result:c}}}function Qp(a){let r=typeof a=="string"?Za(a):a;return Ao(Kt({},r,{hash:""}))}function Cg(a,r){return a.pathname!==r.pathname||a.search!==r.search?!1:a.hash===""?r.hash!=="":a.hash===r.hash?!0:r.hash!==""}function Ng(a){return Gp(a.result)&&dg.has(a.result.status)}function Xa(a){return a.type===Dt.deferred}function sr(a){return a.type===Dt.error}function Do(a){return(a&&a.type)===Dt.redirect}function tp(a){return typeof a=="object"&&a!=null&&"type"in a&&"data"in a&&"init"in a&&a.type==="DataWithResponseInit"}function _g(a){let r=a;return r&&typeof r=="object"&&typeof r.data=="object"&&typeof r.subscribe=="function"&&typeof r.cancel=="function"&&typeof r.resolveData=="function"}function Gp(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.headers=="object"&&typeof a.body<"u"}function Pg(a){return cg.has(a.toLowerCase())}function Ir(a){return lg.has(a.toLowerCase())}async function Rg(a,r,o,l,c){let p=Object.entries(r);for(let g=0;g<p.length;g++){let[v,x]=p[g],E=a.find(O=>(O==null?void 0:O.route.id)===v);if(!E)continue;let _=l.find(O=>O.route.id===E.route.id),k=_!=null&&!Wp(_,E)&&(c&&c[E.route.id])!==void 0;Xa(x)&&k&&await Mc(x,o,!1).then(O=>{O&&(r[v]=O)})}}async function jg(a,r,o){for(let l=0;l<o.length;l++){let{key:c,routeId:p,controller:g}=o[l],v=r[c];a.find(E=>(E==null?void 0:E.route.id)===p)&&Xa(v)&&(bt(g,"Expected an AbortController for revalidating fetcher deferred result"),await Mc(v,g.signal,!0).then(E=>{E&&(r[c]=E)}))}}async function Mc(a,r,o){if(o===void 0&&(o=!1),!await a.deferredData.resolveData(r)){if(o)try{return{type:Dt.data,data:a.deferredData.unwrappedData}}catch(c){return{type:Dt.error,error:c}}return{type:Dt.data,data:a.deferredData.data}}}function Fc(a){return new URLSearchParams(a).getAll("index").some(r=>r==="")}function fs(a,r){let o=typeof r=="string"?Za(r).search:r.search;if(a[a.length-1].route.index&&Fc(o||""))return a[a.length-1];let l=Vp(a);return l[l.length-1]}function np(a){let{formMethod:r,formAction:o,formEncType:l,text:c,formData:p,json:g}=a;if(!(!r||!o||!l)){if(c!=null)return{formMethod:r,formAction:o,formEncType:l,formData:void 0,json:void 0,text:c};if(p!=null)return{formMethod:r,formAction:o,formEncType:l,formData:p,json:void 0,text:void 0};if(g!==void 0)return{formMethod:r,formAction:o,formEncType:l,formData:void 0,json:g,text:void 0}}}function gc(a,r){return r?{state:"loading",location:a,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}:{state:"loading",location:a,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Tg(a,r){return{state:"submitting",location:a,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}}function us(a,r){return a?{state:"loading",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:r}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function Og(a,r){return{state:"submitting",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:r?r.data:void 0}}function Ga(a){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function Dg(a,r){try{let o=a.sessionStorage.getItem(qp);if(o){let l=JSON.parse(o);for(let[c,p]of Object.entries(l||{}))p&&Array.isArray(p)&&r.set(c,new Set(p||[]))}}catch{}}function Lg(a,r){if(r.size>0){let o={};for(let[l,c]of r)o[l]=[...c];try{a.sessionStorage.setItem(qp,JSON.stringify(o))}catch(l){Lo(!1,"Failed to save applied view transitions in sessionStorage ("+l+").")}}}/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a},Fl.apply(this,arguments)}const ws=Z.createContext(null),Bc=Z.createContext(null),eo=Z.createContext(null),Uc=Z.createContext(null),ya=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),Xp=Z.createContext(null);function Ag(a,r){let{relative:o}=r===void 0?{}:r;bs()||bt(!1);let{basename:l,navigator:c}=Z.useContext(eo),{hash:p,pathname:g,search:v}=Kl(a,{relative:o}),x=g;return l!=="/"&&(x=g==="/"?l:ma([l,g])),c.createHref({pathname:x,search:v,hash:p})}function bs(){return Z.useContext(Uc)!=null}function Ss(){return bs()||bt(!1),Z.useContext(Uc).location}function Jp(a){Z.useContext(eo).static||Z.useLayoutEffect(a)}function Ei(){let{isDataRoute:a}=Z.useContext(ya);return a?Qg():Ig()}function Ig(){bs()||bt(!1);let a=Z.useContext(ws),{basename:r,future:o,navigator:l}=Z.useContext(eo),{matches:c}=Z.useContext(ya),{pathname:p}=Ss(),g=JSON.stringify(Lc(c,o.v7_relativeSplatPath)),v=Z.useRef(!1);return Jp(()=>{v.current=!0}),Z.useCallback(function(E,_){if(_===void 0&&(_={}),!v.current)return;if(typeof E=="number"){l.go(E);return}let k=Ac(E,JSON.parse(g),p,_.relative==="path");a==null&&r!=="/"&&(k.pathname=k.pathname==="/"?r:ma([r,k.pathname])),(_.replace?l.replace:l.push)(k,_.state,_)},[r,l,g,p,a])}const Mg=Z.createContext(null);function Fg(a){let r=Z.useContext(ya).outlet;return r&&Z.createElement(Mg.Provider,{value:a},r)}function Zp(){let{matches:a}=Z.useContext(ya),r=a[a.length-1];return r?r.params:{}}function Kl(a,r){let{relative:o}=r===void 0?{}:r,{future:l}=Z.useContext(eo),{matches:c}=Z.useContext(ya),{pathname:p}=Ss(),g=JSON.stringify(Lc(c,l.v7_relativeSplatPath));return Z.useMemo(()=>Ac(a,JSON.parse(g),p,o==="path"),[a,g,p,o])}function Bg(a,r,o,l){bs()||bt(!1);let{navigator:c}=Z.useContext(eo),{matches:p}=Z.useContext(ya),g=p[p.length-1],v=g?g.params:{};g&&g.pathname;let x=g?g.pathnameBase:"/";g&&g.route;let E=Ss(),_;_=E;let k=_.pathname||"/",O=k;if(x!=="/"){let W=x.replace(/^\//,"").split("/");O="/"+k.replace(/^\//,"").split("/").slice(W.length).join("/")}let j=To(a,{pathname:O});return Vg(j&&j.map(W=>Object.assign({},W,{params:Object.assign({},v,W.params),pathname:ma([x,c.encodeLocation?c.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?x:ma([x,c.encodeLocation?c.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),p,o,l)}function Ug(){let a=Yg(),r=gs(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),o=a instanceof Error?a.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},r),o?Z.createElement("pre",{style:c},o):null,null)}const zg=Z.createElement(Ug,null);class Hg extends Z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){console.error("React Router caught the following error during render",r,o)}render(){return this.state.error!==void 0?Z.createElement(ya.Provider,{value:this.props.routeContext},Z.createElement(Xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $g(a){let{routeContext:r,match:o,children:l}=a,c=Z.useContext(ws);return c&&c.static&&c.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=o.route.id),Z.createElement(ya.Provider,{value:r},l)}function Vg(a,r,o,l){var c;if(r===void 0&&(r=[]),o===void 0&&(o=null),l===void 0&&(l=null),a==null){var p;if(!o)return null;if(o.errors)a=o.matches;else if((p=l)!=null&&p.v7_partialHydration&&r.length===0&&!o.initialized&&o.matches.length>0)a=o.matches;else return null}let g=a,v=(c=o)==null?void 0:c.errors;if(v!=null){let _=g.findIndex(k=>k.route.id&&(v==null?void 0:v[k.route.id])!==void 0);_>=0||bt(!1),g=g.slice(0,Math.min(g.length,_+1))}let x=!1,E=-1;if(o&&l&&l.v7_partialHydration)for(let _=0;_<g.length;_++){let k=g[_];if((k.route.HydrateFallback||k.route.hydrateFallbackElement)&&(E=_),k.route.id){let{loaderData:O,errors:j}=o,D=k.route.loader&&O[k.route.id]===void 0&&(!j||j[k.route.id]===void 0);if(k.route.lazy||D){x=!0,E>=0?g=g.slice(0,E+1):g=[g[0]];break}}}return g.reduceRight((_,k,O)=>{let j,D=!1,W=null,re=null;o&&(j=v&&k.route.id?v[k.route.id]:void 0,W=k.route.errorElement||zg,x&&(E<0&&O===0?(Gg("route-fallback"),D=!0,re=null):E===O&&(D=!0,re=k.route.hydrateFallbackElement||null)));let ye=r.concat(g.slice(0,O+1)),ue=()=>{let le;return j?le=W:D?le=re:k.route.Component?le=Z.createElement(k.route.Component,null):k.route.element?le=k.route.element:le=_,Z.createElement($g,{match:k,routeContext:{outlet:_,matches:ye,isDataRoute:o!=null},children:le})};return o&&(k.route.ErrorBoundary||k.route.errorElement||O===0)?Z.createElement(Hg,{location:o.location,revalidation:o.revalidation,component:W,error:j,children:ue(),routeContext:{outlet:null,matches:ye,isDataRoute:!0}}):ue()},null)}var eh=(function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a})(eh||{}),th=(function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a})(th||{});function Kg(a){let r=Z.useContext(ws);return r||bt(!1),r}function qg(a){let r=Z.useContext(Bc);return r||bt(!1),r}function Wg(a){let r=Z.useContext(ya);return r||bt(!1),r}function nh(a){let r=Wg(),o=r.matches[r.matches.length-1];return o.route.id||bt(!1),o.route.id}function Yg(){var a;let r=Z.useContext(Xp),o=qg(),l=nh();return r!==void 0?r:(a=o.errors)==null?void 0:a[l]}function Qg(){let{router:a}=Kg(eh.UseNavigateStable),r=nh(th.UseNavigateStable),o=Z.useRef(!1);return Jp(()=>{o.current=!0}),Z.useCallback(function(c,p){p===void 0&&(p={}),o.current&&(typeof c=="number"?a.navigate(c):a.navigate(c,Fl({fromRouteId:r},p)))},[a,r])}const rp={};function Gg(a,r,o){rp[a]||(rp[a]=!0)}function Xg(a,r){a==null||a.v7_startTransition,(a==null?void 0:a.v7_relativeSplatPath)===void 0&&(!r||r.v7_relativeSplatPath),r&&(r.v7_fetcherPersist,r.v7_normalizeFormMethod,r.v7_partialHydration,r.v7_skipActionErrorRevalidation)}function Jg(a){return Fg(a.context)}function Zg(a){let{basename:r="/",children:o=null,location:l,navigationType:c=nn.Pop,navigator:p,static:g=!1,future:v}=a;bs()&&bt(!1);let x=r.replace(/^\/*/,"/"),E=Z.useMemo(()=>({basename:x,navigator:p,static:g,future:Fl({v7_relativeSplatPath:!1},v)}),[x,v,p,g]);typeof l=="string"&&(l=Za(l));let{pathname:_="/",search:k="",hash:O="",state:j=null,key:D="default"}=l,W=Z.useMemo(()=>{let re=ga(_,x);return re==null?null:{location:{pathname:re,search:k,hash:O,state:j,key:D},navigationType:c}},[x,_,k,O,j,D,c]);return W==null?null:Z.createElement(eo.Provider,{value:E},Z.createElement(Uc.Provider,{children:o,value:W}))}new Promise(()=>{});function ey(a){let r={hasErrorBoundary:a.ErrorBoundary!=null||a.errorElement!=null};return a.Component&&Object.assign(r,{element:Z.createElement(a.Component),Component:void 0}),a.HydrateFallback&&Object.assign(r,{hydrateFallbackElement:Z.createElement(a.HydrateFallback),HydrateFallback:void 0}),a.ErrorBoundary&&Object.assign(r,{errorElement:Z.createElement(a.ErrorBoundary),ErrorBoundary:void 0}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bi(){return bi=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a},bi.apply(this,arguments)}function rh(a,r){if(a==null)return{};var o={},l=Object.keys(a),c,p;for(p=0;p<l.length;p++)c=l[p],!(r.indexOf(c)>=0)&&(o[c]=a[c]);return o}function ty(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function ny(a,r){return a.button===0&&(!r||r==="_self")&&!ty(a)}const ry=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ay=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],oy="6";try{window.__reactRouterVersion=oy}catch{}function iy(a,r){return mg({basename:r==null?void 0:r.basename,future:bi({},r==null?void 0:r.future,{v7_prependBasename:!0}),history:Fm({window:r==null?void 0:r.window}),hydrationData:(r==null?void 0:r.hydrationData)||sy(),routes:a,mapRouteProperties:ey,dataStrategy:r==null?void 0:r.dataStrategy,patchRoutesOnNavigation:r==null?void 0:r.patchRoutesOnNavigation,window:r==null?void 0:r.window}).initialize()}function sy(){var a;let r=(a=window)==null?void 0:a.__staticRouterHydrationData;return r&&r.errors&&(r=bi({},r,{errors:ly(r.errors)})),r}function ly(a){if(!a)return null;let r=Object.entries(a),o={};for(let[l,c]of r)if(c&&c.__type==="RouteErrorResponse")o[l]=new Ml(c.status,c.statusText,c.data,c.internal===!0);else if(c&&c.__type==="Error"){if(c.__subType){let p=window[c.__subType];if(typeof p=="function")try{let g=new p(c.message);g.stack="",o[l]=g}catch{}}if(o[l]==null){let p=new Error(c.message);p.stack="",o[l]=p}}else o[l]=c;return o}const ah=Z.createContext({isTransitioning:!1}),uy=Z.createContext(new Map),cy="startTransition",ap=Rm[cy],dy="flushSync",op=Mm[dy];function fy(a){ap?ap(a):a()}function cs(a){op?op(a):a()}class py{constructor(){this.status="pending",this.promise=new Promise((r,o)=>{this.resolve=l=>{this.status==="pending"&&(this.status="resolved",r(l))},this.reject=l=>{this.status==="pending"&&(this.status="rejected",o(l))}})}}function hy(a){let{fallbackElement:r,router:o,future:l}=a,[c,p]=Z.useState(o.state),[g,v]=Z.useState(),[x,E]=Z.useState({isTransitioning:!1}),[_,k]=Z.useState(),[O,j]=Z.useState(),[D,W]=Z.useState(),re=Z.useRef(new Map),{v7_startTransition:ye}=l||{},ue=Z.useCallback(Ne=>{ye?fy(Ne):Ne()},[ye]),le=Z.useCallback((Ne,Oe)=>{let{deletedFetchers:_e,flushSync:dt,viewTransitionOpts:je}=Oe;Ne.fetchers.forEach((be,nt)=>{be.data!==void 0&&re.current.set(nt,be.data)}),_e.forEach(be=>re.current.delete(be));let we=o.window==null||o.window.document==null||typeof o.window.document.startViewTransition!="function";if(!je||we){dt?cs(()=>p(Ne)):ue(()=>p(Ne));return}if(dt){cs(()=>{O&&(_&&_.resolve(),O.skipTransition()),E({isTransitioning:!0,flushSync:!0,currentLocation:je.currentLocation,nextLocation:je.nextLocation})});let be=o.window.document.startViewTransition(()=>{cs(()=>p(Ne))});be.finished.finally(()=>{cs(()=>{k(void 0),j(void 0),v(void 0),E({isTransitioning:!1})})}),cs(()=>j(be));return}O?(_&&_.resolve(),O.skipTransition(),W({state:Ne,currentLocation:je.currentLocation,nextLocation:je.nextLocation})):(v(Ne),E({isTransitioning:!0,flushSync:!1,currentLocation:je.currentLocation,nextLocation:je.nextLocation}))},[o.window,O,_,re,ue]);Z.useLayoutEffect(()=>o.subscribe(le),[o,le]),Z.useEffect(()=>{x.isTransitioning&&!x.flushSync&&k(new py)},[x]),Z.useEffect(()=>{if(_&&g&&o.window){let Ne=g,Oe=_.promise,_e=o.window.document.startViewTransition(async()=>{ue(()=>p(Ne)),await Oe});_e.finished.finally(()=>{k(void 0),j(void 0),v(void 0),E({isTransitioning:!1})}),j(_e)}},[ue,g,_,o.window]),Z.useEffect(()=>{_&&g&&c.location.key===g.location.key&&_.resolve()},[_,O,c.location,g]),Z.useEffect(()=>{!x.isTransitioning&&D&&(v(D.state),E({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}),W(void 0))},[x.isTransitioning,D]),Z.useEffect(()=>{},[]);let oe=Z.useMemo(()=>({createHref:o.createHref,encodeLocation:o.encodeLocation,go:Ne=>o.navigate(Ne),push:(Ne,Oe,_e)=>o.navigate(Ne,{state:Oe,preventScrollReset:_e==null?void 0:_e.preventScrollReset}),replace:(Ne,Oe,_e)=>o.navigate(Ne,{replace:!0,state:Oe,preventScrollReset:_e==null?void 0:_e.preventScrollReset})}),[o]),Be=o.basename||"/",We=Z.useMemo(()=>({router:o,navigator:oe,static:!1,basename:Be}),[o,oe,Be]),V=Z.useMemo(()=>({v7_relativeSplatPath:o.future.v7_relativeSplatPath}),[o.future.v7_relativeSplatPath]);return Z.useEffect(()=>Xg(l,o.future),[l,o.future]),Z.createElement(Z.Fragment,null,Z.createElement(ws.Provider,{value:We},Z.createElement(Bc.Provider,{value:c},Z.createElement(uy.Provider,{value:re.current},Z.createElement(ah.Provider,{value:x},Z.createElement(Zg,{basename:Be,location:c.location,navigationType:c.historyAction,navigator:oe,future:V},c.initialized||o.future.v7_partialHydration?Z.createElement(my,{routes:o.routes,future:o.future,state:c}):r))))),null)}const my=Z.memo(gy);function gy(a){let{routes:r,future:o,state:l}=a;return Bg(r,void 0,l,o)}const yy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Si=Z.forwardRef(function(r,o){let{onClick:l,relative:c,reloadDocument:p,replace:g,state:v,target:x,to:E,preventScrollReset:_,viewTransition:k}=r,O=rh(r,ry),{basename:j}=Z.useContext(eo),D,W=!1;if(typeof E=="string"&&vy.test(E)&&(D=E,yy))try{let le=new URL(window.location.href),oe=E.startsWith("//")?new URL(le.protocol+E):new URL(E),Be=ga(oe.pathname,j);oe.origin===le.origin&&Be!=null?E=Be+oe.search+oe.hash:W=!0}catch{}let re=Ag(E,{relative:c}),ye=wy(E,{replace:g,state:v,target:x,preventScrollReset:_,relative:c,viewTransition:k});function ue(le){l&&l(le),le.defaultPrevented||ye(le)}return Z.createElement("a",bi({},O,{href:D||re,onClick:W||p?l:ue,ref:o,target:x}))}),ip=Z.forwardRef(function(r,o){let{"aria-current":l="page",caseSensitive:c=!1,className:p="",end:g=!1,style:v,to:x,viewTransition:E,children:_}=r,k=rh(r,ay),O=Kl(x,{relative:k.relative}),j=Ss(),D=Z.useContext(Bc),{navigator:W,basename:re}=Z.useContext(eo),ye=D!=null&&by(O)&&E===!0,ue=W.encodeLocation?W.encodeLocation(O).pathname:O.pathname,le=j.pathname,oe=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;c||(le=le.toLowerCase(),oe=oe?oe.toLowerCase():null,ue=ue.toLowerCase()),oe&&re&&(oe=ga(oe,re)||oe);const Be=ue!=="/"&&ue.endsWith("/")?ue.length-1:ue.length;let We=le===ue||!g&&le.startsWith(ue)&&le.charAt(Be)==="/",V=oe!=null&&(oe===ue||!g&&oe.startsWith(ue)&&oe.charAt(ue.length)==="/"),Ne={isActive:We,isPending:V,isTransitioning:ye},Oe=We?l:void 0,_e;typeof p=="function"?_e=p(Ne):_e=[p,We?"active":null,V?"pending":null,ye?"transitioning":null].filter(Boolean).join(" ");let dt=typeof v=="function"?v(Ne):v;return Z.createElement(Si,bi({},k,{"aria-current":Oe,className:_e,ref:o,style:dt,to:x,viewTransition:E}),typeof _=="function"?_(Ne):_)});var _c;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(_c||(_c={}));var sp;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(sp||(sp={}));function xy(a){let r=Z.useContext(ws);return r||bt(!1),r}function wy(a,r){let{target:o,replace:l,state:c,preventScrollReset:p,relative:g,viewTransition:v}=r===void 0?{}:r,x=Ei(),E=Ss(),_=Kl(a,{relative:g});return Z.useCallback(k=>{if(ny(k,o)){k.preventDefault();let O=l!==void 0?l:Ao(E)===Ao(_);x(a,{replace:O,state:c,preventScrollReset:p,relative:g,viewTransition:v})}},[E,x,_,l,c,o,a,p,g,v])}function by(a,r){r===void 0&&(r={});let o=Z.useContext(ah);o==null&&bt(!1);let{basename:l}=xy(_c.useViewTransitionState),c=Kl(a,{relative:r.relative});if(!o.isTransitioning)return!1;let p=ga(o.currentLocation.pathname,l)||o.currentLocation.pathname,g=ga(o.nextLocation.pathname,l)||o.nextLocation.pathname;return Il(c.pathname,g)!=null||Il(c.pathname,p)!=null}const lp=a=>{let r;const o=new Set,l=(E,_)=>{const k=typeof E=="function"?E(r):E;if(!Object.is(k,r)){const O=r;r=_??(typeof k!="object"||k===null)?k:Object.assign({},r,k),o.forEach(j=>j(r,O))}},c=()=>r,v={setState:l,getState:c,getInitialState:()=>x,subscribe:E=>(o.add(E),()=>o.delete(E))},x=r=a(l,c,v);return v},Sy=(a=>a?lp(a):lp),Ey=a=>a;function ky(a,r=Ey){const o=xi.useSyncExternalStore(a.subscribe,xi.useCallback(()=>r(a.getState()),[a,r]),xi.useCallback(()=>r(a.getInitialState()),[a,r]));return xi.useDebugValue(o),o}const up=a=>{const r=Sy(a),o=l=>ky(r,l);return Object.assign(o,r),o},Cy=(a=>a?up(a):up),oh="dagda-theme";function cp(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Ny(){const a=localStorage.getItem(oh);return a==="light"||a==="dark"||a==="auto"?a:"auto"}const ih=Cy(a=>{const r=Ny(),o=r==="auto"?cp():r;return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",l=>{a(c=>{if(c.choice!=="auto")return{};const p=l.matches?"dark":"light";return document.documentElement.setAttribute("data-theme",p),{resolvedTheme:p}})}),{choice:r,resolvedTheme:o,setTheme:l=>{localStorage.setItem(oh,l);const c=l==="auto"?cp():l;document.documentElement.setAttribute("data-theme",c),a({choice:l,resolvedTheme:c})}}});function _y(){const{resolvedTheme:a}=ih();return Z.useEffect(()=>{document.documentElement.setAttribute("data-theme",a)},[a]),S.jsxs("div",{className:"flex min-h-screen flex-col bg-base-100 text-base-content",children:[S.jsxs("header",{className:"navbar bg-base-200 shadow-sm",children:[S.jsx("div",{className:"flex-1",children:S.jsx(ip,{to:"/",className:"btn btn-ghost text-xl font-bold",children:" Dagda"})}),S.jsx("div",{className:"flex-none",children:S.jsx(ip,{to:"/settings",className:"btn btn-ghost btn-sm",children:""})})]}),S.jsx("main",{className:"flex-1",children:S.jsx(Jg,{})})]})}const pt=a=>typeof a=="string",ds=()=>{let a,r;const o=new Promise((l,c)=>{a=l,r=c});return o.resolve=a,o.reject=r,o},dp=a=>a==null?"":""+a,Py=(a,r,o)=>{a.forEach(l=>{r[l]&&(o[l]=r[l])})},Ry=/###/g,fp=a=>a&&a.indexOf("###")>-1?a.replace(Ry,"."):a,pp=a=>!a||pt(a),ps=(a,r,o)=>{const l=pt(r)?r.split("."):r;let c=0;for(;c<l.length-1;){if(pp(a))return{};const p=fp(l[c]);!a[p]&&o&&(a[p]=new o),Object.prototype.hasOwnProperty.call(a,p)?a=a[p]:a={},++c}return pp(a)?{}:{obj:a,k:fp(l[c])}},hp=(a,r,o)=>{const{obj:l,k:c}=ps(a,r,Object);if(l!==void 0||r.length===1){l[c]=o;return}let p=r[r.length-1],g=r.slice(0,r.length-1),v=ps(a,g,Object);for(;v.obj===void 0&&g.length;)p=`${g[g.length-1]}.${p}`,g=g.slice(0,g.length-1),v=ps(a,g,Object),v!=null&&v.obj&&typeof v.obj[`${v.k}.${p}`]<"u"&&(v.obj=void 0);v.obj[`${v.k}.${p}`]=o},jy=(a,r,o,l)=>{const{obj:c,k:p}=ps(a,r,Object);c[p]=c[p]||[],c[p].push(o)},Bl=(a,r)=>{const{obj:o,k:l}=ps(a,r);if(o&&Object.prototype.hasOwnProperty.call(o,l))return o[l]},Ty=(a,r,o)=>{const l=Bl(a,o);return l!==void 0?l:Bl(r,o)},sh=(a,r,o)=>{for(const l in r)l!=="__proto__"&&l!=="constructor"&&(l in a?pt(a[l])||a[l]instanceof String||pt(r[l])||r[l]instanceof String?o&&(a[l]=r[l]):sh(a[l],r[l],o):a[l]=r[l]);return a},jo=a=>a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Oy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Dy=a=>pt(a)?a.replace(/[&<>"'\/]/g,r=>Oy[r]):a;class Ly{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const o=this.regExpMap.get(r);if(o!==void 0)return o;const l=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,l),this.regExpQueue.push(r),l}}const Ay=[" ",",","?","!",";"],Iy=new Ly(20),My=(a,r,o)=>{r=r||"",o=o||"";const l=Ay.filter(g=>r.indexOf(g)<0&&o.indexOf(g)<0);if(l.length===0)return!0;const c=Iy.getRegExp(`(${l.map(g=>g==="?"?"\\?":g).join("|")})`);let p=!c.test(a);if(!p){const g=a.indexOf(o);g>0&&!c.test(a.substring(0,g))&&(p=!0)}return p},Pc=(a,r,o=".")=>{if(!a)return;if(a[r])return Object.prototype.hasOwnProperty.call(a,r)?a[r]:void 0;const l=r.split(o);let c=a;for(let p=0;p<l.length;){if(!c||typeof c!="object")return;let g,v="";for(let x=p;x<l.length;++x)if(x!==p&&(v+=o),v+=l[x],g=c[v],g!==void 0){if(["string","number","boolean"].indexOf(typeof g)>-1&&x<l.length-1)continue;p+=x-p+1;break}c=g}return c},ys=a=>a==null?void 0:a.replace("_","-"),Fy={type:"logger",log(a){this.output("log",a)},warn(a){this.output("warn",a)},error(a){this.output("error",a)},output(a,r){var o,l;(l=(o=console==null?void 0:console[a])==null?void 0:o.apply)==null||l.call(o,console,r)}};class Ul{constructor(r,o={}){this.init(r,o)}init(r,o={}){this.prefix=o.prefix||"i18next:",this.logger=r||Fy,this.options=o,this.debug=o.debug}log(...r){return this.forward(r,"log","",!0)}warn(...r){return this.forward(r,"warn","",!0)}error(...r){return this.forward(r,"error","")}deprecate(...r){return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(r,o,l,c){return c&&!this.debug?null:(pt(r[0])&&(r[0]=`${l}${this.prefix} ${r[0]}`),this.logger[o](r))}create(r){return new Ul(this.logger,{prefix:`${this.prefix}:${r}:`,...this.options})}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new Ul(this.logger,r)}}var Qr=new Ul;class ql{constructor(){this.observers={}}on(r,o){return r.split(" ").forEach(l=>{this.observers[l]||(this.observers[l]=new Map);const c=this.observers[l].get(o)||0;this.observers[l].set(o,c+1)}),this}off(r,o){if(this.observers[r]){if(!o){delete this.observers[r];return}this.observers[r].delete(o)}}emit(r,...o){this.observers[r]&&Array.from(this.observers[r].entries()).forEach(([c,p])=>{for(let g=0;g<p;g++)c(...o)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([c,p])=>{for(let g=0;g<p;g++)c.apply(c,[r,...o])})}}class mp extends ql{constructor(r,o={ns:["translation"],defaultNS:"translation"}){super(),this.data=r||{},this.options=o,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){const o=this.options.ns.indexOf(r);o>-1&&this.options.ns.splice(o,1)}getResource(r,o,l,c={}){var E,_;const p=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,g=c.ignoreJSONStructure!==void 0?c.ignoreJSONStructure:this.options.ignoreJSONStructure;let v;r.indexOf(".")>-1?v=r.split("."):(v=[r,o],l&&(Array.isArray(l)?v.push(...l):pt(l)&&p?v.push(...l.split(p)):v.push(l)));const x=Bl(this.data,v);return!x&&!o&&!l&&r.indexOf(".")>-1&&(r=v[0],o=v[1],l=v.slice(2).join(".")),x||!g||!pt(l)?x:Pc((_=(E=this.data)==null?void 0:E[r])==null?void 0:_[o],l,p)}addResource(r,o,l,c,p={silent:!1}){const g=p.keySeparator!==void 0?p.keySeparator:this.options.keySeparator;let v=[r,o];l&&(v=v.concat(g?l.split(g):l)),r.indexOf(".")>-1&&(v=r.split("."),c=o,o=v[1]),this.addNamespaces(o),hp(this.data,v,c),p.silent||this.emit("added",r,o,l,c)}addResources(r,o,l,c={silent:!1}){for(const p in l)(pt(l[p])||Array.isArray(l[p]))&&this.addResource(r,o,p,l[p],{silent:!0});c.silent||this.emit("added",r,o,l)}addResourceBundle(r,o,l,c,p,g={silent:!1,skipCopy:!1}){let v=[r,o];r.indexOf(".")>-1&&(v=r.split("."),c=l,l=o,o=v[1]),this.addNamespaces(o);let x=Bl(this.data,v)||{};g.skipCopy||(l=JSON.parse(JSON.stringify(l))),c?sh(x,l,p):x={...x,...l},hp(this.data,v,x),g.silent||this.emit("added",r,o,l)}removeResourceBundle(r,o){this.hasResourceBundle(r,o)&&delete this.data[r][o],this.removeNamespaces(o),this.emit("removed",r,o)}hasResourceBundle(r,o){return this.getResource(r,o)!==void 0}getResourceBundle(r,o){return o||(o=this.options.defaultNS),this.getResource(r,o)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){const o=this.getDataByLanguage(r);return!!(o&&Object.keys(o)||[]).find(c=>o[c]&&Object.keys(o[c]).length>0)}toJSON(){return this.data}}var lh={processors:{},addPostProcessor(a){this.processors[a.name]=a},handle(a,r,o,l,c){return a.forEach(p=>{var g;r=((g=this.processors[p])==null?void 0:g.process(r,o,l,c))??r}),r}};const uh=Symbol("i18next/PATH_KEY");function By(){const a=[],r=Object.create(null);let o;return r.get=(l,c)=>{var p;return(p=o==null?void 0:o.revoke)==null||p.call(o),c===uh?a:(a.push(c),o=Proxy.revocable(l,r),o.proxy)},Proxy.revocable(Object.create(null),r).proxy}function Rc(a,r){const{[uh]:o}=a(By());return o.join((r==null?void 0:r.keySeparator)??".")}const gp={},yc=a=>!pt(a)&&typeof a!="boolean"&&typeof a!="number";class zl extends ql{constructor(r,o={}){super(),Py(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=o,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Qr.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r,o={interpolation:{}}){const l={...o};if(r==null)return!1;const c=this.resolve(r,l);if((c==null?void 0:c.res)===void 0)return!1;const p=yc(c.res);return!(l.returnObjects===!1&&p)}extractFromKey(r,o){let l=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;l===void 0&&(l=":");const c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let p=o.ns||this.options.defaultNS||[];const g=l&&r.indexOf(l)>-1,v=!this.options.userDefinedKeySeparator&&!o.keySeparator&&!this.options.userDefinedNsSeparator&&!o.nsSeparator&&!My(r,l,c);if(g&&!v){const x=r.match(this.interpolator.nestingRegexp);if(x&&x.length>0)return{key:r,namespaces:pt(p)?[p]:p};const E=r.split(l);(l!==c||l===c&&this.options.ns.indexOf(E[0])>-1)&&(p=E.shift()),r=E.join(c)}return{key:r,namespaces:pt(p)?[p]:p}}translate(r,o,l){let c=typeof o=="object"?{...o}:o;if(typeof c!="object"&&this.options.overloadTranslationOptionHandler&&(c=this.options.overloadTranslationOptionHandler(arguments)),typeof c=="object"&&(c={...c}),c||(c={}),r==null)return"";typeof r=="function"&&(r=Rc(r,{...this.options,...c})),Array.isArray(r)||(r=[String(r)]);const p=c.returnDetails!==void 0?c.returnDetails:this.options.returnDetails,g=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,{key:v,namespaces:x}=this.extractFromKey(r[r.length-1],c),E=x[x.length-1];let _=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;_===void 0&&(_=":");const k=c.lng||this.language,O=c.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((k==null?void 0:k.toLowerCase())==="cimode")return O?p?{res:`${E}${_}${v}`,usedKey:v,exactUsedKey:v,usedLng:k,usedNS:E,usedParams:this.getUsedParamsDetails(c)}:`${E}${_}${v}`:p?{res:v,usedKey:v,exactUsedKey:v,usedLng:k,usedNS:E,usedParams:this.getUsedParamsDetails(c)}:v;const j=this.resolve(r,c);let D=j==null?void 0:j.res;const W=(j==null?void 0:j.usedKey)||v,re=(j==null?void 0:j.exactUsedKey)||v,ye=["[object Number]","[object Function]","[object RegExp]"],ue=c.joinArrays!==void 0?c.joinArrays:this.options.joinArrays,le=!this.i18nFormat||this.i18nFormat.handleAsObject,oe=c.count!==void 0&&!pt(c.count),Be=zl.hasDefaultValue(c),We=oe?this.pluralResolver.getSuffix(k,c.count,c):"",V=c.ordinal&&oe?this.pluralResolver.getSuffix(k,c.count,{ordinal:!1}):"",Ne=oe&&!c.ordinal&&c.count===0,Oe=Ne&&c[`defaultValue${this.options.pluralSeparator}zero`]||c[`defaultValue${We}`]||c[`defaultValue${V}`]||c.defaultValue;let _e=D;le&&!D&&Be&&(_e=Oe);const dt=yc(_e),je=Object.prototype.toString.apply(_e);if(le&&_e&&dt&&ye.indexOf(je)<0&&!(pt(ue)&&Array.isArray(_e))){if(!c.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const we=this.options.returnedObjectHandler?this.options.returnedObjectHandler(W,_e,{...c,ns:x}):`key '${v} (${this.language})' returned an object instead of string.`;return p?(j.res=we,j.usedParams=this.getUsedParamsDetails(c),j):we}if(g){const we=Array.isArray(_e),be=we?[]:{},nt=we?re:W;for(const rt in _e)if(Object.prototype.hasOwnProperty.call(_e,rt)){const it=`${nt}${g}${rt}`;Be&&!D?be[rt]=this.translate(it,{...c,defaultValue:yc(Oe)?Oe[rt]:void 0,joinArrays:!1,ns:x}):be[rt]=this.translate(it,{...c,joinArrays:!1,ns:x}),be[rt]===it&&(be[rt]=_e[rt])}D=be}}else if(le&&pt(ue)&&Array.isArray(D))D=D.join(ue),D&&(D=this.extendTranslation(D,r,c,l));else{let we=!1,be=!1;!this.isValidLookup(D)&&Be&&(we=!0,D=Oe),this.isValidLookup(D)||(be=!0,D=v);const rt=(c.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&be?void 0:D,it=Be&&Oe!==D&&this.options.updateMissing;if(be||we||it){if(this.logger.log(it?"updateKey":"missingKey",k,E,v,it?Oe:D),g){const P=this.resolve(v,{...c,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let se=[];const De=this.languageUtils.getFallbackCodes(this.options.fallbackLng,c.lng||this.language);if(this.options.saveMissingTo==="fallback"&&De&&De[0])for(let P=0;P<De.length;P++)se.push(De[P]);else this.options.saveMissingTo==="all"?se=this.languageUtils.toResolveHierarchy(c.lng||this.language):se.push(c.lng||this.language);const Y=(P,G,Se)=>{var He;const ge=Be&&Se!==D?Se:rt;this.options.missingKeyHandler?this.options.missingKeyHandler(P,E,G,ge,it,c):(He=this.backendConnector)!=null&&He.saveMissing&&this.backendConnector.saveMissing(P,E,G,ge,it,c),this.emit("missingKey",P,E,G,D)};this.options.saveMissing&&(this.options.saveMissingPlurals&&oe?se.forEach(P=>{const G=this.pluralResolver.getSuffixes(P,c);Ne&&c[`defaultValue${this.options.pluralSeparator}zero`]&&G.indexOf(`${this.options.pluralSeparator}zero`)<0&&G.push(`${this.options.pluralSeparator}zero`),G.forEach(Se=>{Y([P],v+Se,c[`defaultValue${Se}`]||Oe)})}):Y(se,v,Oe))}D=this.extendTranslation(D,r,c,j,l),be&&D===v&&this.options.appendNamespaceToMissingKey&&(D=`${E}${_}${v}`),(be||we)&&this.options.parseMissingKeyHandler&&(D=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${E}${_}${v}`:v,we?D:void 0,c))}return p?(j.res=D,j.usedParams=this.getUsedParamsDetails(c),j):D}extendTranslation(r,o,l,c,p){var x,E;if((x=this.i18nFormat)!=null&&x.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...l},l.lng||this.language||c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!l.skipInterpolation){l.interpolation&&this.interpolator.init({...l,interpolation:{...this.options.interpolation,...l.interpolation}});const _=pt(r)&&(((E=l==null?void 0:l.interpolation)==null?void 0:E.skipOnVariables)!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let k;if(_){const j=r.match(this.interpolator.nestingRegexp);k=j&&j.length}let O=l.replace&&!pt(l.replace)?l.replace:l;if(this.options.interpolation.defaultVariables&&(O={...this.options.interpolation.defaultVariables,...O}),r=this.interpolator.interpolate(r,O,l.lng||this.language||c.usedLng,l),_){const j=r.match(this.interpolator.nestingRegexp),D=j&&j.length;k<D&&(l.nest=!1)}!l.lng&&c&&c.res&&(l.lng=this.language||c.usedLng),l.nest!==!1&&(r=this.interpolator.nest(r,(...j)=>(p==null?void 0:p[0])===j[0]&&!l.context?(this.logger.warn(`It seems you are nesting recursively key: ${j[0]} in key: ${o[0]}`),null):this.translate(...j,o),l)),l.interpolation&&this.interpolator.reset()}const g=l.postProcess||this.options.postProcess,v=pt(g)?[g]:g;return r!=null&&(v!=null&&v.length)&&l.applyPostProcessor!==!1&&(r=lh.handle(v,r,o,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...c,usedParams:this.getUsedParamsDetails(l)},...l}:l,this)),r}resolve(r,o={}){let l,c,p,g,v;return pt(r)&&(r=[r]),r.forEach(x=>{if(this.isValidLookup(l))return;const E=this.extractFromKey(x,o),_=E.key;c=_;let k=E.namespaces;this.options.fallbackNS&&(k=k.concat(this.options.fallbackNS));const O=o.count!==void 0&&!pt(o.count),j=O&&!o.ordinal&&o.count===0,D=o.context!==void 0&&(pt(o.context)||typeof o.context=="number")&&o.context!=="",W=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);k.forEach(re=>{var ye,ue;this.isValidLookup(l)||(v=re,!gp[`${W[0]}-${re}`]&&((ye=this.utils)!=null&&ye.hasLoadedNamespace)&&!((ue=this.utils)!=null&&ue.hasLoadedNamespace(v))&&(gp[`${W[0]}-${re}`]=!0,this.logger.warn(`key "${c}" for languages "${W.join(", ")}" won't get resolved as namespace "${v}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),W.forEach(le=>{var We;if(this.isValidLookup(l))return;g=le;const oe=[_];if((We=this.i18nFormat)!=null&&We.addLookupKeys)this.i18nFormat.addLookupKeys(oe,_,le,re,o);else{let V;O&&(V=this.pluralResolver.getSuffix(le,o.count,o));const Ne=`${this.options.pluralSeparator}zero`,Oe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(O&&(o.ordinal&&V.indexOf(Oe)===0&&oe.push(_+V.replace(Oe,this.options.pluralSeparator)),oe.push(_+V),j&&oe.push(_+Ne)),D){const _e=`${_}${this.options.contextSeparator||"_"}${o.context}`;oe.push(_e),O&&(o.ordinal&&V.indexOf(Oe)===0&&oe.push(_e+V.replace(Oe,this.options.pluralSeparator)),oe.push(_e+V),j&&oe.push(_e+Ne))}}let Be;for(;Be=oe.pop();)this.isValidLookup(l)||(p=Be,l=this.getResource(le,re,Be,o))}))})}),{res:l,usedKey:c,exactUsedKey:p,usedLng:g,usedNS:v}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,o,l,c={}){var p;return(p=this.i18nFormat)!=null&&p.getResource?this.i18nFormat.getResource(r,o,l,c):this.resourceStore.getResource(r,o,l,c)}getUsedParamsDetails(r={}){const o=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],l=r.replace&&!pt(r.replace);let c=l?r.replace:r;if(l&&typeof r.count<"u"&&(c.count=r.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!l){c={...c};for(const p of o)delete c[p]}return c}static hasDefaultValue(r){const o="defaultValue";for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)&&o===l.substring(0,o.length)&&r[l]!==void 0)return!0;return!1}}class yp{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Qr.create("languageUtils")}getScriptPartFromCode(r){if(r=ys(r),!r||r.indexOf("-")<0)return null;const o=r.split("-");return o.length===2||(o.pop(),o[o.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(o.join("-"))}getLanguagePartFromCode(r){if(r=ys(r),!r||r.indexOf("-")<0)return r;const o=r.split("-");return this.formatLanguageCode(o[0])}formatLanguageCode(r){if(pt(r)&&r.indexOf("-")>-1){let o;try{o=Intl.getCanonicalLocales(r)[0]}catch{}return o&&this.options.lowerCaseLng&&(o=o.toLowerCase()),o||(this.options.lowerCaseLng?r.toLowerCase():r)}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let o;return r.forEach(l=>{if(o)return;const c=this.formatLanguageCode(l);(!this.options.supportedLngs||this.isSupportedCode(c))&&(o=c)}),!o&&this.options.supportedLngs&&r.forEach(l=>{if(o)return;const c=this.getScriptPartFromCode(l);if(this.isSupportedCode(c))return o=c;const p=this.getLanguagePartFromCode(l);if(this.isSupportedCode(p))return o=p;o=this.options.supportedLngs.find(g=>{if(g===p)return g;if(!(g.indexOf("-")<0&&p.indexOf("-")<0)&&(g.indexOf("-")>0&&p.indexOf("-")<0&&g.substring(0,g.indexOf("-"))===p||g.indexOf(p)===0&&p.length>1))return g})}),o||(o=this.getFallbackCodes(this.options.fallbackLng)[0]),o}getFallbackCodes(r,o){if(!r)return[];if(typeof r=="function"&&(r=r(o)),pt(r)&&(r=[r]),Array.isArray(r))return r;if(!o)return r.default||[];let l=r[o];return l||(l=r[this.getScriptPartFromCode(o)]),l||(l=r[this.formatLanguageCode(o)]),l||(l=r[this.getLanguagePartFromCode(o)]),l||(l=r.default),l||[]}toResolveHierarchy(r,o){const l=this.getFallbackCodes((o===!1?[]:o)||this.options.fallbackLng||[],r),c=[],p=g=>{g&&(this.isSupportedCode(g)?c.push(g):this.logger.warn(`rejecting language code not found in supportedLngs: ${g}`))};return pt(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&p(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&p(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&p(this.getLanguagePartFromCode(r))):pt(r)&&p(this.formatLanguageCode(r)),l.forEach(g=>{c.indexOf(g)<0&&p(this.formatLanguageCode(g))}),c}}const vp={zero:0,one:1,two:2,few:3,many:4,other:5},xp={select:a=>a===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Uy{constructor(r,o={}){this.languageUtils=r,this.options=o,this.logger=Qr.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(r,o={}){const l=ys(r==="dev"?"en":r),c=o.ordinal?"ordinal":"cardinal",p=JSON.stringify({cleanedCode:l,type:c});if(p in this.pluralRulesCache)return this.pluralRulesCache[p];let g;try{g=new Intl.PluralRules(l,{type:c})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),xp;if(!r.match(/-|_/))return xp;const x=this.languageUtils.getLanguagePartFromCode(r);g=this.getRule(x,o)}return this.pluralRulesCache[p]=g,g}needsPlural(r,o={}){let l=this.getRule(r,o);return l||(l=this.getRule("dev",o)),(l==null?void 0:l.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(r,o,l={}){return this.getSuffixes(r,l).map(c=>`${o}${c}`)}getSuffixes(r,o={}){let l=this.getRule(r,o);return l||(l=this.getRule("dev",o)),l?l.resolvedOptions().pluralCategories.sort((c,p)=>vp[c]-vp[p]).map(c=>`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${c}`):[]}getSuffix(r,o,l={}){const c=this.getRule(r,l);return c?`${this.options.prepend}${l.ordinal?`ordinal${this.options.prepend}`:""}${c.select(o)}`:(this.logger.warn(`no plural rule found for: ${r}`),this.getSuffix("dev",o,l))}}const wp=(a,r,o,l=".",c=!0)=>{let p=Ty(a,r,o);return!p&&c&&pt(o)&&(p=Pc(a,o,l),p===void 0&&(p=Pc(r,o,l))),p},vc=a=>a.replace(/\$/g,"$$$$");class bp{constructor(r={}){var o;this.logger=Qr.create("interpolator"),this.options=r,this.format=((o=r==null?void 0:r.interpolation)==null?void 0:o.format)||(l=>l),this.init(r)}init(r={}){r.interpolation||(r.interpolation={escapeValue:!0});const{escape:o,escapeValue:l,useRawValueToEscape:c,prefix:p,prefixEscaped:g,suffix:v,suffixEscaped:x,formatSeparator:E,unescapeSuffix:_,unescapePrefix:k,nestingPrefix:O,nestingPrefixEscaped:j,nestingSuffix:D,nestingSuffixEscaped:W,nestingOptionsSeparator:re,maxReplaces:ye,alwaysFormat:ue}=r.interpolation;this.escape=o!==void 0?o:Dy,this.escapeValue=l!==void 0?l:!0,this.useRawValueToEscape=c!==void 0?c:!1,this.prefix=p?jo(p):g||"{{",this.suffix=v?jo(v):x||"}}",this.formatSeparator=E||",",this.unescapePrefix=_?"":k||"-",this.unescapeSuffix=this.unescapePrefix?"":_||"",this.nestingPrefix=O?jo(O):j||jo("$t("),this.nestingSuffix=D?jo(D):W||jo(")"),this.nestingOptionsSeparator=re||",",this.maxReplaces=ye||1e3,this.alwaysFormat=ue!==void 0?ue:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const r=(o,l)=>(o==null?void 0:o.source)===l?(o.lastIndex=0,o):new RegExp(l,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(r,o,l,c){var j;let p,g,v;const x=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},E=D=>{if(D.indexOf(this.formatSeparator)<0){const ue=wp(o,x,D,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(ue,void 0,l,{...c,...o,interpolationkey:D}):ue}const W=D.split(this.formatSeparator),re=W.shift().trim(),ye=W.join(this.formatSeparator).trim();return this.format(wp(o,x,re,this.options.keySeparator,this.options.ignoreJSONStructure),ye,l,{...c,...o,interpolationkey:re})};this.resetRegExp();const _=(c==null?void 0:c.missingInterpolationHandler)||this.options.missingInterpolationHandler,k=((j=c==null?void 0:c.interpolation)==null?void 0:j.skipOnVariables)!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:D=>vc(D)},{regex:this.regexp,safeValue:D=>this.escapeValue?vc(this.escape(D)):vc(D)}].forEach(D=>{for(v=0;p=D.regex.exec(r);){const W=p[1].trim();if(g=E(W),g===void 0)if(typeof _=="function"){const ye=_(r,p,c);g=pt(ye)?ye:""}else if(c&&Object.prototype.hasOwnProperty.call(c,W))g="";else if(k){g=p[0];continue}else this.logger.warn(`missed to pass in variable ${W} for interpolating ${r}`),g="";else!pt(g)&&!this.useRawValueToEscape&&(g=dp(g));const re=D.safeValue(g);if(r=r.replace(p[0],re),k?(D.regex.lastIndex+=g.length,D.regex.lastIndex-=p[0].length):D.regex.lastIndex=0,v++,v>=this.maxReplaces)break}}),r}nest(r,o,l={}){let c,p,g;const v=(x,E)=>{const _=this.nestingOptionsSeparator;if(x.indexOf(_)<0)return x;const k=x.split(new RegExp(`${jo(_)}[ ]*{`));let O=`{${k[1]}`;x=k[0],O=this.interpolate(O,g);const j=O.match(/'/g),D=O.match(/"/g);(((j==null?void 0:j.length)??0)%2===0&&!D||((D==null?void 0:D.length)??0)%2!==0)&&(O=O.replace(/'/g,'"'));try{g=JSON.parse(O),E&&(g={...E,...g})}catch(W){return this.logger.warn(`failed parsing options string in nesting for key ${x}`,W),`${x}${_}${O}`}return g.defaultValue&&g.defaultValue.indexOf(this.prefix)>-1&&delete g.defaultValue,x};for(;c=this.nestingRegexp.exec(r);){let x=[];g={...l},g=g.replace&&!pt(g.replace)?g.replace:g,g.applyPostProcessor=!1,delete g.defaultValue;const E=/{.*}/.test(c[1])?c[1].lastIndexOf("}")+1:c[1].indexOf(this.formatSeparator);if(E!==-1&&(x=c[1].slice(E).split(this.formatSeparator).map(_=>_.trim()).filter(Boolean),c[1]=c[1].slice(0,E)),p=o(v.call(this,c[1].trim(),g),g),p&&c[0]===r&&!pt(p))return p;pt(p)||(p=dp(p)),p||(this.logger.warn(`missed to resolve ${c[1]} for nesting ${r}`),p=""),x.length&&(p=x.reduce((_,k)=>this.format(_,k,l.lng,{...l,interpolationkey:c[1].trim()}),p.trim())),r=r.replace(c[0],p),this.regexp.lastIndex=0}return r}}const zy=a=>{let r=a.toLowerCase().trim();const o={};if(a.indexOf("(")>-1){const l=a.split("(");r=l[0].toLowerCase().trim();const c=l[1].substring(0,l[1].length-1);r==="currency"&&c.indexOf(":")<0?o.currency||(o.currency=c.trim()):r==="relativetime"&&c.indexOf(":")<0?o.range||(o.range=c.trim()):c.split(";").forEach(g=>{if(g){const[v,...x]=g.split(":"),E=x.join(":").trim().replace(/^'+|'+$/g,""),_=v.trim();o[_]||(o[_]=E),E==="false"&&(o[_]=!1),E==="true"&&(o[_]=!0),isNaN(E)||(o[_]=parseInt(E,10))}})}return{formatName:r,formatOptions:o}},Sp=a=>{const r={};return(o,l,c)=>{let p=c;c&&c.interpolationkey&&c.formatParams&&c.formatParams[c.interpolationkey]&&c[c.interpolationkey]&&(p={...p,[c.interpolationkey]:void 0});const g=l+JSON.stringify(p);let v=r[g];return v||(v=a(ys(l),c),r[g]=v),v(o)}},Hy=a=>(r,o,l)=>a(ys(o),l)(r);class $y{constructor(r={}){this.logger=Qr.create("formatter"),this.options=r,this.init(r)}init(r,o={interpolation:{}}){this.formatSeparator=o.interpolation.formatSeparator||",";const l=o.cacheInBuiltFormats?Sp:Hy;this.formats={number:l((c,p)=>{const g=new Intl.NumberFormat(c,{...p});return v=>g.format(v)}),currency:l((c,p)=>{const g=new Intl.NumberFormat(c,{...p,style:"currency"});return v=>g.format(v)}),datetime:l((c,p)=>{const g=new Intl.DateTimeFormat(c,{...p});return v=>g.format(v)}),relativetime:l((c,p)=>{const g=new Intl.RelativeTimeFormat(c,{...p});return v=>g.format(v,p.range||"day")}),list:l((c,p)=>{const g=new Intl.ListFormat(c,{...p});return v=>g.format(v)})}}add(r,o){this.formats[r.toLowerCase().trim()]=o}addCached(r,o){this.formats[r.toLowerCase().trim()]=Sp(o)}format(r,o,l,c={}){const p=o.split(this.formatSeparator);if(p.length>1&&p[0].indexOf("(")>1&&p[0].indexOf(")")<0&&p.find(v=>v.indexOf(")")>-1)){const v=p.findIndex(x=>x.indexOf(")")>-1);p[0]=[p[0],...p.splice(1,v)].join(this.formatSeparator)}return p.reduce((v,x)=>{var k;const{formatName:E,formatOptions:_}=zy(x);if(this.formats[E]){let O=v;try{const j=((k=c==null?void 0:c.formatParams)==null?void 0:k[c.interpolationkey])||{},D=j.locale||j.lng||c.locale||c.lng||l;O=this.formats[E](v,D,{..._,...c,...j})}catch(j){this.logger.warn(j)}return O}else this.logger.warn(`there was no format function for ${E}`);return v},r)}}const Vy=(a,r)=>{a.pending[r]!==void 0&&(delete a.pending[r],a.pendingCount--)};class Ky extends ql{constructor(r,o,l,c={}){var p,g;super(),this.backend=r,this.store=o,this.services=l,this.languageUtils=l.languageUtils,this.options=c,this.logger=Qr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=c.maxParallelReads||10,this.readingCalls=0,this.maxRetries=c.maxRetries>=0?c.maxRetries:5,this.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,this.state={},this.queue=[],(g=(p=this.backend)==null?void 0:p.init)==null||g.call(p,l,c.backend,c)}queueLoad(r,o,l,c){const p={},g={},v={},x={};return r.forEach(E=>{let _=!0;o.forEach(k=>{const O=`${E}|${k}`;!l.reload&&this.store.hasResourceBundle(E,k)?this.state[O]=2:this.state[O]<0||(this.state[O]===1?g[O]===void 0&&(g[O]=!0):(this.state[O]=1,_=!1,g[O]===void 0&&(g[O]=!0),p[O]===void 0&&(p[O]=!0),x[k]===void 0&&(x[k]=!0)))}),_||(v[E]=!0)}),(Object.keys(p).length||Object.keys(g).length)&&this.queue.push({pending:g,pendingCount:Object.keys(g).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(p),pending:Object.keys(g),toLoadLanguages:Object.keys(v),toLoadNamespaces:Object.keys(x)}}loaded(r,o,l){const c=r.split("|"),p=c[0],g=c[1];o&&this.emit("failedLoading",p,g,o),!o&&l&&this.store.addResourceBundle(p,g,l,void 0,void 0,{skipCopy:!0}),this.state[r]=o?-1:2,o&&l&&(this.state[r]=0);const v={};this.queue.forEach(x=>{jy(x.loaded,[p],g),Vy(x,r),o&&x.errors.push(o),x.pendingCount===0&&!x.done&&(Object.keys(x.loaded).forEach(E=>{v[E]||(v[E]={});const _=x.loaded[E];_.length&&_.forEach(k=>{v[E][k]===void 0&&(v[E][k]=!0)})}),x.done=!0,x.errors.length?x.callback(x.errors):x.callback())}),this.emit("loaded",v),this.queue=this.queue.filter(x=>!x.done)}read(r,o,l,c=0,p=this.retryTimeout,g){if(!r.length)return g(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:o,fcName:l,tried:c,wait:p,callback:g});return}this.readingCalls++;const v=(E,_)=>{if(this.readingCalls--,this.waitingReads.length>0){const k=this.waitingReads.shift();this.read(k.lng,k.ns,k.fcName,k.tried,k.wait,k.callback)}if(E&&_&&c<this.maxRetries){setTimeout(()=>{this.read.call(this,r,o,l,c+1,p*2,g)},p);return}g(E,_)},x=this.backend[l].bind(this.backend);if(x.length===2){try{const E=x(r,o);E&&typeof E.then=="function"?E.then(_=>v(null,_)).catch(v):v(null,E)}catch(E){v(E)}return}return x(r,o,v)}prepareLoading(r,o,l={},c){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();pt(r)&&(r=this.languageUtils.toResolveHierarchy(r)),pt(o)&&(o=[o]);const p=this.queueLoad(r,o,l,c);if(!p.toLoad.length)return p.pending.length||c(),null;p.toLoad.forEach(g=>{this.loadOne(g)})}load(r,o,l){this.prepareLoading(r,o,{},l)}reload(r,o,l){this.prepareLoading(r,o,{reload:!0},l)}loadOne(r,o=""){const l=r.split("|"),c=l[0],p=l[1];this.read(c,p,"read",void 0,void 0,(g,v)=>{g&&this.logger.warn(`${o}loading namespace ${p} for language ${c} failed`,g),!g&&v&&this.logger.log(`${o}loaded namespace ${p} for language ${c}`,v),this.loaded(r,g,v)})}saveMissing(r,o,l,c,p,g={},v=()=>{}){var x,E,_,k,O;if((E=(x=this.services)==null?void 0:x.utils)!=null&&E.hasLoadedNamespace&&!((k=(_=this.services)==null?void 0:_.utils)!=null&&k.hasLoadedNamespace(o))){this.logger.warn(`did not save key "${l}" as the namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(l==null||l==="")){if((O=this.backend)!=null&&O.create){const j={...g,isUpdate:p},D=this.backend.create.bind(this.backend);if(D.length<6)try{let W;D.length===5?W=D(r,o,l,c,j):W=D(r,o,l,c),W&&typeof W.then=="function"?W.then(re=>v(null,re)).catch(v):v(null,W)}catch(W){v(W)}else D(r,o,l,c,v,j)}!r||!r[0]||this.store.addResource(r[0],o,l,c)}}}const xc=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:a=>{let r={};if(typeof a[1]=="object"&&(r=a[1]),pt(a[1])&&(r.defaultValue=a[1]),pt(a[2])&&(r.tDescription=a[2]),typeof a[2]=="object"||typeof a[3]=="object"){const o=a[3]||a[2];Object.keys(o).forEach(l=>{r[l]=o[l]})}return r},interpolation:{escapeValue:!0,format:a=>a,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Ep=a=>{var r,o;return pt(a.ns)&&(a.ns=[a.ns]),pt(a.fallbackLng)&&(a.fallbackLng=[a.fallbackLng]),pt(a.fallbackNS)&&(a.fallbackNS=[a.fallbackNS]),((o=(r=a.supportedLngs)==null?void 0:r.indexOf)==null?void 0:o.call(r,"cimode"))<0&&(a.supportedLngs=a.supportedLngs.concat(["cimode"])),typeof a.initImmediate=="boolean"&&(a.initAsync=a.initImmediate),a},jl=()=>{},qy=a=>{Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(o=>{typeof a[o]=="function"&&(a[o]=a[o].bind(a))})},ch="__i18next_supportNoticeShown",Wy=()=>typeof globalThis<"u"&&!!globalThis[ch],Yy=()=>{typeof globalThis<"u"&&(globalThis[ch]=!0)},Qy=a=>{var r,o,l,c,p,g,v,x,E,_,k,O,j;return!!(((l=(o=(r=a==null?void 0:a.modules)==null?void 0:r.backend)==null?void 0:o.name)==null?void 0:l.indexOf("Locize"))>0||((v=(g=(p=(c=a==null?void 0:a.modules)==null?void 0:c.backend)==null?void 0:p.constructor)==null?void 0:g.name)==null?void 0:v.indexOf("Locize"))>0||(E=(x=a==null?void 0:a.options)==null?void 0:x.backend)!=null&&E.backends&&a.options.backend.backends.some(D=>{var W,re,ye;return((W=D==null?void 0:D.name)==null?void 0:W.indexOf("Locize"))>0||((ye=(re=D==null?void 0:D.constructor)==null?void 0:re.name)==null?void 0:ye.indexOf("Locize"))>0})||(k=(_=a==null?void 0:a.options)==null?void 0:_.backend)!=null&&k.projectId||(j=(O=a==null?void 0:a.options)==null?void 0:O.backend)!=null&&j.backendOptions&&a.options.backend.backendOptions.some(D=>D==null?void 0:D.projectId))};class hs extends ql{constructor(r={},o){if(super(),this.options=Ep(r),this.services={},this.logger=Qr,this.modules={external:[]},qy(this),o&&!this.isInitialized&&!r.isClone){if(!this.options.initAsync)return this.init(r,o),this;setTimeout(()=>{this.init(r,o)},0)}}init(r={},o){this.isInitializing=!0,typeof r=="function"&&(o=r,r={}),r.defaultNS==null&&r.ns&&(pt(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const l=xc();this.options={...l,...this.options,...Ep(r)},this.options.interpolation={...l.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=l.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!Qy(this)&&!Wy()&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),Yy());const c=E=>E?typeof E=="function"?new E:E:null;if(!this.options.isClone){this.modules.logger?Qr.init(c(this.modules.logger),this.options):Qr.init(null,this.options);let E;this.modules.formatter?E=this.modules.formatter:E=$y;const _=new yp(this.options);this.store=new mp(this.options.resources,this.options);const k=this.services;k.logger=Qr,k.resourceStore=this.store,k.languageUtils=_,k.pluralResolver=new Uy(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==l.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),E&&(!this.options.interpolation.format||this.options.interpolation.format===l.interpolation.format)&&(k.formatter=c(E),k.formatter.init&&k.formatter.init(k,this.options),this.options.interpolation.format=k.formatter.format.bind(k.formatter)),k.interpolator=new bp(this.options),k.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},k.backendConnector=new Ky(c(this.modules.backend),k.resourceStore,k,this.options),k.backendConnector.on("*",(j,...D)=>{this.emit(j,...D)}),this.modules.languageDetector&&(k.languageDetector=c(this.modules.languageDetector),k.languageDetector.init&&k.languageDetector.init(k,this.options.detection,this.options)),this.modules.i18nFormat&&(k.i18nFormat=c(this.modules.i18nFormat),k.i18nFormat.init&&k.i18nFormat.init(this)),this.translator=new zl(this.services,this.options),this.translator.on("*",(j,...D)=>{this.emit(j,...D)}),this.modules.external.forEach(j=>{j.init&&j.init(this)})}if(this.format=this.options.interpolation.format,o||(o=jl),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const E=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);E.length>0&&E[0]!=="dev"&&(this.options.lng=E[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(E=>{this[E]=(..._)=>this.store[E](..._)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(E=>{this[E]=(..._)=>(this.store[E](..._),this)});const v=ds(),x=()=>{const E=(_,k)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),v.resolve(k),o(_,k)};if(this.languages&&!this.isInitialized)return E(null,this.t.bind(this));this.changeLanguage(this.options.lng,E)};return this.options.resources||!this.options.initAsync?x():setTimeout(x,0),v}loadResources(r,o=jl){var p,g;let l=o;const c=pt(r)?r:this.language;if(typeof r=="function"&&(l=r),!this.options.resources||this.options.partialBundledLanguages){if((c==null?void 0:c.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return l();const v=[],x=E=>{if(!E||E==="cimode")return;this.services.languageUtils.toResolveHierarchy(E).forEach(k=>{k!=="cimode"&&v.indexOf(k)<0&&v.push(k)})};c?x(c):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(_=>x(_)),(g=(p=this.options.preload)==null?void 0:p.forEach)==null||g.call(p,E=>x(E)),this.services.backendConnector.load(v,this.options.ns,E=>{!E&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),l(E)})}else l(null)}reloadResources(r,o,l){const c=ds();return typeof r=="function"&&(l=r,r=void 0),typeof o=="function"&&(l=o,o=void 0),r||(r=this.languages),o||(o=this.options.ns),l||(l=jl),this.services.backendConnector.reload(r,o,p=>{c.resolve(),l(p)}),c}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&lh.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1)){for(let o=0;o<this.languages.length;o++){const l=this.languages[o];if(!(["cimode","dev"].indexOf(l)>-1)&&this.store.hasLanguageSomeTranslations(l)){this.resolvedLanguage=l;break}}!this.resolvedLanguage&&this.languages.indexOf(r)<0&&this.store.hasLanguageSomeTranslations(r)&&(this.resolvedLanguage=r,this.languages.unshift(r))}}changeLanguage(r,o){this.isLanguageChangingTo=r;const l=ds();this.emit("languageChanging",r);const c=v=>{this.language=v,this.languages=this.services.languageUtils.toResolveHierarchy(v),this.resolvedLanguage=void 0,this.setResolvedLanguage(v)},p=(v,x)=>{x?this.isLanguageChangingTo===r&&(c(x),this.translator.changeLanguage(x),this.isLanguageChangingTo=void 0,this.emit("languageChanged",x),this.logger.log("languageChanged",x)):this.isLanguageChangingTo=void 0,l.resolve((...E)=>this.t(...E)),o&&o(v,(...E)=>this.t(...E))},g=v=>{var _,k;!r&&!v&&this.services.languageDetector&&(v=[]);const x=pt(v)?v:v&&v[0],E=this.store.hasLanguageSomeTranslations(x)?x:this.services.languageUtils.getBestMatchFromCodes(pt(v)?[v]:v);E&&(this.language||c(E),this.translator.language||this.translator.changeLanguage(E),(k=(_=this.services.languageDetector)==null?void 0:_.cacheUserLanguage)==null||k.call(_,E)),this.loadResources(E,O=>{p(O,E)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?g(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(g):this.services.languageDetector.detect(g):g(r),l}getFixedT(r,o,l){const c=(p,g,...v)=>{let x;typeof g!="object"?x=this.options.overloadTranslationOptionHandler([p,g].concat(v)):x={...g},x.lng=x.lng||c.lng,x.lngs=x.lngs||c.lngs,x.ns=x.ns||c.ns,x.keyPrefix!==""&&(x.keyPrefix=x.keyPrefix||l||c.keyPrefix);const E=this.options.keySeparator||".";let _;return x.keyPrefix&&Array.isArray(p)?_=p.map(k=>(typeof k=="function"&&(k=Rc(k,{...this.options,...g})),`${x.keyPrefix}${E}${k}`)):(typeof p=="function"&&(p=Rc(p,{...this.options,...g})),_=x.keyPrefix?`${x.keyPrefix}${E}${p}`:p),this.t(_,x)};return pt(r)?c.lng=r:c.lngs=r,c.ns=o,c.keyPrefix=l,c}t(...r){var o;return(o=this.translator)==null?void 0:o.translate(...r)}exists(...r){var o;return(o=this.translator)==null?void 0:o.exists(...r)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r,o={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const l=o.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,p=this.languages[this.languages.length-1];if(l.toLowerCase()==="cimode")return!0;const g=(v,x)=>{const E=this.services.backendConnector.state[`${v}|${x}`];return E===-1||E===0||E===2};if(o.precheck){const v=o.precheck(this,g);if(v!==void 0)return v}return!!(this.hasResourceBundle(l,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||g(l,r)&&(!c||g(p,r)))}loadNamespaces(r,o){const l=ds();return this.options.ns?(pt(r)&&(r=[r]),r.forEach(c=>{this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}),this.loadResources(c=>{l.resolve(),o&&o(c)}),l):(o&&o(),Promise.resolve())}loadLanguages(r,o){const l=ds();pt(r)&&(r=[r]);const c=this.options.preload||[],p=r.filter(g=>c.indexOf(g)<0&&this.services.languageUtils.isSupportedCode(g));return p.length?(this.options.preload=c.concat(p),this.loadResources(g=>{l.resolve(),o&&o(g)}),l):(o&&o(),Promise.resolve())}dir(r){var c,p;if(r||(r=this.resolvedLanguage||(((c=this.languages)==null?void 0:c.length)>0?this.languages[0]:this.language)),!r)return"rtl";try{const g=new Intl.Locale(r);if(g&&g.getTextInfo){const v=g.getTextInfo();if(v&&v.direction)return v.direction}}catch{}const o=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],l=((p=this.services)==null?void 0:p.languageUtils)||new yp(xc());return r.toLowerCase().indexOf("-latn")>1?"ltr":o.indexOf(l.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(r={},o){const l=new hs(r,o);return l.createInstance=hs.createInstance,l}cloneInstance(r={},o=jl){const l=r.forkResourceStore;l&&delete r.forkResourceStore;const c={...this.options,...r,isClone:!0},p=new hs(c);if((r.debug!==void 0||r.prefix!==void 0)&&(p.logger=p.logger.clone(r)),["store","services","language"].forEach(v=>{p[v]=this[v]}),p.services={...this.services},p.services.utils={hasLoadedNamespace:p.hasLoadedNamespace.bind(p)},l){const v=Object.keys(this.store.data).reduce((x,E)=>(x[E]={...this.store.data[E]},x[E]=Object.keys(x[E]).reduce((_,k)=>(_[k]={...x[E][k]},_),x[E]),x),{});p.store=new mp(v,c),p.services.resourceStore=p.store}if(r.interpolation){const x={...xc().interpolation,...this.options.interpolation,...r.interpolation},E={...c,interpolation:x};p.services.interpolator=new bp(E)}return p.translator=new zl(p.services,c),p.translator.on("*",(v,...x)=>{p.emit(v,...x)}),p.init(c,o),p.translator.options=c,p.translator.backendConnector.services.utils={hasLoadedNamespace:p.hasLoadedNamespace.bind(p)},p}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Un=hs.createInstance();Un.createInstance;Un.dir;Un.init;Un.loadResources;Un.reloadResources;Un.use;Un.changeLanguage;Un.getFixedT;Un.t;Un.exists;Un.setDefaultNamespace;Un.hasLoadedNamespace;Un.loadNamespaces;Un.loadLanguages;const Gy=(a,r,o,l)=>{var p,g,v,x;const c=[o,{code:r,...l||{}}];if((g=(p=a==null?void 0:a.services)==null?void 0:p.logger)!=null&&g.forward)return a.services.logger.forward(c,"warn","react-i18next::",!0);Io(c[0])&&(c[0]=`react-i18next:: ${c[0]}`),(x=(v=a==null?void 0:a.services)==null?void 0:v.logger)!=null&&x.warn?a.services.logger.warn(...c):console!=null&&console.warn&&console.warn(...c)},kp={},dh=(a,r,o,l)=>{Io(o)&&kp[o]||(Io(o)&&(kp[o]=new Date),Gy(a,r,o,l))},fh=(a,r)=>()=>{if(a.isInitialized)r();else{const o=()=>{setTimeout(()=>{a.off("initialized",o)},0),r()};a.on("initialized",o)}},jc=(a,r,o)=>{a.loadNamespaces(r,fh(a,o))},Cp=(a,r,o,l)=>{if(Io(o)&&(o=[o]),a.options.preload&&a.options.preload.indexOf(r)>-1)return jc(a,o,l);o.forEach(c=>{a.options.ns.indexOf(c)<0&&a.options.ns.push(c)}),a.loadLanguages(r,fh(a,l))},Xy=(a,r,o={})=>!r.languages||!r.languages.length?(dh(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(a,{lng:o.lng,precheck:(l,c)=>{if(o.bindI18n&&o.bindI18n.indexOf("languageChanging")>-1&&l.services.backendConnector.backend&&l.isLanguageChangingTo&&!c(l.isLanguageChangingTo,a))return!1}}),Io=a=>typeof a=="string",Jy=a=>typeof a=="object"&&a!==null,Zy=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ev={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},tv=a=>ev[a],nv=a=>a.replace(Zy,tv);let Tc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:nv,transDefaultProps:void 0};const rv=(a={})=>{Tc={...Tc,...a}},av=()=>Tc;let ph;const ov=a=>{ph=a},iv=()=>ph,sv={type:"3rdParty",init(a){rv(a.options.react),ov(a)}},lv=Z.createContext();class uv{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(o=>{this.usedNamespaces[o]||(this.usedNamespaces[o]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var wc={exports:{}},bc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function cv(){if(Np)return bc;Np=1;var a=xs();function r(k,O){return k===O&&(k!==0||1/k===1/O)||k!==k&&O!==O}var o=typeof Object.is=="function"?Object.is:r,l=a.useState,c=a.useEffect,p=a.useLayoutEffect,g=a.useDebugValue;function v(k,O){var j=O(),D=l({inst:{value:j,getSnapshot:O}}),W=D[0].inst,re=D[1];return p(function(){W.value=j,W.getSnapshot=O,x(W)&&re({inst:W})},[k,j,O]),c(function(){return x(W)&&re({inst:W}),k(function(){x(W)&&re({inst:W})})},[k]),g(j),j}function x(k){var O=k.getSnapshot;k=k.value;try{var j=O();return!o(k,j)}catch{return!0}}function E(k,O){return O()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?E:v;return bc.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:_,bc}var _p;function dv(){return _p||(_p=1,wc.exports=cv()),wc.exports}var fv=dv();const pv=(a,r)=>Io(r)?r:Jy(r)&&Io(r.defaultValue)?r.defaultValue:Array.isArray(a)?a[a.length-1]:a,hv={t:pv,ready:!1},mv=()=>()=>{},to=(a,r={})=>{var Oe,_e,dt;const{i18n:o}=r,{i18n:l,defaultNS:c}=Z.useContext(lv)||{},p=o||l||iv();p&&!p.reportNamespaces&&(p.reportNamespaces=new uv),p||dh(p,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const g=Z.useMemo(()=>{var je;return{...av(),...(je=p==null?void 0:p.options)==null?void 0:je.react,...r}},[p,r]),{useSuspense:v,keyPrefix:x}=g,E=c||((Oe=p==null?void 0:p.options)==null?void 0:Oe.defaultNS),_=Io(E)?[E]:E||["translation"],k=Z.useMemo(()=>_,_);(dt=(_e=p==null?void 0:p.reportNamespaces)==null?void 0:_e.addUsedNamespaces)==null||dt.call(_e,k);const O=Z.useRef(0),j=Z.useCallback(je=>{if(!p)return mv;const{bindI18n:we,bindI18nStore:be}=g,nt=()=>{O.current+=1,je()};return we&&p.on(we,nt),be&&p.store.on(be,nt),()=>{we&&we.split(" ").forEach(rt=>p.off(rt,nt)),be&&be.split(" ").forEach(rt=>p.store.off(rt,nt))}},[p,g]),D=Z.useRef(),W=Z.useCallback(()=>{if(!p)return hv;const je=!!(p.isInitialized||p.initializedStoreOnce)&&k.every(se=>Xy(se,p,g)),we=r.lng||p.language,be=O.current,nt=D.current;if(nt&&nt.ready===je&&nt.lng===we&&nt.keyPrefix===x&&nt.revision===be)return nt;const it={t:p.getFixedT(we,g.nsMode==="fallback"?k:k[0],x),ready:je,lng:we,keyPrefix:x,revision:be};return D.current=it,it},[p,k,x,g,r.lng]),[re,ye]=Z.useState(0),{t:ue,ready:le}=fv.useSyncExternalStore(j,W,W);Z.useEffect(()=>{if(p&&!le&&!v){const je=()=>ye(we=>we+1);r.lng?Cp(p,r.lng,k,je):jc(p,k,je)}},[p,r.lng,k,le,v,re]);const oe=p||{},Be=Z.useRef(null),We=Z.useRef(),V=je=>{const we=Object.getOwnPropertyDescriptors(je);we.__original&&delete we.__original;const be=Object.create(Object.getPrototypeOf(je),we);if(!Object.prototype.hasOwnProperty.call(be,"__original"))try{Object.defineProperty(be,"__original",{value:je,writable:!1,enumerable:!1,configurable:!1})}catch{}return be},Ne=Z.useMemo(()=>{const je=oe,we=je==null?void 0:je.language;let be=je;je&&(Be.current&&Be.current.__original===je?We.current!==we?(be=V(je),Be.current=be,We.current=we):be=Be.current:(be=V(je),Be.current=be,We.current=we));const nt=[ue,be,le];return nt.t=ue,nt.i18n=be,nt.ready=le,nt},[ue,oe,le,oe.resolvedLanguage,oe.language,oe.languages]);if(p&&v&&!le)throw new Promise(je=>{const we=()=>je();r.lng?Cp(p,r.lng,k,we):jc(p,k,we)});return Ne};var Ll={exports:{}},gv=Ll.exports,Pp;function yv(){return Pp||(Pp=1,(function(a,r){((o,l)=>{a.exports=l()})(gv,function(){var o=function(i,u){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,m){f.__proto__=m}:function(f,m){for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(f[y]=m[y])}))(i,u)},l=function(){return(l=Object.assign||function(i){for(var u,f=1,m=arguments.length;f<m;f++)for(var y in u=arguments[f])Object.prototype.hasOwnProperty.call(u,y)&&(i[y]=u[y]);return i}).apply(this,arguments)};function c(i,u,f){for(var m,y=0,w=u.length;y<w;y++)!m&&y in u||((m=m||Array.prototype.slice.call(u,0,y))[y]=u[y]);return i.concat(m||Array.prototype.slice.call(u))}var p=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Cm,g=Object.keys,v=Array.isArray;function x(i,u){return typeof u=="object"&&g(u).forEach(function(f){i[f]=u[f]}),i}typeof Promise>"u"||p.Promise||(p.Promise=Promise);var E=Object.getPrototypeOf,_={}.hasOwnProperty;function k(i,u){return _.call(i,u)}function O(i,u){typeof u=="function"&&(u=u(E(i))),(typeof Reflect>"u"?g:Reflect.ownKeys)(u).forEach(function(f){D(i,f,u[f])})}var j=Object.defineProperty;function D(i,u,f,m){j(i,u,x(f&&k(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},m))}function W(i){return{from:function(u){return i.prototype=Object.create(u.prototype),D(i.prototype,"constructor",i),{extend:O.bind(null,i.prototype)}}}}var re=Object.getOwnPropertyDescriptor,ye=[].slice;function ue(i,u,f){return ye.call(i,u,f)}function le(i,u){return u(i)}function oe(i){if(!i)throw new Error("Assertion Failed")}function Be(i){p.setImmediate?setImmediate(i):setTimeout(i,0)}function We(i,u){if(typeof u=="string"&&k(i,u))return i[u];if(!u)return i;if(typeof u!="string"){for(var f=[],m=0,y=u.length;m<y;++m){var w=We(i,u[m]);f.push(w)}return f}var C,N=u.indexOf(".");return N===-1||(C=i[u.substr(0,N)])==null?void 0:We(C,u.substr(N+1))}function V(i,u,f){if(i&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof u!="string"&&"length"in u){oe(typeof f!="string"&&"length"in f);for(var m=0,y=u.length;m<y;++m)V(i,u[m],f[m])}else{var w,C,N=u.indexOf(".");N!==-1?(w=u.substr(0,N),(N=u.substr(N+1))===""?f===void 0?v(i)&&!isNaN(parseInt(w))?i.splice(w,1):delete i[w]:i[w]=f:V(C=(C=i[w])&&k(i,w)?C:i[w]={},N,f)):f===void 0?v(i)&&!isNaN(parseInt(u))?i.splice(u,1):delete i[u]:i[u]=f}}function Ne(i){var u,f={};for(u in i)k(i,u)&&(f[u]=i[u]);return f}var Oe=[].concat;function _e(i){return Oe.apply([],i)}var G="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(_e([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(u){return u+i+"Array"})}))).filter(function(i){return p[i]}),dt=new Set(G.map(function(i){return p[i]})),je=null;function we(i){return je=new WeakMap,i=(function u(f){if(!f||typeof f!="object")return f;var m=je.get(f);if(m)return m;if(v(f)){m=[],je.set(f,m);for(var y=0,w=f.length;y<w;++y)m.push(u(f[y]))}else if(dt.has(f.constructor))m=f;else{var C,N=E(f);for(C in m=N===Object.prototype?{}:Object.create(N),je.set(f,m),f)k(f,C)&&(m[C]=u(f[C]))}return m})(i),je=null,i}var be={}.toString;function nt(i){return be.call(i).slice(8,-1)}var rt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",it=typeof rt=="symbol"?function(i){var u;return i!=null&&(u=i[rt])&&u.apply(i)}:function(){return null};function se(i,u){u=i.indexOf(u),0<=u&&i.splice(u,1)}var De={};function Y(i){var u,f,m,y;if(arguments.length===1){if(v(i))return i.slice();if(this===De&&typeof i=="string")return[i];if(y=it(i))for(f=[];!(m=y.next()).done;)f.push(m.value);else{if(i==null)return[i];if(typeof(u=i.length)!="number")return[i];for(f=new Array(u);u--;)f[u]=i[u]}}else for(u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return f}var P=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},G=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],on=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(G),Se={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ge(i,u){this.name=i,this.message=u}function He(i,u){return i+". Errors: "+Object.keys(u).map(function(f){return u[f].toString()}).filter(function(f,m,y){return y.indexOf(f)===m}).join(`
`)}function ie(i,u,f,m){this.failures=u,this.failedKeys=m,this.successCount=f,this.message=He(i,u)}function Me(i,u){this.name="BulkError",this.failures=Object.keys(u).map(function(f){return u[f]}),this.failuresByPos=u,this.message=He(i,this.failures)}W(ge).from(Error).extend({toString:function(){return this.name+": "+this.message}}),W(ie).from(ge),W(Me).from(ge);var Ze=on.reduce(function(i,u){return i[u]=u+"Error",i},{}),ut=ge,Pe=on.reduce(function(i,u){var f=u+"Error";function m(y,w){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(w?`
 `+w:""),this.inner=w||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=Se[u]||f,this.inner=null)}return W(m).from(ut),i[u]=m,i},{}),rn=(Pe.Syntax=SyntaxError,Pe.Type=TypeError,Pe.Range=RangeError,G.reduce(function(i,u){return i[u+"Error"]=Pe[u],i},{}));G=on.reduce(function(i,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(i[u+"Error"]=Pe[u]),i},{});function tt(){}function ht(i){return i}function qt(i,u){return i==null||i===ht?u:function(f){return u(i(f))}}function Re(i,u){return function(){i.apply(this,arguments),u.apply(this,arguments)}}function et(i,u){return i===tt?u:function(){var f=i.apply(this,arguments),m=(f!==void 0&&(arguments[0]=f),this.onsuccess),y=this.onerror,w=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return m&&(this.onsuccess=this.onsuccess?Re(m,this.onsuccess):m),y&&(this.onerror=this.onerror?Re(y,this.onerror):y),w!==void 0?w:f}}function kt(i,u){return i===tt?u:function(){i.apply(this,arguments);var f=this.onsuccess,m=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Re(f,this.onsuccess):f),m&&(this.onerror=this.onerror?Re(m,this.onerror):m)}}function fn(i,u){return i===tt?u:function(y){var m=i.apply(this,arguments),y=(x(y,m),this.onsuccess),w=this.onerror,C=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?Re(y,this.onsuccess):y),w&&(this.onerror=this.onerror?Re(w,this.onerror):w),m===void 0?C===void 0?void 0:C:x(m,C)}}function ur(i,u){return i===tt?u:function(){return u.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function en(i,u){return i===tt?u:function(){var f=i.apply(this,arguments);if(f&&typeof f.then=="function"){for(var m=this,y=arguments.length,w=new Array(y);y--;)w[y]=arguments[y];return f.then(function(){return u.apply(m,w)})}return u.apply(this,arguments)}}G.ModifyError=ie,G.DexieError=ge,G.BulkError=Me;var an=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function va(i){an=i}var Mr={},Xn=100,zn=typeof Promise>"u"?[]:(on=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[zn=crypto.subtle.digest("SHA-512",new Uint8Array([0])),E(zn),on]:[on,E(on),on]),on=zn[0],aa=zn[1],aa=aa&&aa.then,On=on&&on.constructor,wn=!!zn[2],pn=function(i,u){xr.push([i,u]),Dn&&(queueMicrotask(Xr),Dn=!1)},cr=!0,Dn=!0,vr=[],Cn=[],Gr=ht,Jn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:tt,pgp:!1,env:{},finalize:tt},Ye=Jn,xr=[],Hn=0,Zn=[];function Te(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=Ye;if(typeof i!="function"){if(i!==Mr)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&xa(this,this._value)}else this._state=null,this._value=null,++u.ref,(function f(m,y){try{y(function(w){if(m._state===null){if(w===m)throw new TypeError("A promise cannot be resolved with itself.");var C=m._lib&&Ln();w&&typeof w.then=="function"?f(m,function(N,B){w instanceof Te?w._then(N,B):w.then(N,B)}):(m._state=!0,m._value=w,wa(m)),C&&wr()}},xa.bind(null,m))}catch(w){xa(m,w)}})(this,i)}var $n={get:function(){var i=Ye,u=at;function f(m,y){var w=this,C=!i.global&&(i!==Ye||u!==at),N=C&&!Ie(),B=new Te(function(K,I){ba(w,new er(At(m,i,C,N),At(y,i,C,N),K,I,i))});return this._consoleTask&&(B._consoleTask=this._consoleTask),B}return f.prototype=Mr,f},set:function(i){D(this,"then",i&&i.prototype===Mr?$n:{get:function(){return i},set:$n.set})}};function er(i,u,f,m,y){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof u=="function"?u:null,this.resolve=f,this.reject=m,this.psd=y}function xa(i,u){var f,m;Cn.push(u),i._state===null&&(f=i._lib&&Ln(),u=Gr(u),i._state=!1,i._value=u,m=i,vr.some(function(y){return y._value===m._value})||vr.push(m),wa(i),f)&&wr()}function wa(i){var u=i._listeners;i._listeners=[];for(var f=0,m=u.length;f<m;++f)ba(i,u[f]);var y=i._PSD;--y.ref||y.finalize(),Hn===0&&(++Hn,pn(function(){--Hn==0&&br()},[]))}function ba(i,u){if(i._state===null)i._listeners.push(u);else{var f=i._state?u.onFulfilled:u.onRejected;if(f===null)return(i._state?u.resolve:u.reject)(i._value);++u.psd.ref,++Hn,pn(ro,[f,i,u])}}function ro(i,u,f){try{var m,y=u._value;!u._state&&Cn.length&&(Cn=[]),m=an&&u._consoleTask?u._consoleTask.run(function(){return i(y)}):i(y),u._state||Cn.indexOf(y)!==-1||(w=>{for(var C=vr.length;C;)if(vr[--C]._value===w._value)return vr.splice(C,1)})(u),f.resolve(m)}catch(w){f.reject(w)}finally{--Hn==0&&br(),--f.psd.ref||f.psd.finalize()}}function Xr(){gt(Jn,function(){Ln()&&wr()})}function Ln(){var i=cr;return Dn=cr=!1,i}function wr(){var i,u,f;do for(;0<xr.length;)for(i=xr,xr=[],f=i.length,u=0;u<f;++u){var m=i[u];m[0].apply(null,m[1])}while(0<xr.length);Dn=cr=!0}function br(){for(var i=vr,u=(vr=[],i.forEach(function(m){m._PSD.onunhandled.call(null,m._value,m)}),Zn.slice(0)),f=u.length;f;)u[--f]()}function T(i){return new Te(Mr,!1,i)}function U(i,u){var f=Ye;return function(){var m=Ln(),y=Ye;try{return Lt(f,!0),i.apply(this,arguments)}catch(w){u&&u(w)}finally{Lt(y,!1),m&&wr()}}}O(Te.prototype,{then:$n,_then:function(i,u){ba(this,new er(null,null,i,u,Ye))},catch:function(i){var u,f;return arguments.length===1?this.then(null,i):(u=i,f=arguments[1],typeof u=="function"?this.then(null,function(m){return(m instanceof u?f:T)(m)}):this.then(null,function(m){return(m&&m.name===u?f:T)(m)}))},finally:function(i){return this.then(function(u){return Te.resolve(i()).then(function(){return u})},function(u){return Te.resolve(i()).then(function(){return T(u)})})},timeout:function(i,u){var f=this;return i<1/0?new Te(function(m,y){var w=setTimeout(function(){return y(new Pe.Timeout(u))},i);f.then(m,y).finally(clearTimeout.bind(null,w))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&D(Te.prototype,Symbol.toStringTag,"Dexie.Promise"),Jn.env=Pt(),O(Te,{all:function(){var i=Y.apply(null,arguments).map(ct);return new Te(function(u,f){i.length===0&&u([]);var m=i.length;i.forEach(function(y,w){return Te.resolve(y).then(function(C){i[w]=C,--m||u(i)},f)})})},resolve:function(i){return i instanceof Te?i:i&&typeof i.then=="function"?new Te(function(u,f){i.then(u,f)}):new Te(Mr,!0,i)},reject:T,race:function(){var i=Y.apply(null,arguments).map(ct);return new Te(function(u,f){i.map(function(m){return Te.resolve(m).then(u,f)})})},PSD:{get:function(){return Ye},set:function(i){return Ye=i}},totalEchoes:{get:function(){return at}},newPSD:Ue,usePSD:gt,scheduler:{get:function(){return pn},set:function(i){pn=i}},rejectionMapper:{get:function(){return Gr},set:function(i){Gr=i}},follow:function(i,u){return new Te(function(f,m){return Ue(function(y,w){var C=Ye;C.unhandleds=[],C.onunhandled=w,C.finalize=Re(function(){var N,B=this;N=function(){B.unhandleds.length===0?y():w(B.unhandleds[0])},Zn.push(function K(){N(),Zn.splice(Zn.indexOf(K),1)}),++Hn,pn(function(){--Hn==0&&br()},[])},C.finalize),i()},u,f,m)})}}),On&&(On.allSettled&&D(Te,"allSettled",function(){var i=Y.apply(null,arguments).map(ct);return new Te(function(u){i.length===0&&u([]);var f=i.length,m=new Array(f);i.forEach(function(y,w){return Te.resolve(y).then(function(C){return m[w]={status:"fulfilled",value:C}},function(C){return m[w]={status:"rejected",reason:C}}).then(function(){return--f||u(m)})})})}),On.any&&typeof AggregateError<"u"&&D(Te,"any",function(){var i=Y.apply(null,arguments).map(ct);return new Te(function(u,f){i.length===0&&f(new AggregateError([]));var m=i.length,y=new Array(m);i.forEach(function(w,C){return Te.resolve(w).then(function(N){return u(N)},function(N){y[C]=N,--m||f(new AggregateError(y))})})})}),On.withResolvers)&&(Te.withResolvers=On.withResolvers);var J={awaits:0,echoes:0,id:0},ce=0,ke=[],Qe=0,at=0,Ke=0;function Ue(i,C,f,m){var y=Ye,w=Object.create(y),C=(w.parent=y,w.ref=0,w.global=!1,w.id=++Ke,Jn.env,w.env=wn?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,allSettled:Te.allSettled,any:Te.any,resolve:Te.resolve,reject:Te.reject}:{},C&&x(w,C),++y.ref,w.finalize=function(){--this.parent.ref||this.parent.finalize()},gt(w,i,f,m));return w.ref===0&&w.finalize(),C}function Fe(){return J.id||(J.id=++ce),++J.awaits,J.echoes+=Xn,J.id}function Ie(){return!!J.awaits&&(--J.awaits==0&&(J.id=0),J.echoes=J.awaits*Xn,!0)}function ct(i){return J.echoes&&i&&i.constructor===On?(Fe(),i.then(function(u){return Ie(),u},function(u){return Ie(),Ot(u)})):i}function xt(){var i=ke[ke.length-1];ke.pop(),Lt(i,!1)}function Lt(i,u){var f,m,y=Ye;(u?!J.echoes||Qe++&&i===Ye:!Qe||--Qe&&i===Ye)||queueMicrotask(u?(function(w){++at,J.echoes&&--J.echoes!=0||(J.echoes=J.awaits=J.id=0),ke.push(Ye),Lt(w,!0)}).bind(null,i):xt),i!==Ye&&(Ye=i,y===Jn&&(Jn.env=Pt()),wn)&&(f=Jn.env.Promise,m=i.env,y.global||i.global)&&(Object.defineProperty(p,"Promise",m.PromiseProp),f.all=m.all,f.race=m.race,f.resolve=m.resolve,f.reject=m.reject,m.allSettled&&(f.allSettled=m.allSettled),m.any)&&(f.any=m.any)}function Pt(){var i=p.Promise;return wn?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(p,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function gt(i,u,f,m,y){var w=Ye;try{return Lt(i,!0),u(f,m,y)}finally{Lt(w,!1)}}function At(i,u,f,m){return typeof i!="function"?i:function(){var y=Ye;f&&Fe(),Lt(u,!0);try{return i.apply(this,arguments)}finally{Lt(y,!1),m&&queueMicrotask(Ie)}}}function tr(i){Promise===On&&J.echoes===0?Qe===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+aa).indexOf("[native code]")===-1&&(Fe=Ie=tt);var Ot=Te.reject,sn="",yt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Sa="String expected.",Nn=[],An="__dbnames",nr="readonly",Fr="readwrite";function mt(i,u){return i?u?function(){return i.apply(this,arguments)&&u.apply(this,arguments)}:i:u}var Tt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Gt(i){return typeof i!="string"||/\./.test(i)?function(u){return u}:function(u){return u[i]===void 0&&i in u&&delete(u=we(u))[i],u}}function Br(){throw Pe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ve(i,u){try{var f=Sr(i),m=Sr(u);if(f!==m)return f==="Array"?1:m==="Array"?-1:f==="binary"?1:m==="binary"?-1:f==="string"?1:m==="string"?-1:f==="Date"?1:m!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return u<i?1:i<u?-1:0;case"binary":for(var y=ao(i),w=ao(u),C=y.length,N=w.length,B=C<N?C:N,K=0;K<B;++K)if(y[K]!==w[K])return y[K]<w[K]?-1:1;return C===N?0:C<N?-1:1;case"Array":for(var I=i,L=u,z=I.length,H=L.length,F=z<H?z:H,M=0;M<F;++M){var X=Ve(I[M],L[M]);if(X!==0)return X}return z===H?0:z<H?-1:1}}catch{}return NaN}function Sr(i){var u=typeof i;return u=="object"&&(ArrayBuffer.isView(i)||(u=nt(i))==="ArrayBuffer")?"binary":u}function ao(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}function Ea(i,u,f){var m=i.schema.yProps;return m?(u&&0<f.numFailures&&(u=u.filter(function(y,w){return!f.failures[w]})),Promise.all(m.map(function(y){return y=y.updatesTable,u?i.db.table(y).where("k").anyOf(u).delete():i.db.table(y).clear()})).then(function(){return f})):f}oo.prototype.execute=function(i){var u=this["@@propmod"];if(u.add!==void 0){var f=u.add;if(v(f))return c(c([],v(i)?i:[],!0),f).sort();if(typeof f=="number")return(Number(i)||0)+f;if(typeof f=="bigint")try{return BigInt(i)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(u.remove!==void 0){var m=u.remove;if(v(m))return v(i)?i.filter(function(y){return!m.includes(y)}).sort():[];if(typeof m=="number")return Number(i)-m;if(typeof m=="bigint")try{return BigInt(i)-m}catch{return BigInt(0)-m}throw new TypeError("Invalid subtrahend ".concat(m))}return f=(f=u.replacePrefix)==null?void 0:f[0],f&&typeof i=="string"&&i.startsWith(f)?u.replacePrefix[1]+i.substring(f.length):i};var Ur=oo;function oo(i){this["@@propmod"]=i}function ka(i,u){for(var f=g(u),m=f.length,y=!1,w=0;w<m;++w){var C=f[w],N=u[C],B=We(i,C);N instanceof Ur?(V(i,C,N.execute(B)),y=!0):B!==N&&(V(i,C,N),y=!0)}return y}It.prototype._trans=function(i,u,f){var m=this._tx||Ye.trans,y=this.name,w=an&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function C(K,I,L){if(L.schema[y])return u(L.idbtrans,L);throw new Pe.NotFound("Table "+y+" not part of transaction")}var N=Ln();try{var B=m&&m.db._novip===this.db._novip?m===Ye.trans?m._promise(i,C,f):Ue(function(){return m._promise(i,C,f)},{trans:m,transless:Ye.transless||Ye}):(function K(I,L,z,H){if(I.idbdb&&(I._state.openComplete||Ye.letThrough||I._vip)){var F=I._createTransaction(L,z,I._dbSchema);try{F.create(),I._state.PR1398_maxLoop=3}catch(M){return M.name===Ze.InvalidState&&I.isOpen()&&0<--I._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),I.close({disableAutoOpen:!1}),I.open().then(function(){return K(I,L,z,H)})):Ot(M)}return F._promise(L,function(M,X){return Ue(function(){return Ye.trans=F,H(M,X,F)})}).then(function(M){if(L==="readwrite")try{F.idbtrans.commit()}catch{}return L==="readonly"?M:F._completion.then(function(){return M})})}if(I._state.openComplete)return Ot(new Pe.DatabaseClosed(I._state.dbOpenError));if(!I._state.isBeingOpened){if(!I._state.autoOpen)return Ot(new Pe.DatabaseClosed);I.open().catch(tt)}return I._state.dbReadyPromise.then(function(){return K(I,L,z,H)})})(this.db,i,[this.name],C);return w&&(B._consoleTask=w,B=B.catch(function(K){return console.trace(K),Ot(K)})),B}finally{N&&wr()}},It.prototype.get=function(i,u){var f=this;return i&&i.constructor===Object?this.where(i).first(u):i==null?Ot(new Pe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(m){return f.core.get({trans:m,key:i}).then(function(y){return f.hook.reading.fire(y)})}).then(u)},It.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(v(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var u=g(i);if(u.length===1)return this.where(u[0]).equals(i[u[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&u.every(function(K){return 0<=N.keyPath.indexOf(K)})){for(var B=0;B<u.length;++B)if(u.indexOf(N.keyPath[B])===-1)return!1;return!0}return!1}).sort(function(N,B){return N.keyPath.length-B.keyPath.length})[0];if(f&&this.db._maxKey!==sn)return C=f.keyPath.slice(0,u.length),this.where(C).equals(C.map(function(N){return i[N]}));!f&&an&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var m=this.schema.idxByName;function y(N,B){return Ve(N,B)===0}var C=u.reduce(function(I,B){var K=I[0],I=I[1],L=m[B],z=i[B];return[K||L,K||!L?mt(I,L&&L.multi?function(H){return H=We(H,B),v(H)&&H.some(function(F){return y(z,F)})}:function(H){return y(z,We(H,B))}):I]},[null,null]),w=C[0],C=C[1];return w?this.where(w.name).equals(i[w.keyPath]).filter(C):f?this.filter(C):this.where(u).equals("")},It.prototype.filter=function(i){return this.toCollection().and(i)},It.prototype.count=function(i){return this.toCollection().count(i)},It.prototype.offset=function(i){return this.toCollection().offset(i)},It.prototype.limit=function(i){return this.toCollection().limit(i)},It.prototype.each=function(i){return this.toCollection().each(i)},It.prototype.toArray=function(i){return this.toCollection().toArray(i)},It.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},It.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,v(i)?"[".concat(i.join("+"),"]"):i))},It.prototype.reverse=function(){return this.toCollection().reverse()},It.prototype.mapToClass=function(i){for(var u=this.db,f=this.name,m=((this.schema.mappedClass=i).prototype instanceof Br&&(i=(C=>{var N=I,B=C;if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function K(){this.constructor=N}function I(){return C!==null&&C.apply(this,arguments)||this}return o(N,B),N.prototype=B===null?Object.create(B):(K.prototype=B.prototype,new K),Object.defineProperty(I.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),I.prototype.table=function(){return f},I})(i)),new Set),y=i.prototype;y;y=E(y))Object.getOwnPropertyNames(y).forEach(function(C){return m.add(C)});function w(C){if(!C)return C;var N,B=Object.create(i.prototype);for(N in C)if(!m.has(N))try{B[N]=C[N]}catch{}return B}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=w,this.hook("reading",w),i},It.prototype.defineClass=function(){return this.mapToClass(function(i){x(this,i)})},It.prototype.add=function(i,u){var f=this,m=this.schema.primKey,y=m.auto,w=m.keyPath,C=i;return w&&y&&(C=Gt(w)(i)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"add",keys:u!=null?[u]:null,values:[C]})}).then(function(N){return N.numFailures?Te.reject(N.failures[0]):N.lastResult}).then(function(N){if(w)try{V(i,w,N)}catch{}return N})},It.prototype.upsert=function(i,u){var f=this,m=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return f.core.get({trans:y,key:i}).then(function(w){var C=w??{};return ka(C,u),m&&V(C,m,i),f.core.mutate({trans:y,type:"put",values:[C],keys:[i],upsert:!0,updates:{keys:[i],changeSpecs:[u]}}).then(function(N){return N.numFailures?Te.reject(N.failures[0]):!!w})})})},It.prototype.update=function(i,u){return typeof i!="object"||v(i)?this.where(":id").equals(i).modify(u):(i=We(i,this.schema.primKey.keyPath))===void 0?Ot(new Pe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(u)},It.prototype.put=function(i,u){var f=this,m=this.schema.primKey,y=m.auto,w=m.keyPath,C=i;return w&&y&&(C=Gt(w)(i)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"put",values:[C],keys:u!=null?[u]:null})}).then(function(N){return N.numFailures?Te.reject(N.failures[0]):N.lastResult}).then(function(N){if(w)try{V(i,w,N)}catch{}return N})},It.prototype.delete=function(i){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"delete",keys:[i]}).then(function(m){return Ea(u,[i],m)}).then(function(m){return m.numFailures?Te.reject(m.failures[0]):void 0})})},It.prototype.clear=function(){var i=this;return this._trans("readwrite",function(u){return i.core.mutate({trans:u,type:"deleteRange",range:Tt}).then(function(f){return Ea(i,null,f)})}).then(function(u){return u.numFailures?Te.reject(u.failures[0]):void 0})},It.prototype.bulkGet=function(i){var u=this;return this._trans("readonly",function(f){return u.core.getMany({keys:i,trans:f}).then(function(m){return m.map(function(y){return u.hook.reading.fire(y)})})})},It.prototype.bulkAdd=function(i,u,f){var m=this,y=Array.isArray(u)?u:void 0,w=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(C){var N=m.schema.primKey,K=N.auto,N=N.keyPath;if(N&&y)throw new Pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==i.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var B=i.length,K=N&&K?i.map(Gt(N)):i;return m.core.mutate({trans:C,type:"add",keys:y,values:K,wantResults:w}).then(function(I){var L=I.numFailures,z=I.failures;if(L===0)return w?I.results:I.lastResult;throw new Me("".concat(m.name,".bulkAdd(): ").concat(L," of ").concat(B," operations failed"),z)})})},It.prototype.bulkPut=function(i,u,f){var m=this,y=Array.isArray(u)?u:void 0,w=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(C){var N=m.schema.primKey,K=N.auto,N=N.keyPath;if(N&&y)throw new Pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==i.length)throw new Pe.InvalidArgument("Arguments objects and keys must have the same length");var B=i.length,K=N&&K?i.map(Gt(N)):i;return m.core.mutate({trans:C,type:"put",keys:y,values:K,wantResults:w}).then(function(I){var L=I.numFailures,z=I.failures;if(L===0)return w?I.results:I.lastResult;throw new Me("".concat(m.name,".bulkPut(): ").concat(L," of ").concat(B," operations failed"),z)})})},It.prototype.bulkUpdate=function(i){var u=this,f=this.core,m=i.map(function(C){return C.key}),y=i.map(function(C){return C.changes}),w=[];return this._trans("readwrite",function(C){return f.getMany({trans:C,keys:m,cache:"clone"}).then(function(N){var B=[],K=[],I=(i.forEach(function(L,z){var H=L.key,F=L.changes,M=N[z];if(M){for(var X=0,te=Object.keys(F);X<te.length;X++){var q=te[X],ae=F[q];if(q===u.schema.primKey.keyPath){if(Ve(ae,H)!==0)throw new Pe.Constraint("Cannot update primary key in bulkUpdate()")}else V(M,q,ae)}w.push(z),B.push(H),K.push(M)}}),B.length);return f.mutate({trans:C,type:"put",keys:B,values:K,updates:{keys:m,changeSpecs:y}}).then(function(L){var z=L.numFailures,H=L.failures;if(z===0)return I;for(var F=0,M=Object.keys(H);F<M.length;F++){var X,te=M[F],q=w[Number(te)];q!=null&&(X=H[te],delete H[te],H[q]=X)}throw new Me("".concat(u.name,".bulkUpdate(): ").concat(z," of ").concat(I," operations failed"),H)})})})},It.prototype.bulkDelete=function(i){var u=this,f=i.length;return this._trans("readwrite",function(m){return u.core.mutate({trans:m,type:"delete",keys:i}).then(function(y){return Ea(u,i,y)})}).then(function(m){var y=m.numFailures,w=m.failures;if(y===0)return m.lastResult;throw new Me("".concat(u.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),w)})};var io=It;function It(){}function so(i){function u(C,N){if(N){for(var B=arguments.length,K=new Array(B-1);--B;)K[B-1]=arguments[B];return f[C].subscribe.apply(null,K),i}if(typeof C=="string")return f[C]}var f={};u.addEventType=w;for(var m=1,y=arguments.length;m<y;++m)w(arguments[m]);return u;function w(C,N,B){var K,I;if(typeof C!="object")return N=N||ur,I={subscribers:[],fire:B=B||tt,subscribe:function(L){I.subscribers.indexOf(L)===-1&&(I.subscribers.push(L),I.fire=N(I.fire,L))},unsubscribe:function(L){I.subscribers=I.subscribers.filter(function(z){return z!==L}),I.fire=I.subscribers.reduce(N,B)}},f[C]=u[C]=I;g(K=C).forEach(function(L){var z=K[L];if(v(z))w(L,K[L][0],K[L][1]);else{if(z!=="asap")throw new Pe.InvalidArgument("Invalid event config");var H=w(L,ht,function(){for(var F=arguments.length,M=new Array(F);F--;)M[F]=arguments[F];H.subscribers.forEach(function(X){Be(function(){X.apply(null,M)})})})}})}}function Jr(i,u){return W(u).from({prototype:i}),u}function Zr(i,u){return!(i.filter||i.algorithm||i.or)&&(u?i.justLimit:!i.replayFilter)}function lo(i,u){i.filter=mt(i.filter,u)}function ea(i,u,f){var m=i.replayFilter;i.replayFilter=m?function(){return mt(m(),u())}:u,i.justLimit=f&&!m}function Fo(i,u){if(i.isPrimKey)return u.primaryKey;var f=u.getIndexByKeyPath(i.index);if(f)return f;throw new Pe.Schema("KeyPath "+i.index+" on object store "+u.name+" is not indexed")}function Bo(i,u,f){var m=Fo(i,u.schema);return u.openCursor({trans:f,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:m,range:i.range}})}function Nt(i,u,f,m){var y,w,C=i.replayFilter?mt(i.filter,i.replayFilter()):i.filter;return i.or?(y={},w=function(N,B,K){var I,L;C&&!C(B,K,function(z){return B.stop(z)},function(z){return B.fail(z)})||((L=""+(I=B.primaryKey))=="[object ArrayBuffer]"&&(L=""+new Uint8Array(I)),k(y,L))||(y[L]=!0,u(N,B,K))},Promise.all([i.or._iterate(w,f),Ni(Bo(i,m,f),i.algorithm,w,!i.keysOnly&&i.valueMapper)])):Ni(Bo(i,m,f),mt(i.algorithm,C),u,!i.keysOnly&&i.valueMapper)}function Ni(i,u,f,m){var y=U(m?function(w,C,N){return f(m(w),C,N)}:f);return i.then(function(w){if(w)return w.start(function(){var C=function(){return w.continue()};u&&!u(w,function(N){return C=N},function(N){w.stop(N),C=tt},function(N){w.fail(N),C=tt})||y(w.value,w,function(N){return C=N}),C()})})}Et.prototype._read=function(i,u){var f=this._ctx;return f.error?f.table._trans(null,Ot.bind(null,f.error)):f.table._trans("readonly",i).then(u)},Et.prototype._write=function(i){var u=this._ctx;return u.error?u.table._trans(null,Ot.bind(null,u.error)):u.table._trans("readwrite",i,"locked")},Et.prototype._addAlgorithm=function(i){var u=this._ctx;u.algorithm=mt(u.algorithm,i)},Et.prototype._iterate=function(i,u){return Nt(this._ctx,i,u,this._ctx.table.core)},Et.prototype.clone=function(i){var u=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return i&&x(f,i),u._ctx=f,u},Et.prototype.raw=function(){return this._ctx.valueMapper=null,this},Et.prototype.each=function(i){var u=this._ctx;return this._read(function(f){return Nt(u,i,f,u.table.core)})},Et.prototype.count=function(i){var u=this;return this._read(function(f){var m,y=u._ctx,w=y.table.core;return Zr(y,!0)?w.count({trans:f,query:{index:Fo(y,w.schema),range:y.range}}).then(function(C){return Math.min(C,y.limit)}):(m=0,Nt(y,function(){return++m,!1},f,w).then(function(){return m}))}).then(i)},Et.prototype.sortBy=function(i,u){var f=i.split(".").reverse(),m=f[0],y=f.length-1;function w(B,K){return K?w(B[f[K]],K-1):B[m]}var C=this._ctx.dir==="next"?1:-1;function N(B,K){return Ve(w(B,y),w(K,y))*C}return this.toArray(function(B){return B.sort(N)}).then(u)},Et.prototype.toArray=function(i){var u=this;return this._read(function(f){var m,y,w,C=u._ctx;return C.dir==="next"&&Zr(C,!0)&&0<C.limit?(m=C.valueMapper,y=Fo(C,C.table.core.schema),C.table.core.query({trans:f,limit:C.limit,values:!0,query:{index:y,range:C.range}}).then(function(N){return N=N.result,m?N.map(m):N})):(w=[],Nt(C,function(N){return w.push(N)},f,C.table.core).then(function(){return w}))},i)},Et.prototype.offset=function(i){var u=this._ctx;return i<=0||(u.offset+=i,Zr(u)?ea(u,function(){var f=i;return function(m,y){return f===0||(f===1?--f:y(function(){m.advance(f),f=0}),!1)}}):ea(u,function(){var f=i;return function(){return--f<0}})),this},Et.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),ea(this._ctx,function(){var u=i;return function(f,m,y){return--u<=0&&m(y),0<=u}},!0),this},Et.prototype.until=function(i,u){return lo(this._ctx,function(f,m,y){return!i(f.value)||(m(y),u)}),this},Et.prototype.first=function(i){return this.limit(1).toArray(function(u){return u[0]}).then(i)},Et.prototype.last=function(i){return this.reverse().first(i)},Et.prototype.filter=function(i){var u;return lo(this._ctx,function(f){return i(f.value)}),(u=this._ctx).isMatch=mt(u.isMatch,i),this},Et.prototype.and=function(i){return this.filter(i)},Et.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},Et.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Et.prototype.desc=function(){return this.reverse()},Et.prototype.eachKey=function(i){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,m){i(m.key,m)})},Et.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},Et.prototype.eachPrimaryKey=function(i){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,m){i(m.primaryKey,m)})},Et.prototype.keys=function(i){var u=this._ctx,f=(u.keysOnly=!u.isMatch,[]);return this.each(function(m,y){f.push(y.key)}).then(function(){return f}).then(i)},Et.prototype.primaryKeys=function(i){var u=this._ctx;if(u.dir==="next"&&Zr(u,!0)&&0<u.limit)return this._read(function(m){var y=Fo(u,u.table.core.schema);return u.table.core.query({trans:m,values:!1,limit:u.limit,query:{index:y,range:u.range}})}).then(function(m){return m.result}).then(i);u.keysOnly=!u.isMatch;var f=[];return this.each(function(m,y){f.push(y.primaryKey)}).then(function(){return f}).then(i)},Et.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},Et.prototype.firstKey=function(i){return this.limit(1).keys(function(u){return u[0]}).then(i)},Et.prototype.lastKey=function(i){return this.reverse().firstKey(i)},Et.prototype.distinct=function(){var i,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(i={},lo(this._ctx,function(m){var m=m.primaryKey.toString(),y=k(i,m);return i[m]=!0,!y})),this},Et.prototype.modify=function(i){var u=this,f=this._ctx;return this._write(function(m){function y(M,X){var te=X.failures;z+=M-X.numFailures;for(var q=0,ae=g(te);q<ae.length;q++){var de=ae[q];L.push(te[de])}}var w=typeof i=="function"?i:function(M){return ka(M,i)},C=f.table.core,I=C.schema.primaryKey,N=I.outbound,B=I.extractKey,K=200,I=u.db._options.modifyChunkSize,L=(I&&(K=typeof I=="object"?I[C.name]||I["*"]||200:I),[]),z=0,H=[],F=i===_i;return u.clone().primaryKeys().then(function(M){function X(q){var ae=Math.min(K,M.length-q),de=M.slice(q,q+ae);return(F?Promise.resolve([]):C.getMany({trans:m,keys:de,cache:"immutable"})).then(function(Ee){var Ce=[],pe=[],Ae=N?[]:null,Le=F?de:[];if(!F)for(var ve=0;ve<ae;++ve){var ze=Ee[ve],St={value:we(ze),primKey:M[q+ve]};w.call(St,St.value,St)!==!1&&(St.value==null?Le.push(M[q+ve]):N||Ve(B(ze),B(St.value))===0?(pe.push(St.value),N&&Ae.push(M[q+ve])):(Le.push(M[q+ve]),Ce.push(St.value)))}return Promise.resolve(0<Ce.length&&C.mutate({trans:m,type:"add",values:Ce}).then(function(Ct){for(var ot in Ct.failures)Le.splice(parseInt(ot),1);y(Ce.length,Ct)})).then(function(){return(0<pe.length||te&&typeof i=="object")&&C.mutate({trans:m,type:"put",keys:Ae,values:pe,criteria:te,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<q}).then(function(Ct){return y(pe.length,Ct)})}).then(function(){return(0<Le.length||te&&F)&&C.mutate({trans:m,type:"delete",keys:Le,criteria:te,isAdditionalChunk:0<q}).then(function(Ct){return Ea(f.table,Le,Ct)}).then(function(Ct){return y(Le.length,Ct)})}).then(function(){return M.length>q+ae&&X(q+K)})})}var te=Zr(f)&&f.limit===1/0&&(typeof i!="function"||F)&&{index:f.index,range:f.range};return X(0).then(function(){if(0<L.length)throw new ie("Error modifying one or more objects",L,z,H);return M.length})})})},Et.prototype.delete=function(){var i=this._ctx,u=i.range;return!Zr(i)||i.table.schema.yProps||!i.isPrimKey&&u.type!==3?this.modify(_i):this._write(function(f){var m=i.table.core.schema.primaryKey,y=u;return i.table.core.count({trans:f,query:{index:m,range:y}}).then(function(w){return i.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(B){var N=B.failures,B=B.numFailures;if(B)throw new ie("Could not delete some values",Object.keys(N).map(function(K){return N[K]}),w-B);return w-B})})})};var Es=Et;function Et(){}var _i=function(i,u){return u.value=null};function ks(i,u){return i<u?-1:i===u?0:1}function Cs(i,u){return u<i?-1:i===u?0:1}function bn(i,u,f){return i=i instanceof Ca?new i.Collection(i):i,i._ctx.error=new(f||TypeError)(u),i}function Er(i){return new i.Collection(i,function(){return kr("")}).limit(0)}function rr(H,u,f,m){var y,w,C,N,B,K,I,L=f.length;if(!f.every(function(M){return typeof M=="string"}))return bn(H,Sa);function z(M){y=M==="next"?function(te){return te.toUpperCase()}:function(te){return te.toLowerCase()},w=M==="next"?function(te){return te.toLowerCase()}:function(te){return te.toUpperCase()},C=M==="next"?ks:Cs;var X=f.map(function(te){return{lower:w(te),upper:y(te)}}).sort(function(te,q){return C(te.lower,q.lower)});N=X.map(function(te){return te.upper}),B=X.map(function(te){return te.lower}),I=(K=M)==="next"?"":m}z("next");var H=new H.Collection(H,function(){return Sn(N[0],B[L-1]+m)}),F=(H._ondirectionchange=function(M){z(M)},0);return H._addAlgorithm(function(M,X,te){var q=M.key;if(typeof q=="string"){var ae=w(q);if(u(ae,B,F))return!0;for(var de=null,Ee=F;Ee<L;++Ee){var Ce=((pe,Ae,Le,ve,ze,St)=>{for(var Ct=Math.min(pe.length,ve.length),ot=-1,vt=0;vt<Ct;++vt){var Ft=Ae[vt];if(Ft!==ve[vt])return ze(pe[vt],Le[vt])<0?pe.substr(0,vt)+Le[vt]+Le.substr(vt+1):ze(pe[vt],ve[vt])<0?pe.substr(0,vt)+ve[vt]+Le.substr(vt+1):0<=ot?pe.substr(0,ot)+Ae[ot]+Le.substr(ot+1):null;ze(pe[vt],Ft)<0&&(ot=vt)}return Ct<ve.length&&St==="next"?pe+Le.substr(pe.length):Ct<pe.length&&St==="prev"?pe.substr(0,Le.length):ot<0?null:pe.substr(0,ot)+ve[ot]+Le.substr(ot+1)})(q,ae,N[Ee],B[Ee],C,K);Ce===null&&de===null?F=Ee+1:(de===null||0<C(de,Ce))&&(de=Ce)}X(de!==null?function(){M.continue(de+I)}:te)}return!1}),H}function Sn(i,u,f,m){return{type:2,lower:i,upper:u,lowerOpen:f,upperOpen:m}}function kr(i){return{type:1,lower:i,upper:i}}Object.defineProperty(Ht.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ht.prototype.between=function(i,u,f,m){f=f!==!1,m=m===!0;try{return 0<this._cmp(i,u)||this._cmp(i,u)===0&&(f||m)&&(!f||!m)?Er(this):new this.Collection(this,function(){return Sn(i,u,!f,!m)})}catch{return bn(this,yt)}},Ht.prototype.equals=function(i){return i==null?bn(this,yt):new this.Collection(this,function(){return kr(i)})},Ht.prototype.above=function(i){return i==null?bn(this,yt):new this.Collection(this,function(){return Sn(i,void 0,!0)})},Ht.prototype.aboveOrEqual=function(i){return i==null?bn(this,yt):new this.Collection(this,function(){return Sn(i,void 0,!1)})},Ht.prototype.below=function(i){return i==null?bn(this,yt):new this.Collection(this,function(){return Sn(void 0,i,!1,!0)})},Ht.prototype.belowOrEqual=function(i){return i==null?bn(this,yt):new this.Collection(this,function(){return Sn(void 0,i)})},Ht.prototype.startsWith=function(i){return typeof i!="string"?bn(this,Sa):this.between(i,i+sn,!0,!0)},Ht.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):rr(this,function(u,f){return u.indexOf(f[0])===0},[i],sn)},Ht.prototype.equalsIgnoreCase=function(i){return rr(this,function(u,f){return u===f[0]},[i],"")},Ht.prototype.anyOfIgnoreCase=function(){var i=Y.apply(De,arguments);return i.length===0?Er(this):rr(this,function(u,f){return f.indexOf(u)!==-1},i,"")},Ht.prototype.startsWithAnyOfIgnoreCase=function(){var i=Y.apply(De,arguments);return i.length===0?Er(this):rr(this,function(u,f){return f.some(function(m){return u.indexOf(m)===0})},i,sn)},Ht.prototype.anyOf=function(){var i,u,f=this,m=Y.apply(De,arguments),y=this._cmp;try{m.sort(y)}catch{return bn(this,yt)}return m.length===0?Er(this):((i=new this.Collection(this,function(){return Sn(m[0],m[m.length-1])}))._ondirectionchange=function(w){y=w==="next"?f._ascending:f._descending,m.sort(y)},u=0,i._addAlgorithm(function(w,C,N){for(var B=w.key;0<y(B,m[u]);)if(++u===m.length)return C(N),!1;return y(B,m[u])===0||(C(function(){w.continue(m[u])}),!1)}),i)},Ht.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ht.prototype.noneOf=function(){var i=Y.apply(De,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return bn(this,yt)}var u=i.reduce(function(f,m){return f?f.concat([[f[f.length-1][1],m]]):[[-1/0,m]]},null);return u.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},Ht.prototype.inAnyRange=function(i,te){var f=this,m=this._cmp,y=this._ascending,w=this._descending,C=this._min,N=this._max;if(i.length===0)return Er(this);if(!i.every(function(q){return q[0]!==void 0&&q[1]!==void 0&&y(q[0],q[1])<=0}))return bn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Pe.InvalidArgument);var B=!te||te.includeLowers!==!1,K=te&&te.includeUppers===!0,I,L=y;function z(q,ae){return L(q[0],ae[0])}try{(I=i.reduce(function(q,ae){for(var de=0,Ee=q.length;de<Ee;++de){var Ce=q[de];if(m(ae[0],Ce[1])<0&&0<m(ae[1],Ce[0])){Ce[0]=C(Ce[0],ae[0]),Ce[1]=N(Ce[1],ae[1]);break}}return de===Ee&&q.push(ae),q},[])).sort(z)}catch{return bn(this,yt)}var H=0,F=K?function(q){return 0<y(q,I[H][1])}:function(q){return 0<=y(q,I[H][1])},M=B?function(q){return 0<w(q,I[H][0])}:function(q){return 0<=w(q,I[H][0])},X=F,te=new this.Collection(this,function(){return Sn(I[0][0],I[I.length-1][1],!B,!K)});return te._ondirectionchange=function(q){L=q==="next"?(X=F,y):(X=M,w),I.sort(z)},te._addAlgorithm(function(q,ae,de){for(var Ee,Ce=q.key;X(Ce);)if(++H===I.length)return ae(de),!1;return!F(Ee=Ce)&&!M(Ee)||(f._cmp(Ce,I[H][1])===0||f._cmp(Ce,I[H][0])===0||ae(function(){L===y?q.continue(I[H][0]):q.continue(I[H][1])}),!1)}),te},Ht.prototype.startsWithAnyOf=function(){var i=Y.apply(De,arguments);return i.every(function(u){return typeof u=="string"})?i.length===0?Er(this):this.inAnyRange(i.map(function(u){return[u,u+sn]})):bn(this,"startsWithAnyOf() only works with strings")};var Ca=Ht;function Ht(){}function ln(i){return U(function(u){return uo(u),i(u.target.error),!1})}function uo(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var Na="storagemutated",ta="x-storagemutated-1",zr=so(null,Na),Ns=(In.prototype._lock=function(){return oe(!Ye.global),++this._reculock,this._reculock!==1||Ye.global||(Ye.lockOwnerFor=this),this},In.prototype._unlock=function(){if(oe(!Ye.global),--this._reculock==0)for(Ye.global||(Ye.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{gt(i[1],i[0])}catch{}}return this},In.prototype._locked=function(){return this._reculock&&Ye.lockOwnerFor!==this},In.prototype.create=function(i){var u=this;if(this.mode){var f=this.db.idbdb,m=this.db._state.dbOpenError;if(oe(!this.idbtrans),!i&&!f)switch(m&&m.name){case"DatabaseClosedError":throw new Pe.DatabaseClosed(m);case"MissingAPIError":throw new Pe.MissingAPI(m.message,m);default:throw new Pe.OpenFailed(m)}if(!this.active)throw new Pe.TransactionInactive;oe(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=U(function(y){uo(y),u._reject(i.error)}),i.onabort=U(function(y){uo(y),u.active&&u._reject(new Pe.Abort(i.error)),u.active=!1,u.on("abort").fire(y)}),i.oncomplete=U(function(){u.active=!1,u._resolve(),"mutatedParts"in i&&zr.storagemutated.fire(i.mutatedParts)})}return this},In.prototype._promise=function(i,u,f){var m,y=this;return i==="readwrite"&&this.mode!=="readwrite"?Ot(new Pe.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Te(function(w,C){y._blockedFuncs.push([function(){y._promise(i,u,f).then(w,C)},Ye])}):f?Ue(function(){var w=new Te(function(C,N){y._lock();var B=u(C,N,y);B&&B.then&&B.then(C,N)});return w.finally(function(){return y._unlock()}),w._lib=!0,w}):((m=new Te(function(w,C){var N=u(w,C,y);N&&N.then&&N.then(w,C)}))._lib=!0,m):Ot(new Pe.TransactionInactive)},In.prototype._root=function(){return this.parent?this.parent._root():this},In.prototype.waitFor=function(i){var u,f=this._root(),m=Te.resolve(i),y=(f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return m}):(f._waitingFor=m,f._waitingQueue=[],u=f.idbtrans.objectStore(f.storeNames[0]),(function w(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(u.get(-1/0).onsuccess=w)})()),f._waitingFor);return new Te(function(w,C){m.then(function(N){return f._waitingQueue.push(U(w.bind(null,N)))},function(N){return f._waitingQueue.push(U(C.bind(null,N)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},In.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Pe.Abort))},In.prototype.table=function(i){var u=this._memoizedTables||(this._memoizedTables={});if(k(u,i))return u[i];var f=this.schema[i];if(f)return(f=new this.db.Table(i,f,this)).core=this.db.core.table(i),u[i]=f;throw new Pe.NotFound("Table "+i+" not part of transaction")},In);function In(){}function Uo(i,u,f,m,y,w,C,N){return{name:i,keyPath:u,unique:f,multi:m,auto:y,compound:w,src:(f&&!C?"&":"")+(m?"*":"")+(y?"++":"")+_s(u),type:N}}function _s(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function na(i,u,f){return{name:i,primKey:u,indexes:f,mappedClass:null,idxByName:(m=function(y){return[y.name,y]},f.reduce(function(y,w,C){return w=m(w,C),w&&(y[w[0]]=w[1]),y},{}))};var m}var Cr=function(i){try{return i.only([[]]),Cr=function(){return[[]]},[[]]}catch{return Cr=function(){return sn},sn}};function Hr(i){return i==null?function(){}:typeof i=="string"?(u=i).split(".").length===1?function(f){return f[u]}:function(f){return We(f,u)}:function(f){return We(f,i)};var u}function co(i){return[].slice.call(i)}var Wl=0;function fo(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Pi(i,u,B){function m(F){if(F.type===3)return null;if(F.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var L=F.lower,z=F.upper,H=F.lowerOpen,F=F.upperOpen;return L===void 0?z===void 0?null:u.upperBound(z,!!F):z===void 0?u.lowerBound(L,!!H):u.bound(L,z,!!H,!!F)}function y(I){var L,z=I.name;return{name:z,schema:I,mutate:function(H){var F=H.trans,M=H.type,X=H.keys,te=H.values,q=H.range;return new Promise(function(ae,de){ae=U(ae);var Ee=F.objectStore(z),Ce=Ee.keyPath==null,pe=M==="put"||M==="add";if(!pe&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var Ae,Le=(X||te||{length:1}).length;if(X&&te&&X.length!==te.length)throw new Error("Given keys array must have same length as given values array.");if(Le===0)return ae({numFailures:0,failures:{},results:[],lastResult:void 0});function ve(jt){++Ct,uo(jt)}var ze=[],St=[],Ct=0;if(M==="deleteRange"){if(q.type===4)return ae({numFailures:Ct,failures:St,results:[],lastResult:void 0});q.type===3?ze.push(Ae=Ee.clear()):ze.push(Ae=Ee.delete(m(q)))}else{var Ce=pe?Ce?[te,X]:[te,null]:[X,null],ot=Ce[0],vt=Ce[1];if(pe)for(var Ft=0;Ft<Le;++Ft)ze.push(Ae=vt&&vt[Ft]!==void 0?Ee[M](ot[Ft],vt[Ft]):Ee[M](ot[Ft])),Ae.onerror=ve;else for(Ft=0;Ft<Le;++Ft)ze.push(Ae=Ee[M](ot[Ft])),Ae.onerror=ve}function Mn(jt){jt=jt.target.result,ze.forEach(function(jr,yo){return jr.error!=null&&(St[yo]=jr.error)}),ae({numFailures:Ct,failures:St,results:M==="delete"?X:ze.map(function(jr){return jr.result}),lastResult:jt})}Ae.onerror=function(jt){ve(jt),Mn(jt)},Ae.onsuccess=Mn})},getMany:function(H){var F=H.trans,M=H.keys;return new Promise(function(X,te){X=U(X);for(var q,ae=F.objectStore(z),de=M.length,Ee=new Array(de),Ce=0,pe=0,Ae=function(ze){ze=ze.target,Ee[ze._pos]=ze.result,++pe===Ce&&X(Ee)},Le=ln(te),ve=0;ve<de;++ve)M[ve]!=null&&((q=ae.get(M[ve]))._pos=ve,q.onsuccess=Ae,q.onerror=Le,++Ce);Ce===0&&X(Ee)})},get:function(H){var F=H.trans,M=H.key;return new Promise(function(X,te){X=U(X);var q=F.objectStore(z).get(M);q.onsuccess=function(ae){return X(ae.target.result)},q.onerror=ln(te)})},query:(L=N,function(H){return new Promise(function(F,M){F=U(F);var X,te,q,pe=H.trans,ae=H.values,de=H.limit,Ce=H.query,Ee=de===1/0?void 0:de,Ae=Ce.index,Ce=Ce.range,pe=pe.objectStore(z),pe=Ae.isPrimaryKey?pe:pe.index(Ae.name),Ae=m(Ce);if(de===0)return F({result:[]});L?((Ce=ae?pe.getAll(Ae,Ee):pe.getAllKeys(Ae,Ee)).onsuccess=function(Le){return F({result:Le.target.result})},Ce.onerror=ln(M)):(X=0,te=!ae&&"openKeyCursor"in pe?pe.openKeyCursor(Ae):pe.openCursor(Ae),q=[],te.onsuccess=function(Le){var ve=te.result;return!ve||(q.push(ae?ve.value:ve.primaryKey),++X===de)?F({result:q}):void ve.continue()},te.onerror=ln(M))})}),openCursor:function(H){var F=H.trans,M=H.values,X=H.query,te=H.reverse,q=H.unique;return new Promise(function(ae,de){ae=U(ae);var pe=X.index,Ee=X.range,Ce=F.objectStore(z),Ce=pe.isPrimaryKey?Ce:Ce.index(pe.name),pe=te?q?"prevunique":"prev":q?"nextunique":"next",Ae=!M&&"openKeyCursor"in Ce?Ce.openKeyCursor(m(Ee),pe):Ce.openCursor(m(Ee),pe);Ae.onerror=ln(de),Ae.onsuccess=U(function(Le){var ve,ze,St,Ct,ot=Ae.result;ot?(ot.___id=++Wl,ot.done=!1,ve=ot.continue.bind(ot),ze=(ze=ot.continuePrimaryKey)&&ze.bind(ot),St=ot.advance.bind(ot),Ct=function(){throw new Error("Cursor not stopped")},ot.trans=F,ot.stop=ot.continue=ot.continuePrimaryKey=ot.advance=function(){throw new Error("Cursor not started")},ot.fail=U(de),ot.next=function(){var vt=this,Ft=1;return this.start(function(){return Ft--?vt.continue():vt.stop()}).then(function(){return vt})},ot.start=function(vt){function Ft(){if(Ae.result)try{vt()}catch(jt){ot.fail(jt)}else ot.done=!0,ot.start=function(){throw new Error("Cursor behind last entry")},ot.stop()}var Mn=new Promise(function(jt,jr){jt=U(jt),Ae.onerror=ln(jr),ot.fail=jr,ot.stop=function(yo){ot.stop=ot.continue=ot.continuePrimaryKey=ot.advance=Ct,jt(yo)}});return Ae.onsuccess=U(function(jt){Ae.onsuccess=Ft,Ft()}),ot.continue=ve,ot.continuePrimaryKey=ze,ot.advance=St,Ft(),Mn},ae(ot)):ae(null)},de)})},count:function(H){var F=H.query,M=H.trans,X=F.index,te=F.range;return new Promise(function(q,ae){var de=M.objectStore(z),de=X.isPrimaryKey?de:de.index(X.name),Ee=m(te),Ee=Ee?de.count(Ee):de.count();Ee.onsuccess=U(function(Ce){return q(Ce.target.result)}),Ee.onerror=ln(ae)})}}}w=B,C=co((B=i).objectStoreNames);var w,B={schema:{name:B.name,tables:C.map(function(I){return w.objectStore(I)}).map(function(I){var L=I.keyPath,z=I.autoIncrement,F=v(L),H={},F={name:I.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:L==null,compound:F,keyPath:L,autoIncrement:z,unique:!0,extractKey:Hr(L)},indexes:co(I.indexNames).map(function(M){return I.index(M)}).map(function(q){var ae=q.name,X=q.unique,te=q.multiEntry,q=q.keyPath,ae={name:ae,compound:v(q),keyPath:q,unique:X,multiEntry:te,extractKey:Hr(q)};return H[fo(q)]=ae}),getIndexByKeyPath:function(M){return H[fo(M)]}};return H[":id"]=F.primaryKey,L!=null&&(H[fo(L)]=F.primaryKey),F})},hasGetAll:0<C.length&&"getAll"in w.objectStore(C[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},C=B.schema,N=B.hasGetAll,B=C.tables.map(y),K={};return B.forEach(function(I){return K[I.name]=I}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(I){if(K[I])return K[I];throw new Error("Table '".concat(I,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Cr(u),schema:C}}function zo(i,u,f,m){return f=f.IDBKeyRange,u=Pi(u,f,m),{dbcore:i.dbcore.reduce(function(y,w){return w=w.create,l(l({},y),w(y))},u)}}function _a(i,u){var f=u.db,f=zo(i._middlewares,f,i._deps,u);i.core=f.dbcore,i.tables.forEach(function(m){var y=m.name;i.core.schema.tables.some(function(w){return w.name===y})&&(m.core=i.core.table(y),i[y]instanceof i.Table)&&(i[y].core=m.core)})}function po(i,u,f,m){f.forEach(function(y){var w=m[y];u.forEach(function(C){var N=(function B(K,I){return re(K,I)||(K=E(K))&&B(K,I)})(C,y);(!N||"value"in N&&N.value===void 0)&&(C===i.Transaction.prototype||C instanceof i.Transaction?D(C,y,{get:function(){return this.table(y)},set:function(B){j(this,y,{value:B,writable:!0,configurable:!0,enumerable:!0})}}):C[y]=new i.Table(y,w))})})}function dr(i,u){u.forEach(function(f){for(var m in f)f[m]instanceof i.Table&&delete f[m]})}function Ri(i,u){return i._cfg.version-u._cfg.version}function Ho(i,u,f,m){var y=i._dbSchema,w=(f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=na("$meta",Ta("")[0],[]),i._storeNames.push("$meta")),i._createTransaction("readwrite",i._storeNames,y)),C=(w.create(f),w._completion.catch(m),w._reject.bind(w)),N=Ye.transless||Ye;Ue(function(){if(Ye.trans=w,Ye.transless=N,u!==0)return _a(i,f),K=u,((B=w).storeNames.includes("$meta")?B.table("$meta").get("version").then(function(I){return I??K}):Te.resolve(K)).then(function(X){var L=i,z=X,H=w,F=f,M=[],X=L._versions,te=L._dbSchema=Nr(0,L.idbdb,F);return(X=X.filter(function(q){return q._cfg.version>=z})).length===0?Te.resolve():(X.forEach(function(q){M.push(function(){var ae,de,Ee,Ce=te,pe=q._cfg.dbschema,Ae=(ja(L,Ce,F),ja(L,pe,F),te=L._dbSchema=pe,Pa(Ce,pe)),Le=(Ae.add.forEach(function(ve){Ra(F,ve[0],ve[1].primKey,ve[1].indexes)}),Ae.change.forEach(function(ve){if(ve.recreate)throw new Pe.Upgrade("Not yet support for changing primary key");var ze=F.objectStore(ve.name);ve.add.forEach(function(St){return hn(ze,St)}),ve.change.forEach(function(St){ze.deleteIndex(St.name),hn(ze,St)}),ve.del.forEach(function(St){return ze.deleteIndex(St)})}),q._cfg.contentUpgrade);if(Le&&q._cfg.version>z)return _a(L,F),H._memoizedTables={},ae=Ne(pe),Ae.del.forEach(function(ve){ae[ve]=Ce[ve]}),dr(L,[L.Transaction.prototype]),po(L,[L.Transaction.prototype],g(ae),ae),H.schema=ae,(de=P(Le))&&Fe(),pe=Te.follow(function(){var ve;(Ee=Le(H))&&de&&(ve=Ie.bind(null,null),Ee.then(ve,ve))}),Ee&&typeof Ee.then=="function"?Te.resolve(Ee):pe.then(function(){return Ee})}),M.push(function(ae){var de,Ee,Ce=q._cfg.dbschema;de=Ce,Ee=ae,[].slice.call(Ee.db.objectStoreNames).forEach(function(pe){return de[pe]==null&&Ee.db.deleteObjectStore(pe)}),dr(L,[L.Transaction.prototype]),po(L,[L.Transaction.prototype],L._storeNames,L._dbSchema),H.schema=L._dbSchema}),M.push(function(ae){L.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(L.idbdb.version/10)===q._cfg.version?(L.idbdb.deleteObjectStore("$meta"),delete L._dbSchema.$meta,L._storeNames=L._storeNames.filter(function(de){return de!=="$meta"})):ae.objectStore("$meta").put(q._cfg.version,"version"))})}),(function q(){return M.length?Te.resolve(M.shift()(H.idbtrans)).then(q):Te.resolve()})().then(function(){ji(te,F)}))}).catch(C);var B,K;g(y).forEach(function(I){Ra(f,I,y[I].primKey,y[I].indexes)}),_a(i,f),Te.follow(function(){return i.on.populate.fire(w)}).catch(C)})}function Ps(i,u){ji(i._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var f=Nr(0,i.idbdb,u);ja(i,i._dbSchema,u);for(var m=0,y=Pa(f,i._dbSchema).change;m<y.length;m++){var w=(C=>{if(C.change.length||C.recreate)return console.warn("Unable to patch indexes of table ".concat(C.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=u.objectStore(C.name);C.add.forEach(function(B){an&&console.debug("Dexie upgrade patch: Creating missing index ".concat(C.name,".").concat(B.src)),hn(N,B)})})(y[m]);if(typeof w=="object")return w.value}}function Pa(i,u){var f,m={del:[],add:[],change:[]};for(f in i)u[f]||m.del.push(f);for(f in u){var y=i[f],w=u[f];if(y){var C={name:f,def:w,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(w.primKey.keyPath||"")||y.primKey.auto!==w.primKey.auto)C.recreate=!0,m.change.push(C);else{var N=y.idxByName,B=w.idxByName,K=void 0;for(K in N)B[K]||C.del.push(K);for(K in B){var I=N[K],L=B[K];I?I.src!==L.src&&C.change.push(L):C.add.push(L)}(0<C.del.length||0<C.add.length||0<C.change.length)&&m.change.push(C)}}else m.add.push([f,w])}return m}function Ra(i,u,f,m){var y=i.db.createObjectStore(u,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});m.forEach(function(w){return hn(y,w)})}function ji(i,u){g(i).forEach(function(f){u.db.objectStoreNames.contains(f)||(an&&console.debug("Dexie: Creating missing table",f),Ra(u,f,i[f].primKey,i[f].indexes))})}function hn(i,u){i.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function Nr(i,u,f){var m={};return ue(u.objectStoreNames,0).forEach(function(y){for(var w=f.objectStore(y),C=Uo(_s(K=w.keyPath),K||"",!0,!1,!!w.autoIncrement,K&&typeof K!="string",!0),N=[],B=0;B<w.indexNames.length;++B){var I=w.index(w.indexNames[B]),K=I.keyPath,I=Uo(I.name,K,!!I.unique,!!I.multiEntry,!1,K&&typeof K!="string",!1);N.push(I)}m[y]=na(y,C,N)}),m}function ja(i,u,f){for(var m=f.db.objectStoreNames,y=0;y<m.length;++y){var w=m[y],C=f.objectStore(w);i._hasGetAll="getAll"in C;for(var N=0;N<C.indexNames.length;++N){var B,K=C.indexNames[N],I=C.index(K).keyPath,I=typeof I=="string"?I:"["+ue(I).join("+")+"]";u[w]&&(B=u[w].idxByName[I])&&(B.name=K,delete u[w].idxByName[I],u[w].idxByName[K]=B)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&p.WorkerGlobalScope&&p instanceof p.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function Ta(i){return i.split(",").map(function(u,f){var y=u.split(":"),m=(m=y[1])==null?void 0:m.trim(),y=(u=y[0].trim()).replace(/([&*]|\+\+)/g,""),w=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return Uo(y,w||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),v(w),f===0,m)})}$r.prototype._createTableSchema=na,$r.prototype._parseIndexSyntax=Ta,$r.prototype._parseStoresSpec=function(i,u){var f=this;g(i).forEach(function(m){if(i[m]!==null){var y=f._parseIndexSyntax(i[m]),w=y.shift();if(!w)throw new Pe.Schema("Invalid schema for table "+m+": "+i[m]);if(w.unique=!0,w.multi)throw new Pe.Schema("Primary key cannot be multiEntry*");y.forEach(function(C){if(C.auto)throw new Pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!C.keyPath)throw new Pe.Schema("Index must have a name and cannot be an empty string")}),w=f._createTableSchema(m,w,y),u[m]=w}})},$r.prototype.stores=function(f){var u=this.db,f=(this._cfg.storesSource=this._cfg.storesSource?x(this._cfg.storesSource,f):f,u._versions),m={},y={};return f.forEach(function(w){x(m,w._cfg.storesSource),y=w._cfg.dbschema={},w._parseStoresSpec(m,y)}),u._dbSchema=y,dr(u,[u._allTables,u,u.Transaction.prototype]),po(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],g(y),y),u._storeNames=g(y),this},$r.prototype.upgrade=function(i){return this._cfg.contentUpgrade=en(this._cfg.contentUpgrade||tt,i),this};var Yl=$r;function $r(){}function ho(i,u){var f=i._dbNamesDB;return f||(f=i._dbNamesDB=new Pr(An,{addons:[],indexedDB:i,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function ra(i){return i&&typeof i.databases=="function"}function Oa(i){return Ue(function(){return Ye.letThrough=!0,i()})}function $o(i){return!("from"in i)}var mn=function(i,u){var f;if(!this)return f=new mn,i&&"d"in i&&x(f,i),f;x(this,arguments.length?{d:1,from:i,to:1<arguments.length?u:i}:{d:0})};function mo(i,u,f){var m=Ve(u,f);if(!isNaN(m)){if(0<m)throw RangeError();if($o(i))return x(i,{from:u,to:f,d:1});var m=i.l,y=i.r;if(Ve(f,i.from)<0)return m?mo(m,u,f):i.l={from:u,to:f,d:1,l:null,r:null},Rs(i);if(0<Ve(u,i.to))return y?mo(y,u,f):i.r={from:u,to:f,d:1,l:null,r:null},Rs(i);Ve(u,i.from)<0&&(i.from=u,i.l=null,i.d=y?y.d+1:1),0<Ve(f,i.to)&&(i.to=f,i.r=null,i.d=i.l?i.l.d+1:1),u=!i.r,m&&!i.l&&go(i,m),y&&u&&go(i,y)}}function go(i,u){$o(u)||(function f(m,y){var w=y.from,C=y.l,N=y.r;mo(m,w,y.to),C&&f(m,C),N&&f(m,N)})(i,u)}function Vo(i,u){var f=Ko(u),m=f.next();if(!m.done)for(var y=m.value,w=Ko(i),C=w.next(y.from),N=C.value;!m.done&&!C.done;){if(Ve(N.from,y.to)<=0&&0<=Ve(N.to,y.from))return!0;Ve(y.from,N.from)<0?y=(m=f.next(N.from)).value:N=(C=w.next(y.from)).value}return!1}function Ko(i){var u=$o(i)?null:{s:0,n:i};return{next:function(f){for(var m=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,m)for(;u.n.l&&Ve(f,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!m||Ve(f,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function Rs(i){var u,f,m,y=(((y=i.r)==null?void 0:y.d)||0)-(((y=i.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(u=y=="r"?"l":"r",f=l({},i),m=i[y],i.from=m.from,i.to=m.to,i[y]=m[y],f[y]=m[u],(i[u]=f).d=js(f)),i.d=js(i)}function js(f){var u=f.r,f=f.l;return(u?f?Math.max(u.d,f.d):u.d:f?f.d:0)+1}function qo(i,u){return g(u).forEach(function(f){i[f]?go(i[f],u[f]):i[f]=(function m(y){var w,C,N={};for(w in y)k(y,w)&&(C=y[w],N[w]=!C||typeof C!="object"||dt.has(C.constructor)?C:m(C));return N})(u[f])}),i}function Ti(i,u){return i.all||u.all||Object.keys(i).some(function(f){return u[f]&&Vo(u[f],i[f])})}O(mn.prototype,((on={add:function(i){return go(this,i),this},addKey:function(i){return mo(this,i,i),this},addKeys:function(i){var u=this;return i.forEach(function(f){return mo(u,f,f)}),this},hasKey:function(i){var u=Ko(this).next(i).value;return u&&Ve(u.from,i)<=0&&0<=Ve(u.to,i)}})[rt]=function(){return Ko(this)},on));var Vr={},Oi={},Di=!1;function Wo(i){qo(Oi,i),Di||(Di=!0,setTimeout(function(){Di=!1,Li(Oi,!(Oi={}))},0))}function Li(i,u){u===void 0&&(u=!1);var f=new Set;if(i.all)for(var m=0,y=Object.values(Vr);m<y.length;m++)Yo(N=y[m],i,f,u);else for(var w in i){var C,N,w=/^idb\:\/\/(.*)\/(.*)\//.exec(w);w&&(C=w[1],w=w[2],N=Vr["idb://".concat(C,"/").concat(w)])&&Yo(N,i,f,u)}f.forEach(function(B){return B()})}function Yo(i,u,f,m){for(var y=[],w=0,C=Object.entries(i.queries.query);w<C.length;w++){for(var N=C[w],B=N[0],K=[],I=0,L=N[1];I<L.length;I++){var z=L[I];Ti(u,z.obsSet)?z.subscribers.forEach(function(X){return f.add(X)}):m&&K.push(z)}m&&y.push([B,K])}if(m)for(var H=0,F=y;H<F.length;H++){var M=F[H],B=M[0],K=M[1];i.queries.query[B]=K}}function Ql(i){var u=i._state,f=i._deps.indexedDB;if(u.isBeingOpened||i.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?Ot(u.dbOpenError):i});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var m=u.openCanceller,y=Math.round(10*i.verno),w=!1;function C(){if(u.openCanceller!==m)throw new Pe.DatabaseClosed("db.open() was cancelled")}function N(){return new Te(function(z,H){if(C(),!f)throw new Pe.MissingAPI;var F=i.name,M=u.autoSchema||!y?f.open(F):f.open(F,y);if(!M)throw new Pe.MissingAPI;M.onerror=ln(H),M.onblocked=U(i._fireOnBlocked),M.onupgradeneeded=U(function(X){var te;I=M.transaction,u.autoSchema&&!i._options.allowEmptyDB?(M.onerror=uo,I.abort(),M.result.close(),(te=f.deleteDatabase(F)).onsuccess=te.onerror=U(function(){H(new Pe.NoSuchDatabase("Database ".concat(F," doesnt exist")))})):(I.onerror=ln(H),te=X.oldVersion>Math.pow(2,62)?0:X.oldVersion,L=te<1,i.idbdb=M.result,w&&Ps(i,I),Ho(i,te/10,I,H))},H),M.onsuccess=U(function(){I=null;var X,te,q,ae,de,Ee,Ce=i.idbdb=M.result,pe=ue(Ce.objectStoreNames);if(0<pe.length)try{var Ae=Ce.transaction((de=pe).length===1?de[0]:de,"readonly");if(u.autoSchema)Ee=Ce,ae=Ae,(q=i).verno=Ee.version/10,ae=q._dbSchema=Nr(0,Ee,ae),q._storeNames=ue(Ee.objectStoreNames,0),po(q,[q._allTables],g(ae),ae);else if(ja(i,i._dbSchema,Ae),te=Ae,((te=Pa(Nr(0,(X=i).idbdb,te),X._dbSchema)).add.length||te.change.some(function(Le){return Le.add.length||Le.change.length}))&&!w)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ce.close(),y=Ce.version+1,w=!0,z(N());_a(i,Ae)}catch{}Nn.push(i),Ce.onversionchange=U(function(Le){u.vcFired=!0,i.on("versionchange").fire(Le)}),Ce.onclose=U(function(){i.close({disableAutoOpen:!1})}),L&&(pe=i._deps,de=F,ra(Ee=pe.indexedDB)||de===An||ho(Ee,pe.IDBKeyRange).put({name:de}).catch(tt)),z()},H)}).catch(function(z){switch(z==null?void 0:z.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<y)return y=0,N()}return Te.reject(z)})}var B,K=u.dbReadyResolve,I=null,L=!1;return Te.race([m,(typeof navigator>"u"?Te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function H(){return indexedDB.databases().finally(z)}B=setInterval(H,100),H()}).finally(function(){return clearInterval(B)}):Promise.resolve()).then(N)]).then(function(){return C(),u.onReadyBeingFired=[],Te.resolve(Oa(function(){return i.on.ready.fire(i.vip)})).then(function z(){var H;if(0<u.onReadyBeingFired.length)return H=u.onReadyBeingFired.reduce(en,tt),u.onReadyBeingFired=[],Te.resolve(Oa(function(){return H(i.vip)})).then(z)})}).finally(function(){u.openCanceller===m&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(z){u.dbOpenError=z;try{I&&I.abort()}catch{}return m===u.openCanceller&&i._close(),Ot(z)}).finally(function(){u.openComplete=!0,K()}).then(function(){var z;return L&&(z={},i.tables.forEach(function(H){H.schema.indexes.forEach(function(F){F.name&&(z["idb://".concat(i.name,"/").concat(H.name,"/").concat(F.name)]=new mn(-1/0,[[[]]]))}),z["idb://".concat(i.name,"/").concat(H.name,"/")]=z["idb://".concat(i.name,"/").concat(H.name,"/:dels")]=new mn(-1/0,[[[]]])}),zr(Na).fire(z),Li(z,!0)),i})}function Ai(i){function u(w){return i.next(w)}var f=y(u),m=y(function(w){return i.throw(w)});function y(w){return function(N){var N=w(N),B=N.value;return N.done?B:B&&typeof B.then=="function"?B.then(f,m):v(B)?Promise.all(B).then(f,m):f(B)}}return y(u)()}function Qo(i,u,f){for(var m=v(i)?i.slice():[i],y=0;y<f;++y)m.push(u);return m}var Ts={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return l(l({},i),{table:function(m){var f=i.table(m),m=f.schema,y={},w=[];function C(z,H,F){var q=fo(z),M=y[q]=y[q]||[],X=z==null?0:typeof z=="string"?1:z.length,te=0<H,q=l(l({},F),{name:te?"".concat(q,"(virtual-from:").concat(F.name,")"):F.name,lowLevelIndex:F,isVirtual:te,keyTail:H,keyLength:X,extractKey:Hr(z),unique:!te&&F.unique});return M.push(q),q.isPrimaryKey||w.push(q),1<X&&C(X===2?z[0]:z.slice(0,X-1),H+1,F),M.sort(function(ae,de){return ae.keyTail-de.keyTail}),q}var N=C(m.primaryKey.keyPath,0,m.primaryKey);y[":id"]=[N];for(var B=0,K=m.indexes;B<K.length;B++){var I=K[B];C(I.keyPath,0,I)}function L(z){var H,F=z.query.index;return F.isVirtual?l(l({},z),{query:{index:F.lowLevelIndex,range:(H=z.query.range,F=F.keyTail,{type:H.type===1?2:H.type,lower:Qo(H.lower,H.lowerOpen?i.MAX_KEY:i.MIN_KEY,F),lowerOpen:!0,upper:Qo(H.upper,H.upperOpen?i.MIN_KEY:i.MAX_KEY,F),upperOpen:!0})}}):z}return l(l({},f),{schema:l(l({},m),{primaryKey:N,indexes:w,getIndexByKeyPath:function(z){return(z=y[fo(z)])&&z[0]}}),count:function(z){return f.count(L(z))},query:function(z){return f.query(L(z))},openCursor:function(z){var H=z.query.index,F=H.keyTail,M=H.keyLength;return H.isVirtual?f.openCursor(L(z)).then(function(te){return te&&X(te)}):f.openCursor(z);function X(te){return Object.create(te,{continue:{value:function(q){q!=null?te.continue(Qo(q,z.reverse?i.MAX_KEY:i.MIN_KEY,F)):z.unique?te.continue(te.key.slice(0,M).concat(z.reverse?i.MIN_KEY:i.MAX_KEY,F)):te.continue()}},continuePrimaryKey:{value:function(q,ae){te.continuePrimaryKey(Qo(q,i.MAX_KEY,F),ae)}},primaryKey:{get:function(){return te.primaryKey}},key:{get:function(){var q=te.key;return M===1?q[0]:q.slice(0,M)}},value:{get:function(){return te.value}}})}}})}})}};function Ii(i,u,f,m){return f=f||{},m=m||"",g(i).forEach(function(y){var w,C,N;k(u,y)?(w=i[y],C=u[y],typeof w=="object"&&typeof C=="object"&&w&&C?(N=nt(w))!==nt(C)?f[m+y]=u[y]:N==="Object"?Ii(w,C,f,m+y+"."):w!==C&&(f[m+y]=u[y]):w!==C&&(f[m+y]=u[y])):f[m+y]=void 0}),g(u).forEach(function(y){k(i,y)||(f[m+y]=u[y])}),f}function Mi(i,u){return u.type==="delete"?u.keys:u.keys||u.values.map(i.extractKey)}var Gl={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return l(l({},i),{table:function(u){var f=i.table(u),m=f.schema.primaryKey;return l(l({},f),{mutate:function(y){var w=Ye.trans,C=w.table(u).hook,N=C.deleting,B=C.creating,K=C.updating;switch(y.type){case"add":if(B.fire===tt)break;return w._promise("readwrite",function(){return I(y)},!0);case"put":if(B.fire===tt&&K.fire===tt)break;return w._promise("readwrite",function(){return I(y)},!0);case"delete":if(N.fire===tt)break;return w._promise("readwrite",function(){return I(y)},!0);case"deleteRange":if(N.fire===tt)break;return w._promise("readwrite",function(){return(function L(z,H,F){return f.query({trans:z,values:!1,query:{index:m,range:H},limit:F}).then(function(M){var X=M.result;return I({type:"delete",keys:X,trans:z}).then(function(te){return 0<te.numFailures?Promise.reject(te.failures[0]):X.length<F?{failures:[],numFailures:0,lastResult:void 0}:L(z,l(l({},H),{lower:X[X.length-1],lowerOpen:!0}),F)})})})(y.trans,y.range,1e4)},!0)}return f.mutate(y);function I(L){var z,H,F,M=Ye.trans,X=L.keys||Mi(m,L);if(X)return(L=L.type==="add"||L.type==="put"?l(l({},L),{keys:X}):l({},L)).type!=="delete"&&(L.values=c([],L.values)),L.keys&&(L.keys=c([],L.keys)),z=f,F=X,((H=L).type==="add"?Promise.resolve([]):z.getMany({trans:H.trans,keys:F,cache:"immutable"})).then(function(te){var q=X.map(function(ae,de){var Ee,Ce,pe,Ae=te[de],Le={onerror:null,onsuccess:null};return L.type==="delete"?N.fire.call(Le,ae,Ae,M):L.type==="add"||Ae===void 0?(Ee=B.fire.call(Le,ae,L.values[de],M),ae==null&&Ee!=null&&(L.keys[de]=ae=Ee,m.outbound||V(L.values[de],m.keyPath,ae))):(Ee=Ii(Ae,L.values[de]),(Ce=K.fire.call(Le,Ee,ae,Ae,M))&&(pe=L.values[de],Object.keys(Ce).forEach(function(ve){k(pe,ve)?pe[ve]=Ce[ve]:V(pe,ve,Ce[ve])}))),Le});return f.mutate(L).then(function(ae){for(var de=ae.failures,Ee=ae.results,Ce=ae.numFailures,ae=ae.lastResult,pe=0;pe<X.length;++pe){var Ae=(Ee||X)[pe],Le=q[pe];Ae==null?Le.onerror&&Le.onerror(de[pe]):Le.onsuccess&&Le.onsuccess(L.type==="put"&&te[pe]?L.values[pe]:Ae)}return{failures:de,results:Ee,numFailures:Ce,lastResult:ae}}).catch(function(ae){return q.forEach(function(de){return de.onerror&&de.onerror(ae)}),Promise.reject(ae)})});throw new Error("Keys missing")}}})}})}};function Os(i,u,f){try{if(!u||u.keys.length<i.length)return null;for(var m=[],y=0,w=0;y<u.keys.length&&w<i.length;++y)Ve(u.keys[y],i[w])===0&&(m.push(f?we(u.values[y]):u.values[y]),++w);return m.length===i.length?m:null}catch{return null}}var Xl={stack:"dbcore",level:-1,create:function(i){return{table:function(u){var f=i.table(u);return l(l({},f),{getMany:function(m){var y;return m.cache?(y=Os(m.keys,m.trans._cache,m.cache==="clone"))?Te.resolve(y):f.getMany(m).then(function(w){return m.trans._cache={keys:m.keys,values:m.cache==="clone"?we(w):w},w}):f.getMany(m)},mutate:function(m){return m.type!=="add"&&(m.trans._cache=null),f.mutate(m)}})}}}};function Ds(i,u){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function Ls(i,u){switch(i){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Fi={stack:"dbcore",level:0,name:"Observability",create:function(i){var u=i.schema.name,f=new mn(i.MIN_KEY,i.MAX_KEY);return l(l({},i),{transaction:function(m,y,w){if(Ye.subscr&&y!=="readonly")throw new Pe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ye.querier));return i.transaction(m,y,w)},table:function(m){function y(X){var M,X=X.query;return[M=X.index,new mn((M=(X=X.range).lower)!=null?M:i.MIN_KEY,(M=X.upper)!=null?M:i.MAX_KEY)]}var w=i.table(m),C=w.schema,N=C.primaryKey,B=C.indexes,K=N.extractKey,I=N.outbound,L=N.autoIncrement&&B.filter(function(F){return F.compound&&F.keyPath.includes(N.keyPath)}),z=l(l({},w),{mutate:function(F){function M(ze){return ze="idb://".concat(u,"/").concat(m,"/").concat(ze),de[ze]||(de[ze]=new mn)}var X,te,q,ae=F.trans,de=F.mutatedParts||(F.mutatedParts={}),Ee=M(""),Ce=M(":dels"),pe=F.type,Le=F.type==="deleteRange"?[F.range]:F.type==="delete"?[F.keys]:F.values.length<50?[Mi(N,F).filter(function(ze){return ze}),F.values]:[],Ae=Le[0],Le=Le[1],ve=F.trans._cache;return v(Ae)?(Ee.addKeys(Ae),(pe=pe==="delete"||Ae.length===Le.length?Os(Ae,ve):null)||Ce.addKeys(Ae),(pe||Le)&&(X=M,te=pe,q=Le,C.indexes.forEach(function(ze){var St=X(ze.name||"");function Ct(vt){return vt!=null?ze.extractKey(vt):null}function ot(vt){ze.multiEntry&&v(vt)?vt.forEach(function(Ft){return St.addKey(Ft)}):St.addKey(vt)}(te||q).forEach(function(vt,jt){var Mn=te&&Ct(te[jt]),jt=q&&Ct(q[jt]);Ve(Mn,jt)!==0&&(Mn!=null&&ot(Mn),jt!=null)&&ot(jt)})}))):Ae?(Le={from:(ve=Ae.lower)!=null?ve:i.MIN_KEY,to:(pe=Ae.upper)!=null?pe:i.MAX_KEY},Ce.add(Le),Ee.add(Le)):(Ee.add(f),Ce.add(f),C.indexes.forEach(function(ze){return M(ze.name).add(f)})),w.mutate(F).then(function(ze){return!Ae||F.type!=="add"&&F.type!=="put"||(Ee.addKeys(ze.results),L&&L.forEach(function(St){for(var Ct=F.values.map(function(Mn){return St.extractKey(Mn)}),ot=St.keyPath.findIndex(function(Mn){return Mn===N.keyPath}),vt=0,Ft=ze.results.length;vt<Ft;++vt)Ct[vt][ot]=ze.results[vt];M(St.name).addKeys(Ct)})),ae.mutatedParts=qo(ae.mutatedParts||{},de),ze})}}),H={get:function(F){return[N,new mn(F.key)]},getMany:function(F){return[N,new mn().addKeys(F.keys)]},count:y,query:y,openCursor:y};return g(H).forEach(function(F){z[F]=function(M){var X=Ye.subscr,te=!!X,q=Ds(Ye,w)&&Ls(F,M)?M.obsSet={}:X;if(te){var ae,X=function(Le){return Le="idb://".concat(u,"/").concat(m,"/").concat(Le),q[Le]||(q[Le]=new mn)},de=X(""),Ee=X(":dels"),te=H[F](M),Ce=te[0],te=te[1];if((F==="query"&&Ce.isPrimaryKey&&!M.values?Ee:X(Ce.name||"")).add(te),!Ce.isPrimaryKey){if(F!=="count")return ae=F==="query"&&I&&M.values&&w.query(l(l({},M),{values:!1})),w[F].apply(this,arguments).then(function(Le){if(F==="query"){if(I&&M.values)return ae.then(function(Ct){return Ct=Ct.result,de.addKeys(Ct),Le});var ve=M.values?Le.result.map(K):Le.result;(M.values?de:Ee).addKeys(ve)}else{var ze,St;if(F==="openCursor")return St=M.values,(ze=Le)&&Object.create(ze,{key:{get:function(){return Ee.addKey(ze.primaryKey),ze.key}},primaryKey:{get:function(){var Ct=ze.primaryKey;return Ee.addKey(Ct),Ct}},value:{get:function(){return St&&de.addKey(ze.primaryKey),ze.value}}})}return Le});Ee.add(f)}}return w[F].apply(this,arguments)}}),z}})}};function Da(i,u,f){var m;return f.numFailures===0?u:u.type==="deleteRange"||(m=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,f.numFailures===m)?null:(m=l({},u),v(m.keys)&&(m.keys=m.keys.filter(function(y,w){return!(w in f.failures)})),"values"in m&&v(m.values)&&(m.values=m.values.filter(function(y,w){return!(w in f.failures)})),m)}function Bi(i,u){return f=i,((m=u).lower===void 0||(m.lowerOpen?0<Ve(f,m.lower):0<=Ve(f,m.lower)))&&(f=i,(m=u).upper===void 0||(m.upperOpen?Ve(f,m.upper)<0:Ve(f,m.upper)<=0));var f,m}function Ui(i,u,f,m,y,w){var C,N,B,K,I,L;return!f||f.length===0||(C=u.query.index,N=C.multiEntry,B=u.query.range,K=m.schema.primaryKey.extractKey,I=C.extractKey,L=(C.lowLevelIndex||C).extractKey,(m=f.reduce(function(z,H){var F=z,M=[];if(H.type==="add"||H.type==="put")for(var X=new mn,te=H.values.length-1;0<=te;--te){var q,ae=H.values[te],de=K(ae);!X.hasKey(de)&&(q=I(ae),N&&v(q)?q.some(function(Le){return Bi(Le,B)}):Bi(q,B))&&(X.addKey(de),M.push(ae))}switch(H.type){case"add":var Ee=new mn().addKeys(u.values?z.map(function(ve){return K(ve)}):z),F=z.concat(u.values?M.filter(function(ve){return ve=K(ve),!Ee.hasKey(ve)&&(Ee.addKey(ve),!0)}):M.map(function(ve){return K(ve)}).filter(function(ve){return!Ee.hasKey(ve)&&(Ee.addKey(ve),!0)}));break;case"put":var Ce=new mn().addKeys(H.values.map(function(ve){return K(ve)}));F=z.filter(function(ve){return!Ce.hasKey(u.values?K(ve):ve)}).concat(u.values?M:M.map(function(ve){return K(ve)}));break;case"delete":var pe=new mn().addKeys(H.keys);F=z.filter(function(ve){return!pe.hasKey(u.values?K(ve):ve)});break;case"deleteRange":var Ae=H.range;F=z.filter(function(ve){return!Bi(K(ve),Ae)})}return F},i))===i)?i:(m.sort(function(z,H){return Ve(L(z),L(H))||Ve(K(z),K(H))}),u.limit&&u.limit<1/0&&(m.length>u.limit?m.length=u.limit:i.length===u.limit&&m.length<u.limit&&(y.dirty=!0)),w?Object.freeze(m):m)}function zi(i,u){return Ve(i.lower,u.lower)===0&&Ve(i.upper,u.upper)===0&&!!i.lowerOpen==!!u.lowerOpen&&!!i.upperOpen==!!u.upperOpen}function As(i,u){return((f,m,y,w)=>{if(f===void 0)return m!==void 0?-1:0;if(m===void 0)return 1;if((f=Ve(f,m))===0){if(y&&w)return 0;if(y)return 1;if(w)return-1}return f})(i.lower,u.lower,i.lowerOpen,u.lowerOpen)<=0&&0<=((f,m,y,w)=>{if(f===void 0)return m!==void 0?1:0;if(m===void 0)return-1;if((f=Ve(f,m))===0){if(y&&w)return 0;if(y)return-1;if(w)return 1}return f})(i.upper,u.upper,i.upperOpen,u.upperOpen)}function Is(i,u,f,m){i.subscribers.add(f),m.addEventListener("abort",function(){var y,w;i.subscribers.delete(f),i.subscribers.size===0&&(y=i,w=u,setTimeout(function(){y.subscribers.size===0&&se(w,y)},3e3))})}var Ms={stack:"dbcore",level:0,name:"Cache",create:function(i){var u=i.schema.name;return l(l({},i),{transaction:function(f,m,y){var w,C,N=i.transaction(f,m,y);return m==="readwrite"&&(y=(w=new AbortController).signal,N.addEventListener("abort",(C=function(B){return function(){if(w.abort(),m==="readwrite"){for(var K=new Set,I=0,L=f;I<L.length;I++){var z=L[I],H=Vr["idb://".concat(u,"/").concat(z)];if(H){var F=i.table(z),M=H.optimisticOps.filter(function(ze){return ze.trans===N});if(N._explicit&&B&&N.mutatedParts)for(var X=0,te=Object.values(H.queries.query);X<te.length;X++)for(var q=0,ae=(Ce=te[X]).slice();q<ae.length;q++)Ti((pe=ae[q]).obsSet,N.mutatedParts)&&(se(Ce,pe),pe.subscribers.forEach(function(ze){return K.add(ze)}));else if(0<M.length){H.optimisticOps=H.optimisticOps.filter(function(ze){return ze.trans!==N});for(var de=0,Ee=Object.values(H.queries.query);de<Ee.length;de++)for(var Ce,pe,Ae,Le=0,ve=(Ce=Ee[de]).slice();Le<ve.length;Le++)(pe=ve[Le]).res!=null&&N.mutatedParts&&(B&&!pe.dirty?(Ae=Object.isFrozen(pe.res),Ae=Ui(pe.res,pe.req,M,F,pe,Ae),pe.dirty?(se(Ce,pe),pe.subscribers.forEach(function(ze){return K.add(ze)})):Ae!==pe.res&&(pe.res=Ae,pe.promise=Te.resolve({result:Ae}))):(pe.dirty&&se(Ce,pe),pe.subscribers.forEach(function(ze){return K.add(ze)})))}}}K.forEach(function(ze){return ze()})}}})(!1),{signal:y}),N.addEventListener("error",C(!1),{signal:y}),N.addEventListener("complete",C(!0),{signal:y})),N},table:function(f){var m=i.table(f),y=m.schema.primaryKey;return l(l({},m),{mutate:function(w){var C,N=Ye.trans;return!y.outbound&&N.db._options.cache!=="disabled"&&!N.explicit&&N.idbtrans.mode==="readwrite"&&(C=Vr["idb://".concat(u,"/").concat(f)])?(N=m.mutate(w),w.type!=="add"&&w.type!=="put"||!(50<=w.values.length||Mi(y,w).some(function(B){return B==null}))?(C.optimisticOps.push(w),w.mutatedParts&&Wo(w.mutatedParts),N.then(function(B){0<B.numFailures&&(se(C.optimisticOps,w),(B=Da(0,w,B))&&C.optimisticOps.push(B),w.mutatedParts)&&Wo(w.mutatedParts)}),N.catch(function(){se(C.optimisticOps,w),w.mutatedParts&&Wo(w.mutatedParts)})):N.then(function(B){var K=Da(0,l(l({},w),{values:w.values.map(function(I,L){var z;return B.failures[L]?I:(V(z=(z=y.keyPath)!=null&&z.includes(".")?we(I):l({},I),y.keyPath,B.results[L]),z)})}),B);C.optimisticOps.push(K),queueMicrotask(function(){return w.mutatedParts&&Wo(w.mutatedParts)})}),N):m.mutate(w)},query:function(w){var C,N,B,K,I,L,z;return Ds(Ye,m)&&Ls("query",w)?(C=((B=Ye.trans)==null?void 0:B.db._options.cache)==="immutable",N=(B=Ye).requery,B=B.signal,L=((H,F,M,X)=>{var te=Vr["idb://".concat(H,"/").concat(F)];if(!te)return[];if(!(H=te.queries[M]))return[null,!1,te,null];var q=H[(X.query?X.query.index.name:null)||""];if(!q)return[null,!1,te,null];switch(M){case"query":var ae=q.find(function(de){return de.req.limit===X.limit&&de.req.values===X.values&&zi(de.req.query.range,X.query.range)});return ae?[ae,!0,te,q]:[q.find(function(de){return("limit"in de.req?de.req.limit:1/0)>=X.limit&&(!X.values||de.req.values)&&As(de.req.query.range,X.query.range)}),!1,te,q];case"count":return ae=q.find(function(de){return zi(de.req.query.range,X.query.range)}),[ae,!!ae,te,q]}})(u,f,"query",w),z=L[0],K=L[2],I=L[3],z&&L[1]?z.obsSet=w.obsSet:(L=m.query(w).then(function(H){var F=H.result;if(z&&(z.res=F),C){for(var M=0,X=F.length;M<X;++M)Object.freeze(F[M]);Object.freeze(F)}else H.result=we(F);return H}).catch(function(H){return I&&z&&se(I,z),Promise.reject(H)}),z={obsSet:w.obsSet,promise:L,subscribers:new Set,type:"query",req:w,dirty:!1},I?I.push(z):(I=[z],(K=K||(Vr["idb://".concat(u,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[w.query.index.name||""]=I)),Is(z,I,N,B),z.promise.then(function(H){return{result:Ui(H.result,w,K==null?void 0:K.optimisticOps,m,z,C)}})):m.query(w)}})}})}};function _r(i,u){return new Proxy(i,{get:function(f,m,y){return m==="db"?u:Reflect.get(f,m,y)}})}Wt.prototype.version=function(i){if(isNaN(i)||i<.1)throw new Pe.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new Pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var u=this._versions,f=u.filter(function(m){return m._cfg.version===i})[0];return f||(f=new this.Version(i),u.push(f),u.sort(Ri),f.stores({}),this._state.autoSchema=!1),f},Wt.prototype._whenReady=function(i){var u=this;return this.idbdb&&(this._state.openComplete||Ye.letThrough||this._vip)?i():new Te(function(f,m){if(u._state.openComplete)return m(new Pe.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void m(new Pe.DatabaseClosed);u.open().catch(tt)}u._state.dbReadyPromise.then(f,m)}).then(i)},Wt.prototype.use=function(y){var u=y.stack,f=y.create,m=y.level,y=y.name,w=(y&&this.unuse({stack:u,name:y}),this._middlewares[u]||(this._middlewares[u]=[]));return w.push({stack:u,create:f,level:m??10,name:y}),w.sort(function(C,N){return C.level-N.level}),this},Wt.prototype.unuse=function(i){var u=i.stack,f=i.name,m=i.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(y){return m?y.create!==m:!!f&&y.name!==f})),this},Wt.prototype.open=function(){var i=this;return gt(Jn,function(){return Ql(i)})},Wt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var i=this._state,u=Nn.indexOf(this);if(0<=u&&Nn.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new Te(function(f){i.dbReadyResolve=f}),i.openCanceller=new Te(function(f,m){i.cancelOpen=m}))},Wt.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,f=this._state;u?(f.isBeingOpened&&f.cancelOpen(new Pe.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new Pe.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Wt.prototype.delete=function(i){var u=this,f=(i===void 0&&(i={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),m=this._state;return new Te(function(y,w){function C(){u.close(i);var N=u._deps.indexedDB.deleteDatabase(u.name);N.onsuccess=U(function(){var B,K,I;B=u._deps,K=u.name,ra(I=B.indexedDB)||K===An||ho(I,B.IDBKeyRange).delete(K).catch(tt),y()}),N.onerror=ln(w),N.onblocked=u._fireOnBlocked}if(f)throw new Pe.InvalidArgument("Invalid closeOptions argument to db.delete()");m.isBeingOpened?m.dbReadyPromise.then(C):C()})},Wt.prototype.backendDB=function(){return this.idbdb},Wt.prototype.isOpen=function(){return this.idbdb!==null},Wt.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},Wt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Wt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Wt.prototype,"tables",{get:function(){var i=this;return g(this._allTables).map(function(u){return i._allTables[u]})},enumerable:!1,configurable:!0}),Wt.prototype.transaction=function(){var i=(function(u,f,m){var y=arguments.length;if(y<2)throw new Pe.InvalidArgument("Too few arguments");for(var w=new Array(y-1);--y;)w[y-1]=arguments[y];return m=w.pop(),[u,_e(w),m]}).apply(this,arguments);return this._transaction.apply(this,i)},Wt.prototype._transaction=function(i,u,f){var m,y,w=this,C=Ye.trans,N=(C&&C.db===this&&i.indexOf("!")===-1||(C=null),i.indexOf("?")!==-1);i=i.replace("!","").replace("?","");try{if(y=u.map(function(K){if(K=K instanceof w.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),i=="r"||i===nr)m=nr;else{if(i!="rw"&&i!=Fr)throw new Pe.InvalidArgument("Invalid transaction mode: "+i);m=Fr}if(C){if(C.mode===nr&&m===Fr){if(!N)throw new Pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");C=null}C&&y.forEach(function(K){if(C&&C.storeNames.indexOf(K)===-1){if(!N)throw new Pe.SubTransaction("Table "+K+" not included in parent transaction.");C=null}}),N&&C&&!C.active&&(C=null)}}catch(K){return C?C._promise(null,function(I,L){L(K)}):Ot(K)}var B=(function K(I,L,z,H,F){return Te.resolve().then(function(){var q=Ye.transless||Ye,M=I._createTransaction(L,z,I._dbSchema,H),q=(M.explicit=!0,{trans:M,transless:q});if(H)M.idbtrans=H.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,I._state.PR1398_maxLoop=3}catch(ae){return ae.name===Ze.InvalidState&&I.isOpen()&&0<--I._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),I.close({disableAutoOpen:!1}),I.open().then(function(){return K(I,L,z,null,F)})):Ot(ae)}var X,te=P(F),q=(te&&Fe(),Te.follow(function(){var ae;(X=F.call(M,M))&&(te?(ae=Ie.bind(null,null),X.then(ae,ae)):typeof X.next=="function"&&typeof X.throw=="function"&&(X=Ai(X)))},q));return(X&&typeof X.then=="function"?Te.resolve(X).then(function(ae){return M.active?ae:Ot(new Pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):q.then(function(){return X})).then(function(ae){return H&&M._resolve(),M._completion.then(function(){return ae})}).catch(function(ae){return M._reject(ae),Ot(ae)})})}).bind(null,this,m,y,C,f);return C?C._promise(m,B,"lock"):Ye.trans?gt(Ye.transless,function(){return w._whenReady(B)}):this._whenReady(B)},Wt.prototype.table=function(i){if(k(this._allTables,i))return this._allTables[i];throw new Pe.InvalidTable("Table ".concat(i," does not exist"))};var Pr=Wt;function Wt(i,u){var f,m,y,w,C,N=this,B=(this._middlewares={},this.verno=0,Wt.dependencies),B=(this._options=u=l({addons:Wt.addons,autoOpen:!0,indexedDB:B.indexedDB,IDBKeyRange:B.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),K=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:tt,dbReadyPromise:null,cancelOpen:tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),I=(K.dbReadyPromise=new Te(function(L){K.dbReadyResolve=L}),K.openCanceller=new Te(function(L,z){K.cancelOpen=z}),this._state=K,this.name=i,this.on=so(this,"populate","blocked","versionchange","close",{ready:[en,tt]}),this.once=function(L,z){var H=function(){for(var F=[],M=0;M<arguments.length;M++)F[M]=arguments[M];N.on(L).unsubscribe(H),z.apply(N,F)};return N.on(L,H)},this.on.ready.subscribe=le(this.on.ready.subscribe,function(L){return function(z,H){Wt.vip(function(){var F,M=N._state;M.openComplete?(M.dbOpenError||Te.resolve().then(z),H&&L(z)):M.onReadyBeingFired?(M.onReadyBeingFired.push(z),H&&L(z)):(L(z),F=N,H||L(function X(){F.on.ready.unsubscribe(z),F.on.ready.unsubscribe(X)}))})}}),this.Collection=(f=this,Jr(Es.prototype,function(X,M){this.db=f;var H=Tt,F=null;if(M)try{H=M()}catch(q){F=q}var M=X._ctx,X=M.table,te=X.hook.reading.fire;this._ctx={table:X,index:M.index,isPrimKey:!M.index||X.schema.primKey.keyPath&&M.index===X.schema.primKey.name,range:H,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:F,or:M.or,valueMapper:te!==ht?te:null}})),this.Table=(m=this,Jr(io.prototype,function(L,z,H){this.db=m,this._tx=H,this.name=L,this.schema=z,this.hook=m._allTables[L]?m._allTables[L].hook:so(null,{creating:[et,tt],reading:[qt,ht],updating:[fn,tt],deleting:[kt,tt]})})),this.Transaction=(y=this,Jr(Ns.prototype,function(L,z,H,F,M){var X=this;L!=="readonly"&&z.forEach(function(te){te=(te=H[te])==null?void 0:te.yProps,te&&(z=z.concat(te.map(function(q){return q.updatesTable})))}),this.db=y,this.mode=L,this.storeNames=z,this.schema=H,this.chromeTransactionDurability=F,this.idbtrans=null,this.on=so(this,"complete","error","abort"),this.parent=M||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te(function(te,q){X._resolve=te,X._reject=q}),this._completion.then(function(){X.active=!1,X.on.complete.fire()},function(te){var q=X.active;return X.active=!1,X.on.error.fire(te),X.parent?X.parent._reject(te):q&&X.idbtrans&&X.idbtrans.abort(),Ot(te)})})),this.Version=(w=this,Jr(Yl.prototype,function(L){this.db=w,this._cfg={version:L,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,Jr(Ca.prototype,function(L,z,H){if(this.db=C,this._ctx={table:L,index:z===":id"?null:z,or:H},this._cmp=this._ascending=Ve,this._descending=function(F,M){return Ve(M,F)},this._max=function(F,M){return 0<Ve(F,M)?F:M},this._min=function(F,M){return Ve(F,M)<0?F:M},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new Pe.MissingAPI})),this.on("versionchange",function(L){0<L.newVersion?console.warn("Another connection wants to upgrade database '".concat(N.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(N.name,"'. Closing db now to resume the delete request.")),N.close({disableAutoOpen:!1})}),this.on("blocked",function(L){!L.newVersion||L.newVersion<L.oldVersion?console.warn("Dexie.delete('".concat(N.name,"') was blocked")):console.warn("Upgrade '".concat(N.name,"' blocked by other connection holding version ").concat(L.oldVersion/10))}),this._maxKey=Cr(u.IDBKeyRange),this._createTransaction=function(L,z,H,F){return new N.Transaction(L,z,H,N._options.chromeTransactionDurability,F)},this._fireOnBlocked=function(L){N.on("blocked").fire(L),Nn.filter(function(z){return z.name===N.name&&z!==N&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(L)})},this.use(Xl),this.use(Ms),this.use(Fi),this.use(Ts),this.use(Gl),new Proxy(this,{get:function(L,z,H){var F;return z==="_vip"||(z==="table"?function(M){return _r(N.table(M),I)}:(F=Reflect.get(L,z,H))instanceof io?_r(F,I):z==="tables"?F.map(function(M){return _r(M,I)}):z==="_createTransaction"?function(){return _r(F.apply(this,arguments),I)}:F)}}));this.vip=I,B.forEach(function(L){return L(N)})}var Go,aa=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Fs=(oa.prototype.subscribe=function(i,u,f){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:u,complete:f})},oa.prototype[aa]=function(){return this},oa);function oa(i){this._subscribe=i}try{Go={indexedDB:p.indexedDB||p.mozIndexedDB||p.webkitIndexedDB||p.msIndexedDB,IDBKeyRange:p.IDBKeyRange||p.webkitIDBKeyRange}}catch{Go={indexedDB:null,IDBKeyRange:null}}function La(i){var u,f=!1,m=new Fs(function(y){var w=P(i),C,N=!1,B={},K={},I={get closed(){return N},unsubscribe:function(){N||(N=!0,C&&C.abort(),L&&zr.storagemutated.unsubscribe(H))}},L=(y.start&&y.start(I),!1),z=function(){return tr(F)},H=function(M){qo(B,M),Ti(K,B)&&z()},F=function(){var M,X,te;!N&&Go.indexedDB&&(B={},M={},C&&C.abort(),C=new AbortController,te=(q=>{var ae=Ln();try{w&&Fe();var de=Ue(i,q);return de=w?de.finally(Ie):de}finally{ae&&wr()}})(X={subscr:M,signal:C.signal,requery:z,querier:i,trans:null}),Promise.resolve(te).then(function(q){f=!0,u=q,N||X.signal.aborted||(B={},(ae=>{for(var de in ae)if(k(ae,de))return;return 1})(K=M)||L||(zr(Na,H),L=!0),tr(function(){return!N&&y.next&&y.next(q)}))},function(q){f=!1,["DatabaseClosedError","AbortError"].includes(q==null?void 0:q.name)||N||tr(function(){N||y.error&&y.error(q)})}))};return setTimeout(z,0),I});return m.hasValue=function(){return f},m.getValue=function(){return u},m}var ia=Pr;function Aa(i){var u=Rr;try{Rr=!0,zr.storagemutated.fire(i),Li(i,!0)}finally{Rr=u}}O(ia,l(l({},G),{delete:function(i){return new ia(i,{addons:[]}).delete()},exists:function(i){return new ia(i,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return u=ia.dependencies,f=u.indexedDB,u=u.IDBKeyRange,(ra(f)?Promise.resolve(f.databases()).then(function(m){return m.map(function(y){return y.name}).filter(function(y){return y!==An})}):ho(f,u).toCollection().primaryKeys()).then(i)}catch{return Ot(new Pe.MissingAPI)}var u,f},defineClass:function(){return function(i){x(this,i)}},ignoreTransaction:function(i){return Ye.trans?gt(Ye.transless,i):i()},vip:Oa,async:function(i){return function(){try{var u=Ai(i.apply(this,arguments));return u&&typeof u.then=="function"?u:Te.resolve(u)}catch(f){return Ot(f)}}},spawn:function(i,u,f){try{var m=Ai(i.apply(f,u||[]));return m&&typeof m.then=="function"?m:Te.resolve(m)}catch(y){return Ot(y)}},currentTransaction:{get:function(){return Ye.trans||null}},waitFor:function(i,u){return i=Te.resolve(typeof i=="function"?ia.ignoreTransaction(i):i).timeout(u||6e4),Ye.trans?Ye.trans.waitFor(i):i},Promise:Te,debug:{get:function(){return an},set:function(i){va(i)}},derive:W,extend:x,props:O,override:le,Events:so,on:zr,liveQuery:La,extendObservabilitySet:qo,getByKeyPath:We,setByKeyPath:V,delByKeyPath:function(i,u){typeof u=="string"?V(i,u,void 0):"length"in u&&[].map.call(u,function(f){V(i,f,void 0)})},shallowClone:Ne,deepClone:we,getObjectDiff:Ii,cmp:Ve,asap:Be,minKey:-1/0,addons:[],connections:Nn,errnames:Ze,dependencies:Go,cache:Vr,semVer:"4.3.0",version:"4.3.0".split(".").map(function(i){return parseInt(i)}).reduce(function(i,u,f){return i+u/Math.pow(10,2*f)})})),ia.maxKey=Cr(ia.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(zr(Na,function(i){Rr||(i=new CustomEvent(ta,{detail:i}),Rr=!0,dispatchEvent(i),Rr=!1)}),addEventListener(ta,function(i){i=i.detail,Rr||Aa(i)}));var Ia,Rr=!1,Xo=function(){};return typeof BroadcastChannel<"u"&&((Xo=function(){(Ia=new BroadcastChannel(ta)).onmessage=function(i){return i.data&&Aa(i.data)}})(),typeof Ia.unref=="function"&&Ia.unref(),zr(Na,function(i){Rr||Ia.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!Pr.disableBfCache&&i.persisted){an&&console.debug("Dexie: handling persisted pagehide"),Ia!=null&&Ia.close();for(var u=0,f=Nn;u<f.length;u++)f[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!Pr.disableBfCache&&i.persisted&&(an&&console.debug("Dexie: handling persisted pageshow"),Xo(),Aa({all:new mn(-1/0,[[]])}))})),Te.rejectionMapper=function(i,u){return!i||i instanceof ge||i instanceof TypeError||i instanceof SyntaxError||!i.name||!rn[i.name]?i:(u=new rn[i.name](u||i.message,i),"stack"in i&&D(u,"stack",{get:function(){return this.inner.stack}}),u)},va(an),l(Pr,Object.freeze({__proto__:null,Dexie:Pr,Entity:Br,PropModification:Ur,RangeSet:mn,add:function(i){return new Ur({add:i})},cmp:Ve,default:Pr,liveQuery:La,mergeRanges:go,rangesOverlap:Vo,remove:function(i){return new Ur({remove:i})},replacePrefix:function(i,u){return new Ur({replacePrefix:[i,u]})}}),{default:Pr}),Pr})})(Ll)),Ll.exports}var vv=yv();const Oc=vs(vv),Rp=Symbol.for("Dexie"),Hl=globalThis[Rp]||(globalThis[Rp]=Oc);if(Oc.semVer!==Hl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Oc.semVer} and ${Hl.semVer}`);const{liveQuery:ax,mergeRanges:ox,rangesOverlap:ix,RangeSet:sx,cmp:lx,Entity:ux,PropModification:cx,replacePrefix:dx,add:fx,remove:px,DexieYProvider:hx}=Hl;class xv extends Hl{constructor(){super("dagda-db");mi(this,"parties");mi(this,"notes");mi(this,"saveSlots");mi(this,"timeline");mi(this,"outbox");this.version(1).stores({parties:"id, status, updatedAt",notes:"id, partyId, createdAt",saveSlots:"id, partyId, slot, createdAt",timeline:"id, partyId, type, createdAt",outbox:"id, partyId, status, createdAt"})}}const Vt=new xv;class wv{async findAll(){return Vt.parties.orderBy("updatedAt").reverse().toArray()}async findById(r){return Vt.parties.get(r)}async save(r){await Vt.parties.put(r)}async delete(r){await Vt.transaction("rw",[Vt.parties,Vt.notes,Vt.saveSlots,Vt.timeline,Vt.outbox],async()=>{await Vt.parties.delete(r),await Vt.notes.where("partyId").equals(r).delete(),await Vt.saveSlots.where("partyId").equals(r).delete(),await Vt.timeline.where("partyId").equals(r).delete(),await Vt.outbox.where("partyId").equals(r).delete()})}}class bv{async findByPartyId(r){return Vt.notes.where("partyId").equals(r).reverse().sortBy("createdAt")}async save(r){await Vt.notes.put(r)}}class Sv{async findByPartyId(r){return Vt.saveSlots.where("partyId").equals(r).toArray()}async save(r){await Vt.saveSlots.put(r)}async delete(r){await Vt.saveSlots.delete(r)}}class Ev{async findByPartyId(r){return Vt.timeline.where("partyId").equals(r).reverse().sortBy("createdAt")}async append(r){await Vt.timeline.add(r)}}var Ja=(a=>(a.NARRATIVE="NARRATIVE",a.SIMPLIFIED="SIMPLIFIED",a.MORTAL="MORTAL",a))(Ja||{}),$l=(a=>(a.INSTINCT="INSTINCT",a.HERBOLOGY="HERBOLOGY",a.STEALTH="DISCRETION",a.PERSUASION="PERSUASION",a.OBSERVATION="OBSERVATION",a.SLEIGHT_OF_HAND="SLEIGHT_OF_HAND",a.EMPATHY_PRACTICE="EMPATHY_PRACTICE",a))($l||{});const kv={INSTINCT:"Instinct",HERBOLOGY:"Herboristerie",DISCRETION:"Discrtion",PERSUASION:"Persuasion",OBSERVATION:"Observation",SLEIGHT_OF_HAND:"Tour de main",EMPATHY_PRACTICE:"Pratique de l'empathie"};var dn=(a=>(a.ACTIVE="ACTIVE",a.FINISHED="FINISHED",a.DEAD="DEAD",a))(dn||{}),Mt=(a=>(a.PARTY_CREATED="party_created",a.CHAPTER_SET="chapter_set",a.HP_CHANGED="hp_changed",a.LUCK_SPENT="luck_spent",a.LUCK_CHANGED="luck_changed",a.NOTE_ADDED="note_added",a.SAVE_CREATED="save_created",a.SAVE_REPLACED="save_replaced",a.SAVE_RESTORED="save_restored",a.COMBAT_STARTED="combat_started",a.COMBAT_HIT="combat_hit",a.COMBAT_MISS="combat_miss",a.COMBAT_ENEMY_HIT="combat_enemy_hit",a.COMBAT_ENEMY_MISS="combat_enemy_miss",a.COMBAT_VICTORY="combat_victory",a.COMBAT_DEFEAT="combat_defeat",a.DEATH_RESET="death_reset",a.DICE_REROLLED="dice_rerolled",a.PARTY_EXPORTED="party_exported",a.PARTY_FINISHED="party_finished",a.CUSTOM_ACTION="custom_action",a.INVENTORY_CHANGED="inventory_changed",a))(Mt||{}),no=(a=>(a.PENDING="PENDING",a.SENT="SENT",a))(no||{});const jp=Object.freeze(Object.defineProperty({__proto__:null,GameMode:Ja,OutboxStatus:no,PartyStatus:dn,TALENT_LABELS:kv,Talent:$l,TimelineEventType:Mt},Symbol.toStringTag,{value:"Module"}));class Cv{async findPending(){return Vt.outbox.where("status").equals(no.PENDING).toArray()}async append(r){await Vt.outbox.add(r)}async updateStatus(r,o,l){await Vt.outbox.update(r,{status:o,...l?{sentAt:l}:{}})}}class Nv{rollD6(){const r=new Uint8Array(1);return crypto.getRandomValues(r),r[0]%6+1}roll2D6(){return[this.rollD6(),this.rollD6()]}rollNd6(r){return Array.from({length:r},()=>this.rollD6())}}class _v{now(){return new Date().toISOString()}}const Pv=1;class Rv{exportParty(r){const o={version:Pv,exportedAt:new Date().toISOString(),snapshot:r};return JSON.stringify(o,null,2)}exportSummary(r){const{party:o}=r,l=o.character;return[`=== ${o.name} ===`,`Mode : ${o.mode}`,`Statut : ${o.status}`,`Chapitre : ${o.currentChapter}`,"","--- Personnage ---",`Nom : ${l.name}`,`Talent : ${l.talent}`,`PV : ${l.hpCurrent} / ${l.hpMax}`,`Chance : ${l.luck}`,`Dextrit : ${l.dexterity}`,"",`Armes : ${l.inventory.weapons.map(p=>`${p.name}${p.bonus?` (+${p.bonus})`:""}`).join(", ")||"aucune"}`,`Boulons : ${l.inventory.currency.boulons}`,`Sauvegardes : ${r.saveSlots.length} / 3`,`Notes : ${r.notes.length}`,"",`Export le ${new Date().toLocaleString("fr-FR")}`].join(`
`)}importParty(r){let o;try{o=JSON.parse(r)}catch{throw new Error("Fichier JSON invalide.")}if(!o.snapshot||!o.snapshot.party)throw new Error("Format de sauvegarde non reconnu.");return o.snapshot}}const hh=7,mh=3;function zc(){return{weapons:[],items:[],currency:{boulons:0}}}function gh(a){const r=a.hpRoll*4;return{name:a.name,talent:a.talent,hpMax:r,hpCurrent:r,luck:a.luckRoll,dexterity:hh,inventory:zc()}}function yh(a,r){const o=Math.max(0,Math.min(a.hpMax,a.hpCurrent+r));return{...a,hpCurrent:o}}function vh(a,r){const o=Math.max(0,a.luck-r);return{...a,luck:o}}function xh(a){return a.hpCurrent<=0}function jv(a){return{...a,hpCurrent:a.hpMax,inventory:zc()}}function Hc(a){return a!==Ja.SIMPLIFIED}const Tv=Object.freeze(Object.defineProperty({__proto__:null,INITIAL_DEXTERITY:hh,MAX_SAVE_SLOTS:mh,applyDeathReset:jv,applyHpChange:yh,applyLuckCost:vh,canRestoreAnySlot:Hc,createCharacter:gh,createInitialInventory:zc,isDead:xh},Symbol.toStringTag,{value:"Module"}));class Ov{constructor(r,o,l,c,p){this.partyRepo=r,this.eventLog=o,this.outbox=l,this.rng=c,this.clock=p}async execute(r){const o=this.rng.rollNd6(2).reduce((x,E)=>x+E,0),l=this.rng.rollD6(),c=this.clock.now(),p=crypto.randomUUID(),g=gh({name:r.characterName,talent:r.talent,hpRoll:o,luckRoll:l}),v={id:p,name:r.name,mode:r.mode,status:dn.ACTIVE,currentChapter:1,character:g,createdAt:c,updatedAt:c};return await this.partyRepo.save(v),await this.eventLog.append({id:crypto.randomUUID(),partyId:p,type:Mt.PARTY_CREATED,label:`Partie "${r.name}" cre (mode ${r.mode})`,payload:{mode:r.mode,talent:r.talent,hpRoll:o,luckRoll:l},createdAt:c}),await this.outbox.append({id:crypto.randomUUID(),partyId:p,type:Mt.PARTY_CREATED,payload:{partyId:p,name:r.name,mode:r.mode},status:no.PENDING,createdAt:c}),v}}class Dv{constructor(r,o,l){this.partyRepo=r,this.eventLog=o,this.clock=l}async execute(r,o){const l=await this.partyRepo.findById(r);if(!l)throw new Error(`Partie ${r} introuvable.`);if(o===l.currentChapter)return;const c=this.clock.now(),p={...l,currentChapter:o,updatedAt:c};await this.partyRepo.save(p),await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:Mt.CHAPTER_SET,label:` ${l.currentChapter}  ${o}`,payload:{chapter:o,previous:l.currentChapter},createdAt:c})}}class Lv{constructor(r,o,l,c){this.partyRepo=r,this.eventLog=o,this.outbox=l,this.clock=c}async execute(r,o){const l=await this.partyRepo.findById(r);if(!l)throw new Error(`Partie ${r} introuvable.`);const c=this.clock.now(),p=yh(l.character,o);let g={...l,character:p,updatedAt:c};await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:Mt.HP_CHANGED,label:`PV ${o>0?"+":""}${o} (${p.hpCurrent}/${p.hpMax})`,payload:{delta:o,before:l.character.hpCurrent,after:p.hpCurrent},createdAt:c});const v=xh(p),x=v&&l.mode===Ja.MORTAL;return x&&(g={...g,status:dn.DEAD},await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:Mt.DEATH_RESET,label:" Mort dfinitive  l'aventure se termine.",payload:{},createdAt:c}),await this.outbox.append({id:crypto.randomUUID(),partyId:r,type:Mt.DEATH_RESET,payload:{partyId:r},status:no.PENDING,createdAt:c})),await this.partyRepo.save(g),{isDead:v,isMortalDeath:x}}}class Av{constructor(r,o,l){this.noteRepo=r,this.eventLog=o,this.clock=l}async execute(r,o){const l=this.clock.now(),c={id:crypto.randomUUID(),partyId:r,content:o,createdAt:l};return await this.noteRepo.save(c),await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:Mt.NOTE_ADDED,label:`Note ajoute : "${o.slice(0,40)}${o.length>40?"":""}"`,payload:{noteId:c.id},createdAt:l}),c}}class Iv{constructor(r,o){this.eventLog=r,this.clock=o}async execute(r,o){const l=this.clock.now();await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:Mt.CUSTOM_ACTION,label:o,createdAt:l})}}class Mv{constructor(r,o,l,c,p,g){this.partyRepo=r,this.noteRepo=o,this.saveSlotRepo=l,this.eventLog=c,this.outbox=p,this.clock=g}async execute(r,o){const l=await this.partyRepo.findById(r);if(!l)throw new Error(`Partie ${r} introuvable.`);const c=await this.noteRepo.findByPartyId(r),p=await this.saveSlotRepo.findByPartyId(r),g=this.clock.now(),v=p.find(k=>k.slot===o);if(p.length>=mh&&!v)throw new Error("Maximum 3 sauvegardes atteint.");const x={id:(v==null?void 0:v.id)??crypto.randomUUID(),partyId:r,slot:o,snapshot:{party:l,notes:c,saveSlots:p},createdAt:g};await this.saveSlotRepo.save(x);const E=v?Mt.SAVE_REPLACED:Mt.SAVE_CREATED,_=v?`Sauvegarde slot ${o} remplace`:`Sauvegarde cre (slot ${o})`;return await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:E,label:_,payload:{slot:o},createdAt:g}),await this.outbox.append({id:crypto.randomUUID(),partyId:r,type:E,payload:{partyId:r,slot:o},status:no.PENDING,createdAt:g}),x}}class Fv{constructor(r,o,l,c,p){this.partyRepo=r,this.noteRepo=o,this.saveSlotRepo=l,this.eventLog=c,this.clock=p}async execute(r,o){const l=await this.partyRepo.findById(r);if(!l)throw new Error(`Partie ${r} introuvable.`);const c=await this.saveSlotRepo.findByPartyId(r),p=c.find(E=>E.id===o);if(!p)throw new Error(`Slot de sauvegarde ${o} introuvable.`);if(!Hc(l.mode)){const E=c.sort((_,k)=>new Date(k.createdAt).getTime()-new Date(_.createdAt).getTime())[0];if((E==null?void 0:E.id)!==o)throw new Error("Mode Simplifi : seule la sauvegarde la plus rcente peut tre restaure.")}const{snapshot:g}=p,v=this.clock.now(),x={...g.party,updatedAt:v};await this.partyRepo.save(x);for(const E of g.notes)await this.noteRepo.save(E);return await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:Mt.SAVE_RESTORED,label:`Sauvegarde slot ${p.slot} restaure`,payload:{slotId:o,slot:p.slot},createdAt:v}),x}}class Bv{constructor(r,o,l,c,p,g){this.partyRepo=r,this.noteRepo=o,this.saveSlotRepo=l,this.exportPort=c,this.eventLog=p,this.clock=g}async execute(r){const o=await this.partyRepo.findById(r);if(!o)throw new Error(`Partie ${r} introuvable.`);const l=await this.noteRepo.findByPartyId(r),c=await this.saveSlotRepo.findByPartyId(r),p={party:o,notes:l,saveSlots:c},g=this.exportPort.exportParty(p),v=this.exportPort.exportSummary(p),x=this.clock.now();return await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:Mt.PARTY_EXPORTED,label:"Partie exporte (JSON)",createdAt:x}),{json:g,summary:v}}}class Uv{constructor(r,o,l,c,p,g){this.partyRepo=r,this.noteRepo=o,this.saveSlotRepo=l,this.eventLog=c,this.clock=p,this.importPort=g}async execute(r){const o=this.importPort.importParty(r),l=this.clock.now(),c=crypto.randomUUID(),p={...o.party,id:c,status:dn.ACTIVE,updatedAt:l};await this.partyRepo.save(p);for(const g of o.notes)await this.noteRepo.save({...g,partyId:c});for(const g of o.saveSlots)await this.saveSlotRepo.save({...g,id:crypto.randomUUID(),partyId:c});return await this.eventLog.append({id:crypto.randomUUID(),partyId:c,type:Mt.PARTY_CREATED,label:`Partie importe : "${p.name}"`,payload:{imported:!0},createdAt:l}),p}}class zv{constructor(r,o,l,c){this.partyRepo=r,this.eventLog=o,this.outbox=l,this.clock=c}async execute(r){const o=await this.partyRepo.findById(r);if(!o)throw new Error(`Partie ${r} introuvable.`);const l=this.clock.now();await this.partyRepo.save({...o,status:dn.FINISHED,updatedAt:l}),await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:Mt.PARTY_FINISHED,label:"Partie termine",createdAt:l}),await this.outbox.append({id:crypto.randomUUID(),partyId:r,type:Mt.PARTY_FINISHED,payload:{partyId:r},status:no.PENDING,createdAt:l})}}class Hv{constructor(r,o,l){this.partyRepo=r,this.eventLog=o,this.clock=l}async execute(r,o){const l=await this.partyRepo.findById(r);if(!l)throw new Error(`Partie ${r} introuvable.`);if(l.character.luck<o)throw new Error("Chance insuffisante.");const c=this.clock.now(),p=vh(l.character,o);await this.partyRepo.save({...l,character:p,updatedAt:c}),await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:Mt.LUCK_SPENT,label:`Chance dpense : -${o} (reste ${p.luck})`,payload:{cost:o,remaining:p.luck},createdAt:c})}}class $v{constructor(r,o,l){this.partyRepo=r,this.eventLog=o,this.clock=l}async execute(r,o,l){const c=await this.partyRepo.findById(r);if(!c)throw new Error(`Partie ${r} introuvable.`);const p=this.clock.now();await this.partyRepo.save({...c,character:{...c.character,inventory:o},updatedAt:p}),await this.eventLog.append({id:crypto.randomUUID(),partyId:r,type:Mt.INVENTORY_CHANGED,label:l,createdAt:p})}}class Vv{constructor(r){this.partyRepo=r}async execute(r){await this.partyRepo.delete(r)}}const Tn=new wv,Mo=new bv,ki=new Sv,Jt=new Ev,Ci=new Cv,lr=new Nv,xn=new _v,$c=new Rv,Kv=new Ov(Tn,Jt,Ci,lr,xn),Dc=new Dv(Tn,Jt,xn),Vl=new Lv(Tn,Jt,Ci,xn),wh=new Av(Mo,Jt,xn),bh=new Iv(Jt,xn),Sh=new Mv(Tn,Mo,ki,Jt,Ci,xn),Eh=new Fv(Tn,Mo,ki,Jt,xn),kh=new Bv(Tn,Mo,ki,$c,Jt,xn),Ch=new Uv(Tn,Mo,ki,Jt,xn,$c),Nh=new zv(Tn,Jt,Ci,xn),_h=new Hv(Tn,Jt,xn),Ph=new $v(Tn,Jt,xn),Vc=new Vv(Tn),qv=Object.freeze(Object.defineProperty({__proto__:null,addCustomAction:bh,addNote:wh,applyLuck:_h,clock:xn,createParty:Kv,createSave:Sh,deleteParty:Vc,eventLog:Jt,exportParty:kh,finishParty:Nh,importParty:Ch,jsonExport:$c,noteRepo:Mo,outboxRepo:Ci,partyRepo:Tn,restoreSave:Eh,rng:lr,saveSlotRepo:ki,updateChapter:Dc,updateHp:Vl,updateInventory:Ph},Symbol.toStringTag,{value:"Module"})),Wv={[dn.ACTIVE]:"badge-success",[dn.FINISHED]:"badge-info",[dn.DEAD]:"badge-error"};function Yv(){const{t:a}=to(),[r,o]=Z.useState([]),[l,c]=Z.useState(!0),[p,g]=Z.useState(null),[v,x]=Z.useState(!1),E=Ei();function _(D){const W=Date.now()-new Date(D).getTime(),re=Math.floor(W/6e4);if(re<1)return a("timeAgo.now");if(re<60)return a("timeAgo.minutes",{count:re});const ye=Math.floor(re/60);return ye<24?a("timeAgo.hours",{count:ye}):a("timeAgo.days",{count:Math.floor(ye/24)})}const k={[dn.ACTIVE]:a("status.active"),[dn.FINISHED]:a("status.finished"),[dn.DEAD]:a("status.dead")};async function O(){const D=await Tn.findAll();o(D),c(!1)}Z.useEffect(()=>{O()},[]);async function j(){p&&(x(!0),await Vc.execute(p.id),g(null),x(!1),await O())}return l?S.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:S.jsx("span",{className:"loading loading-spinner loading-lg"})}):S.jsxs("div",{className:"mx-auto max-w-lg p-4",children:[S.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[S.jsx("h1",{className:"text-2xl font-bold",children:a("home.title")}),S.jsx(Si,{to:"/party/new",className:"btn btn-primary",children:a("home.newParty")})]}),r.length===0?S.jsx("div",{className:"card bg-base-200 text-center",children:S.jsxs("div",{className:"card-body gap-4",children:[S.jsx("p",{className:"text-base-content/60",children:a("home.emptyState")}),S.jsx(Si,{to:"/party/new",className:"btn btn-primary btn-lg w-full",children:a("home.createParty")})]})}):S.jsx("div",{className:"flex flex-col gap-3",children:r.map(D=>S.jsx("div",{className:"card bg-base-200 shadow transition hover:shadow-md",children:S.jsx("div",{className:"card-body gap-1 p-4",children:S.jsxs("div",{className:"flex items-start justify-between gap-2",children:[S.jsxs("button",{className:"flex flex-1 flex-col items-start gap-1 text-left",onClick:()=>E(`/party/${D.id}`),children:[S.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[S.jsx("span",{className:"font-semibold",children:D.name}),S.jsx("span",{className:`badge ${Wv[D.status]} shrink-0`,children:k[D.status]})]}),S.jsxs("div",{className:"text-sm text-base-content/60",children:["Ch. ",D.currentChapter,"  ",D.mode,"  ",D.character.name]}),S.jsx("div",{className:"text-xs text-base-content/40",children:_(D.updatedAt)})]}),S.jsx("button",{className:"btn btn-ghost btn-sm shrink-0 text-error",title:a("home.deleteTooltip"),onClick:W=>{W.stopPropagation(),g(D)},children:""})]})})},D.id))}),p&&S.jsxs("div",{className:"modal modal-open",children:[S.jsxs("div",{className:"modal-box",children:[S.jsx("h3",{className:"text-lg font-bold text-error",children:a("home.deleteTitle")}),S.jsx("p",{className:"py-3 text-sm",children:a("home.deleteBody",{name:p.name})}),S.jsxs("div",{className:"modal-action gap-2",children:[S.jsx("button",{className:"btn btn-ghost flex-1",disabled:v,onClick:()=>g(null),children:a("common.cancel")}),S.jsx("button",{className:"btn btn-error flex-1",disabled:v,onClick:j,children:v?S.jsx("span",{className:"loading loading-spinner loading-sm"}):a("common.delete")})]})]}),S.jsx("div",{className:"modal-backdrop",onClick:()=>!v&&g(null)})]})]})}const Qv="modulepreload",Gv=function(a){return"/dagda-companion/"+a},Tp={},Tl=function(r,o,l){let c=Promise.resolve();if(o&&o.length>0){let g=function(E){return Promise.all(E.map(_=>Promise.resolve(_).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),x=(v==null?void 0:v.nonce)||(v==null?void 0:v.getAttribute("nonce"));c=g(o.map(E=>{if(E=Gv(E),E in Tp)return;Tp[E]=!0;const _=E.endsWith(".css"),k=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${k}`))return;const O=document.createElement("link");if(O.rel=_?"stylesheet":Qv,_||(O.as="script"),O.crossOrigin="",O.href=E,x&&O.setAttribute("nonce",x),document.head.appendChild(O),_)return new Promise((j,D)=>{O.addEventListener("load",j),O.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${E}`)))})}))}function p(g){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=g,window.dispatchEvent(v),!v.defaultPrevented)throw g}return c.then(g=>{for(const v of g||[])v.status==="rejected"&&p(v.reason);return r().catch(p)})};var Ol={},Op;function Xv(){if(Op)return Ol;Op=1;function a(j){if(j&&j.__esModule)return j;var D=Object.create(null);return j&&Object.keys(j).forEach((function(W){if(W!=="default"){var re=Object.getOwnPropertyDescriptor(j,W);Object.defineProperty(D,W,re.get?re:{enumerable:!0,get:function(){return j[W]}})}})),D.default=j,Object.freeze(D)}Object.defineProperty(Ol,"__esModule",{value:!0});var r=a(xs()),o=function(){return(o=Object.assign||function(j){for(var D,W=1,re=arguments.length;W<re;W++)for(var ye in D=arguments[W])Object.prototype.hasOwnProperty.call(D,ye)&&(j[ye]=D[ye]);return j}).apply(this,arguments)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */(function(j){if(typeof window<"u"){var D=document.createElement("style");D.setAttribute("type","text/css"),D.innerHTML=j,document.head.appendChild(D)}})(`._space3d {
  perspective: 1000px;
  text-align: center;
  display: inline-block;
  padding: unset;
  border: unset;
  background-color: transparent;
  outline: unset;
  box-shadow: unset;
}
._space3d ._3dbox {
  display: inline-block;
  transition: all 0.85s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  text-align: center;
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transform: rotateX(-90deg) rotateY(0deg) rotateZ(0deg);
}
._space3d ._3dface {
  overflow: hidden;
  position: absolute;
  opacity: 1;
  background-size: auto 100%;
  color: #000;
  display: flex;
  align-items: center;
  justify-content: center;
}
._space3d .defaultFace {
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  border-radius: 12px;
  box-shadow: inset 0 0 6px #000000;
  background-color: #fff;
}
._space3d .defaultFace div {
  display: flex;
  align-items: center;
  justify-content: center;
}
._space3d .defaultFace span {
  width: 60%;
  height: 60%;
  box-shadow: 0 0 6px #000000;
  border-radius: 50%;
  background-color: #000;
}
._space3d.one ._3dbox {
  transform: rotateX(90deg) rotateY(0deg) rotateZ(0deg);
}
._space3d.two ._3dbox {
  transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg);
}
._space3d.three ._3dbox {
  transform: rotateX(0deg) rotateY(180deg) rotateZ(0deg);
}
._space3d.four ._3dbox {
  transform: rotateX(-90deg) rotateY(90deg) rotateZ(90deg);
}
._space3d.five ._3dbox {
  transform: rotateX(90deg) rotateY(-90deg) rotateZ(90deg);
}
._space3d.rolling ._3dbox {
  transform-style: preserve-3d;
  animation: spin 2s infinite linear;
}

@keyframes spin {
  0% {
    transform: translateZ(-100px) rotateX(0deg) rotateY(0deg) rotateZ(0deg);
  }
  16% {
    transform: translateZ(-100px) rotateX(180deg) rotateY(180deg) rotateZ(0deg);
  }
  33% {
    transform: translateZ(-100px) rotateX(360deg) rotateY(90deg) rotateZ(180deg);
  }
  50% {
    transform: translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg);
  }
  66% {
    transform: translateZ(-100px) rotateX(180deg) rotateY(360deg) rotateZ(270deg);
  }
  83% {
    transform: translateZ(-100px) rotateX(270deg) rotateY(180deg) rotateZ(180deg);
  }
  100% {
    transform: translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg);
  }
}`);var l={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six"},c={1:function(j){return{transform:"rotateX(-90deg) translate3d(0, 0, "+j+"px)"}},2:function(j){return{transform:"translate3d(0, 0, "+j+"px)"}},3:function(j){return{transform:"rotateY(180deg) translate3d(0, 0, "+j+"px)"}},4:function(j){return{left:"50%",marginLeft:"-"+j+"px",transform:"rotateY(-90deg) translate3d(0, 0, "+j+"px)"}},5:function(j){return{left:"50%",marginLeft:"-"+j+"px",transform:"rotateY(90deg) translate3d(0, 0, "+j+"px)"}},6:function(j){return{transform:"rotateX(90deg) translate3d(0, 0, "+j+"px)"}}},p={1:[12],2:[11,13],3:[6,12,18],4:[6,8,16,18],5:[6,8,12,16,18],6:[6,8,11,13,16,18]},g=["_3dface _3dface--one","_3dface _3dface--two","_3dface _3dface--three","_3dface _3dface--four","_3dface _3dface--five","_3dface _3dface--six"],v=function(j,D){for(var W=[],re=0;re<j;re++)W.push(D(re));return W},x=r.useState,E=r.useEffect,_=r.forwardRef,k=r.useImperativeHandle,O=_((function(j,D){var W=j.rollingTime,re=W===void 0?1e3:W,ye=j.onRoll,ue=j.defaultValue,le=ue===void 0?6:ue,oe=j.size,Be=oe===void 0?250:oe,We=j.faceBg,V=j.faces,Ne=V===void 0?[]:V,Oe=j.disabled,_e=j.cheatValue,dt=j.placement,je=j.sound,we=j.triggers,be=we===void 0?["click"]:we,nt=(function(ht,qt){var Re={};for(var et in ht)Object.prototype.hasOwnProperty.call(ht,et)&&qt.indexOf(et)<0&&(Re[et]=ht[et]);if(ht!=null&&typeof Object.getOwnPropertySymbols=="function"){var kt=0;for(et=Object.getOwnPropertySymbols(ht);kt<et.length;kt++)qt.indexOf(et[kt])<0&&Object.prototype.propertyIsEnumerable.call(ht,et[kt])&&(Re[et[kt]]=ht[et[kt]])}return Re})(j,["rollingTime","onRoll","defaultValue","size","faceBg","faces","disabled","cheatValue","placement","sound","triggers"]),rt=x(le),it=rt[0],se=rt[1],De=x(!1),Y=De[0],P=De[1],G=x([]),Se=G[0],ge=G[1],He=x({}),ie=He[0],Me=He[1],Ze=x({}),ut=Ze[0],Pe=Ze[1],rn=function(ht){var qt;je&&(qt=new Audio(je)).play(),P(!0),setTimeout((function(){var Re=Math.floor(6*Math.random()+1);ht&&(Re=ht),_e&&(Re=_e),P(!1),se(Re),qt&&qt.pause(),ye&&ye(Re)}),re)};k(D,(function(){return{rollDice:rn}}));var tt=function(ht){be!=null&&be.length&&be.includes(ht.key)&&rn()};return E((function(){if(typeof window<"u"&&(be!=null&&be.length))return window.addEventListener("keypress",tt),function(){window.removeEventListener("keypress",tt)}}),[be]),E((function(){ge((function(ht,qt,Re){return g.map((function(et,kt){return{className:et,children:qt[kt]?null:r.createElement("div",{className:"defaultFace "+l[kt+1]},v(25,(function(fn){return r.createElement("div",{key:fn},p[kt+1].includes(fn)&&r.createElement("span",null))}))),style:o(o(o(o({},c[kt+1](ht/2)),{width:ht+"px",height:ht+"px"}),Re&&{backgroundColor:Re}),qt[kt]&&{backgroundImage:"url("+qt[kt]+")"})}}))})(Be,Ne,We))}),[Be,Ne.length,We]),E((function(){var ht,qt=(ht=dt==null?void 0:dt.split("-"))===null||ht===void 0?void 0:ht.reduce((function(Re,et){var kt;return o(o({},Re),((kt={})[et]=["left","right"].includes(et)?0:"-"+Be+"px",kt))}),{});Me(qt)}),[dt,Be]),E((function(){Pe(o(o(o({},nt),ie),{width:Be+"px",height:Be+"px",filter:Oe?"grayscale(100%)":"unset"}))}),[ie,Be,Oe]),Se!=null&&Se.length?r.createElement("button",{disabled:Oe||Y,onClick:function(){be!=null&&be.length&&be.includes("click")&&rn()},style:ut,className:"_space3d "+l[it]+" "+(Y&&"rolling")},r.createElement("div",{className:"_3dbox"},r.createElement("div",o({},Se[0])),r.createElement("div",o({},Se[1])),r.createElement("div",o({},Se[2])),r.createElement("div",o({},Se[3])),r.createElement("div",o({},Se[4])),r.createElement("div",o({},Se[5])))):null}));return Ol.default=O,Ol}var Jv=Xv();const Zv=vs(Jv),wi=Z.forwardRef(({defaultValue:a=1,size:r=60},o)=>{const l=Z.useRef(null);return Z.useImperativeHandle(o,()=>({roll(c){var p;(p=l.current)==null||p.rollDice(c)}})),S.jsx(Zv,{ref:l,defaultValue:a,size:r,rollingTime:600})});wi.displayName="DiceRoller";const e0=[Ja.NARRATIVE,Ja.SIMPLIFIED,Ja.MORTAL],Sc=["mode","talent","stats"];function t0(){const{t:a}=to(),r=Ei(),[o,l]=Z.useState("mode"),[c,p]=Z.useState({partyName:"",mode:null,talent:null,characterName:"",hpDice:[lr.rollD6(),lr.rollD6()],luckDice:lr.rollD6()}),[g,v]=Z.useState(!1),[x,E]=Z.useState(null),_=Z.useRef(null),k=Z.useRef(null),O=Z.useRef(null),j=Sc.indexOf(o),D=c.hpDice[0]+c.hpDice[1],W=D*4;function re(){var Be,We,V;const le=[lr.rollD6(),lr.rollD6()],oe=lr.rollD6();(Be=_.current)==null||Be.roll(le[0]),(We=k.current)==null||We.roll(le[1]),(V=O.current)==null||V.roll(oe),p(Ne=>({...Ne,hpDice:le,luckDice:oe}))}function ye(){return o==="mode"?!!c.mode&&c.partyName.trim().length>0:o==="talent"?!!c.talent:o==="stats"?c.characterName.trim().length>0:!1}async function ue(){if(!(!c.mode||!c.talent)){v(!0),E(null);try{const le={name:c.partyName.trim(),mode:c.mode,talent:c.talent,characterName:c.characterName.trim()||c.partyName.trim()},{createCharacter:oe}=await Tl(async()=>{const{createCharacter:rt}=await Promise.resolve().then(()=>Tv);return{createCharacter:rt}},void 0),{PartyStatus:Be}=await Tl(async()=>{const{PartyStatus:rt}=await Promise.resolve().then(()=>jp);return{PartyStatus:rt}},void 0),We=oe({name:le.characterName,talent:le.talent,hpRoll:D,luckRoll:c.luckDice}),{partyRepo:V,eventLog:Ne,outboxRepo:Oe,clock:_e}=await Tl(async()=>{const{partyRepo:rt,eventLog:it,outboxRepo:se,clock:De}=await Promise.resolve().then(()=>qv);return{partyRepo:rt,eventLog:it,outboxRepo:se,clock:De}},void 0),{TimelineEventType:dt,OutboxStatus:je}=await Tl(async()=>{const{TimelineEventType:rt,OutboxStatus:it}=await Promise.resolve().then(()=>jp);return{TimelineEventType:rt,OutboxStatus:it}},void 0),we=_e.now(),be=crypto.randomUUID(),nt={id:be,name:le.name,mode:le.mode,status:Be.ACTIVE,currentChapter:1,character:We,createdAt:we,updatedAt:we};await V.save(nt),await Ne.append({id:crypto.randomUUID(),partyId:be,type:dt.PARTY_CREATED,label:a("createParty.createdLabel",{name:le.name,mode:a(`createParty.modes.${le.mode}.label`)}),payload:{mode:le.mode,talent:le.talent,hpRoll:D,luckRoll:c.luckDice},createdAt:we}),await Oe.append({id:crypto.randomUUID(),partyId:be,type:dt.PARTY_CREATED,payload:{partyId:be,name:le.name,mode:le.mode},status:je.PENDING,createdAt:we}),r(`/party/${be}`)}catch(le){E(le.message),v(!1)}}}return S.jsxs("div",{className:"mx-auto max-w-lg p-4",children:[S.jsx("ul",{className:"steps steps-horizontal mb-6 w-full text-xs",children:["mode","talent","stats"].map((le,oe)=>S.jsx("li",{className:`step ${oe<=j?"step-primary":""}`,children:a(`createParty.steps.${le}`)},le))}),o==="mode"&&S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsx("h2",{className:"text-xl font-bold",children:a("createParty.partyNameTitle")}),S.jsx("input",{type:"text",placeholder:a("createParty.partyNamePlaceholder"),className:"input input-bordered w-full",value:c.partyName,maxLength:40,onChange:le=>p(oe=>({...oe,partyName:le.target.value}))}),S.jsx("h2",{className:"text-xl font-bold",children:a("createParty.gameModeTitle")}),S.jsx("div",{className:"flex flex-col gap-3",children:e0.map(le=>S.jsx("label",{className:`card cursor-pointer border-2 transition ${c.mode===le?"border-primary bg-primary/10":"border-base-300 bg-base-200"}`,children:S.jsxs("div",{className:"card-body flex-row items-start gap-3 p-4",children:[S.jsx("input",{type:"radio",name:"mode",className:"radio-primary radio mt-1",checked:c.mode===le,onChange:()=>p(oe=>({...oe,mode:le}))}),S.jsxs("div",{children:[S.jsx("div",{className:"font-semibold",children:a(`createParty.modes.${le}.label`)}),S.jsx("div",{className:"text-sm text-base-content/60",children:a(`createParty.modes.${le}.desc`)})]})]})},le))}),S.jsxs("div",{className:"collapse collapse-arrow bg-base-200",children:[S.jsx("input",{type:"checkbox"}),S.jsx("div",{className:"collapse-title font-medium",children:a("createParty.helpModes")}),S.jsx("div",{className:"collapse-content text-sm text-base-content/70",children:S.jsxs("ul",{className:"list-disc space-y-1 pl-4",children:[S.jsxs("li",{children:[S.jsx("strong",{children:a("createParty.modes.NARRATIVE.label")})," :"," ",a("createParty.modeHelp.narrativeDesc")]}),S.jsxs("li",{children:[S.jsx("strong",{children:a("createParty.modes.SIMPLIFIED.label")})," :"," ",a("createParty.modeHelp.simplifiedDesc")]}),S.jsxs("li",{children:[S.jsx("strong",{children:a("createParty.modes.MORTAL.label")})," :"," ",a("createParty.modeHelp.mortalDesc")]})]})})]})]}),o==="talent"&&S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsx("h2",{className:"text-xl font-bold",children:a("createParty.chooseTalent")}),S.jsx("div",{className:"flex flex-col gap-2",children:Object.values($l).map(le=>S.jsx("label",{className:`card cursor-pointer border-2 transition ${c.talent===le?"border-primary bg-primary/10":"border-base-300 bg-base-200"}`,children:S.jsxs("div",{className:"card-body flex-row items-center gap-3 p-3",children:[S.jsx("input",{type:"radio",name:"talent",className:"radio-primary radio",checked:c.talent===le,onChange:()=>p(oe=>({...oe,talent:le}))}),S.jsx("span",{className:"font-medium",children:a(`talents.${le}`)})]})},le))}),S.jsxs("div",{className:"collapse collapse-arrow bg-base-200",children:[S.jsx("input",{type:"checkbox"}),S.jsx("div",{className:"collapse-title font-medium",children:a("createParty.helpTalents")}),S.jsxs("div",{className:"collapse-content text-sm text-base-content/70",children:[S.jsx("p",{children:a("createParty.talentHelpIntro")}),S.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-4",children:Object.values($l).map(le=>S.jsxs("li",{children:[S.jsx("strong",{children:a(`talents.${le}`)})," :"," ",a(`createParty.talentHelp.${le}`)]},le))})]})]})]}),o==="stats"&&S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsx("h2",{className:"text-xl font-bold",children:a("createParty.characterTitle")}),S.jsx("input",{type:"text",placeholder:a("createParty.characterNamePlaceholder"),className:"input input-bordered w-full",value:c.characterName,maxLength:40,onChange:le=>p(oe=>({...oe,characterName:le.target.value}))}),S.jsx("div",{className:"card bg-base-200",children:S.jsxs("div",{className:"card-body gap-4 p-4",children:[S.jsx("h3",{className:"font-semibold",children:a("createParty.initialStats")}),S.jsxs("div",{className:"flex flex-col gap-1",children:[S.jsx("span",{className:"text-sm text-base-content/70",children:a("createParty.hpMaxLabel")}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(wi,{ref:_,defaultValue:c.hpDice[0],size:52}),S.jsx(wi,{ref:k,defaultValue:c.hpDice[1],size:52}),S.jsxs("span",{className:"text-sm font-bold text-success",children:[" 4 = ",W," HP"]})]})]}),S.jsxs("div",{className:"flex flex-col gap-1",children:[S.jsx("span",{className:"text-sm text-base-content/70",children:a("createParty.luckLabel")}),S.jsx(wi,{ref:O,defaultValue:c.luckDice,size:52})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-sm text-base-content/70",children:a("createParty.dexterityLabel")}),S.jsx("span",{className:"font-bold",children:"7"})]}),S.jsx("button",{type:"button",className:"btn btn-outline btn-sm w-full",onClick:re,children:a("createParty.rerollBtn")})]})}),S.jsxs("div",{className:"collapse collapse-arrow bg-base-200",children:[S.jsx("input",{type:"checkbox"}),S.jsx("div",{className:"collapse-title font-medium",children:a("createParty.helpStats")}),S.jsx("div",{className:"collapse-content text-sm text-base-content/70",children:S.jsxs("ul",{className:"list-disc space-y-1 pl-4",children:[S.jsxs("li",{children:[S.jsx("strong",{children:a("createParty.hpMaxLabel").split(" (")[0]})," ="," ",a("createParty.statsHelp.hpMax")]}),S.jsxs("li",{children:[S.jsx("strong",{children:a("createParty.luckLabel").split(" (")[0]})," ="," ",a("createParty.statsHelp.luck")]}),S.jsxs("li",{children:[S.jsx("strong",{children:a("createParty.dexterityLabel")})," ="," ",a("createParty.statsHelp.dexterity")]})]})})]})]}),x&&S.jsx("div",{className:"alert alert-error text-sm",children:x}),S.jsxs("div",{className:"mt-6 flex gap-3",children:[j>0&&S.jsx("button",{className:"btn btn-outline flex-1",onClick:()=>l(Sc[j-1]),children:a("createParty.prev")}),o!=="stats"?S.jsx("button",{className:"btn btn-primary flex-1",disabled:!ye(),onClick:()=>l(Sc[j+1]),children:a("createParty.next")}):S.jsx("button",{className:"btn btn-success flex-1",disabled:!ye()||g,onClick:ue,children:g?S.jsx("span",{className:"loading loading-spinner"}):a("createParty.create")})]})]})}function Ec(a,r){return new Date(a).toLocaleString(r,{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function n0(){const{t:a,i18n:r}=to(),{partyId:o}=Zp(),l=Ei(),[c,p]=Z.useState(null),[g,v]=Z.useState([]),[x,E]=Z.useState([]),[_,k]=Z.useState([]),[O,j]=Z.useState(!0),[D,W]=Z.useState(""),[re,ye]=Z.useState(""),[ue,le]=Z.useState(1),[oe,Be]=Z.useState(!1),[We,V]=Z.useState("journal"),[Ne,Oe]=Z.useState(!1),[_e,dt]=Z.useState(!1),[je,we]=Z.useState({name:"",bonus:0,description:""}),[be,nt]=Z.useState({name:"",quantity:1,description:""}),[rt,it]=Z.useState({boulons:0}),se=r.resolvedLanguage??"fr-FR",De=Z.useCallback(async()=>{if(!o)return;const[ie,Me,Ze,ut]=await Promise.all([Tn.findById(o),Mo.findByPartyId(o),ki.findByPartyId(o),Jt.findByPartyId(o)]);if(!ie){l("/");return}p(ie),le(ie.currentChapter),it({boulons:ie.character.inventory.currency.boulons??0}),v(Me),E(Ze),k(ut),j(!1)},[o,l]);if(Z.useEffect(()=>{De()},[De]),O||!c)return S.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:S.jsx("span",{className:"loading loading-spinner loading-lg"})});const Y=c.character,P=c.status!==dn.ACTIVE,G=Math.round(Y.hpCurrent/Y.hpMax*100),Se=G>50?"progress-success":G>25?"progress-warning":"progress-error";async function ge(ie){Be(!0);try{await ie(),await De()}finally{Be(!1)}}const He={journal:a("dashboard.tabs.journal"),inventaire:a("dashboard.tabs.inventory"),notes:a("dashboard.tabs.notes"),saves:a("dashboard.tabs.saves")};return S.jsxs("div",{className:"mx-auto max-w-lg p-4",children:[S.jsxs("div",{className:"mb-4 flex items-start justify-between gap-2",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-xl font-bold",children:c.name}),S.jsxs("div",{className:"text-sm text-base-content/60",children:[Y.name,"  ",c.mode,"  Ch. ",c.currentChapter]})]}),S.jsxs("div",{className:"flex gap-2",children:[c.status===dn.ACTIVE&&S.jsx(Si,{to:`/party/${o}/combat`,className:"btn btn-error btn-sm",children:a("dashboard.combatBtn")}),S.jsx(Si,{to:"/",className:"btn btn-ghost btn-sm",children:a("common.back")})]})]}),P&&S.jsx("div",{className:"alert alert-warning mb-4 text-sm",children:c.status===dn.DEAD?a("dashboard.readonlyBannerDead"):a("dashboard.readonlyBannerFinished")}),S.jsx("div",{className:"card mb-4 bg-base-200 shadow",children:S.jsxs("div",{className:"card-body gap-3 p-4",children:[S.jsxs("div",{className:"flex justify-between text-sm font-semibold",children:[S.jsx("span",{children:a("dashboard.hpDisplay",{current:Y.hpCurrent,max:Y.hpMax})}),S.jsx("span",{children:a("dashboard.luck",{value:Y.luck})}),S.jsx("span",{children:a("dashboard.dex",{value:Y.dexterity})})]}),S.jsx("progress",{className:`progress ${Se} w-full`,value:Y.hpCurrent,max:Y.hpMax}),!P&&S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{className:"btn btn-error btn-sm flex-1",disabled:oe,onClick:()=>ge(async()=>{await Vl.execute(o,-1)}),children:a("dashboard.hpMinus")}),S.jsx("button",{className:"btn btn-success btn-sm flex-1",disabled:oe,onClick:()=>ge(async()=>{await Vl.execute(o,1)}),children:a("dashboard.hpPlus")})]}),P?S.jsx("div",{className:"text-sm text-base-content/60",children:a("dashboard.chapterCurrent",{chapter:c.currentChapter})}):S.jsxs("div",{className:"flex flex-col gap-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{className:"btn btn-outline btn-xs",disabled:oe,onClick:()=>le(ie=>Math.max(1,ie-1)),children:""}),S.jsx("input",{type:"number",min:1,className:"input input-sm input-bordered flex-1 text-center",value:ue,onChange:ie=>le(Math.max(1,Number(ie.target.value)||1)),onKeyDown:ie=>{ie.key==="Enter"&&ue!==c.currentChapter&&ge(()=>Dc.execute(o,ue))}}),S.jsx("button",{className:"btn btn-outline btn-xs",disabled:oe,onClick:()=>le(ie=>ie+1),children:"+"}),S.jsx("span",{className:"text-sm text-base-content/60",children:a("dashboard.chapterCurrent",{chapter:c.currentChapter})})]}),ue!==c.currentChapter&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-xs text-base-content/50",children:a("dashboard.chapterPending",{from:c.currentChapter,to:ue})}),S.jsx("button",{className:"btn btn-success btn-xs flex-1",disabled:oe,onClick:()=>ge(()=>Dc.execute(o,ue)),children:a("dashboard.chapterConfirm")}),S.jsx("button",{className:"btn btn-ghost btn-xs",onClick:()=>le(c.currentChapter),children:""})]})]})]})}),S.jsx("div",{role:"tablist",className:"tabs-boxed tabs mb-4",children:["journal","inventaire","notes","saves"].map(ie=>S.jsx("button",{role:"tab",className:`tab text-xs ${We===ie?"tab-active":""}`,onClick:()=>V(ie),children:He[ie]},ie))}),We==="journal"&&S.jsxs("div",{className:"flex flex-col gap-3",children:[!P&&S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",className:"input input-sm input-bordered flex-1",placeholder:a("dashboard.journal.placeholder"),value:re,maxLength:100,onChange:ie=>ye(ie.target.value)}),S.jsx("button",{className:"btn btn-outline btn-sm",disabled:oe||!re.trim(),onClick:()=>ge(async()=>{await bh.execute(o,re.trim()),ye("")}),children:a("dashboard.journal.addBtn")})]}),S.jsxs("div",{className:"flex max-h-[50vh] flex-col gap-2 overflow-y-auto",children:[_.length===0&&S.jsx("p",{className:"text-center text-base-content/40",children:a("dashboard.journal.empty")}),_.map(ie=>S.jsxs("div",{className:"flex items-start gap-2 rounded-lg bg-base-200 px-3 py-2 text-sm",children:[S.jsx("span",{className:"shrink-0 text-base-content/40",children:a(`timeline.${ie.type}`,{defaultValue:""})}),S.jsx("span",{className:"flex-1",children:ie.label}),S.jsx("span",{className:"shrink-0 text-xs text-base-content/30",children:Ec(ie.createdAt,se)})]},ie.id))]})]}),We==="notes"&&S.jsxs("div",{className:"flex flex-col gap-3",children:[!P&&S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",className:"input input-sm input-bordered flex-1",placeholder:a("dashboard.notes.placeholder"),value:D,maxLength:200,onChange:ie=>W(ie.target.value)}),S.jsx("button",{className:"btn btn-primary btn-sm",disabled:oe||!D.trim(),onClick:()=>ge(async()=>{await wh.execute(o,D.trim()),W("")}),children:"+"})]}),S.jsxs("div",{className:"flex max-h-[50vh] flex-col gap-2 overflow-y-auto",children:[g.length===0&&S.jsx("p",{className:"text-center text-base-content/40",children:a("dashboard.notes.empty")}),g.map(ie=>S.jsxs("div",{className:"rounded-lg bg-base-200 p-3 text-sm",children:[S.jsx("p",{children:ie.content}),S.jsx("p",{className:"mt-1 text-xs text-base-content/30",children:Ec(ie.createdAt,se)})]},ie.id))]})]}),We==="saves"&&S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsx("div",{className:"flex gap-2",children:[1,2,3].map(ie=>S.jsxs("button",{className:"btn btn-outline btn-sm flex-1",disabled:oe||c.status!==dn.ACTIVE,onClick:()=>ge(async()=>{await Sh.execute(o,ie)}),children:[" Slot ",ie]},ie))}),S.jsxs("div",{className:"flex flex-col gap-2",children:[x.length===0&&S.jsx("p",{className:"text-center text-base-content/40",children:a("dashboard.saves.empty")}),[1,2,3].map(ie=>{const Me=x.find(Pe=>Pe.slot===ie),Ze=x.sort((Pe,rn)=>new Date(rn.createdAt).getTime()-new Date(Pe.createdAt).getTime())[0],ut=Me&&(!Me||Hc(c.mode)||(Ze==null?void 0:Ze.id)===Me.id);return S.jsxs("div",{className:`card bg-base-200 ${Me?"":"opacity-40"}`,children:[S.jsxs("div",{className:"card-body flex-row items-center justify-between p-3",children:[S.jsxs("div",{className:"text-sm",children:[S.jsxs("span",{className:"font-semibold",children:["Slot ",ie]}),Me&&S.jsx("span",{className:"ml-2 text-base-content/50",children:Ec(Me.createdAt,se)}),!Me&&S.jsx("span",{className:"ml-2 text-base-content/30",children:a("dashboard.saves.slotEmpty")})]}),Me&&S.jsx("button",{className:"btn btn-ghost btn-xs",disabled:oe||!ut||P,title:ut?"":a("dashboard.saves.simplifiedHint"),onClick:()=>ge(async()=>{await Eh.execute(o,Me.id)}),children:a("common.restore")})]}),!ut&&Me&&S.jsx("p",{className:"px-3 pb-2 text-xs text-warning",children:a("dashboard.saves.simplifiedWarning")})]},ie)})]}),S.jsx("div",{className:"divider"}),S.jsx("button",{className:"btn btn-outline btn-sm w-full",disabled:oe,onClick:()=>ge(async()=>{const ie=await kh.execute(o),Me=new Blob([ie.json],{type:"application/json"}),Ze=URL.createObjectURL(Me),ut=document.createElement("a");ut.href=Ze,ut.download=`dagda-${c.name.replace(/\s+/g,"-")}.json`,ut.click(),URL.revokeObjectURL(Ze)}),children:a("dashboard.saves.exportBtn")}),c.status===dn.ACTIVE&&S.jsx("button",{className:"btn btn-warning btn-sm w-full",disabled:oe,onClick:()=>Oe(!0),children:a("dashboard.saves.finishBtn")}),c.status===dn.FINISHED&&S.jsx("div",{className:"alert alert-info text-sm",children:a("dashboard.saves.finishedAlert")}),S.jsx("button",{className:"btn btn-ghost btn-sm w-full text-error",disabled:oe,onClick:()=>dt(!0),children:a("dashboard.saves.deleteBtn")})]}),We==="inventaire"&&(()=>{const ie=c.character.inventory;async function Me(Re,et){await Ph.execute(o,{...ie,...Re},et),await De()}async function Ze(){if(!je.name.trim())return;const Re={id:crypto.randomUUID(),name:je.name.trim(),bonus:je.bonus,description:je.description.trim()||void 0},et=[...ie.weapons,Re];await Me({weapons:et,equippedWeaponId:ie.equippedWeaponId??Re.id},a("dashboard.inventoryLog.weaponAdded",{name:Re.name})),we({name:"",bonus:0,description:""})}async function ut(Re){var fn;const et=ie.weapons.filter(ur=>ur.id!==Re),kt=ie.equippedWeaponId===Re?(fn=et[0])==null?void 0:fn.id:ie.equippedWeaponId;await Me({weapons:et,equippedWeaponId:kt},a("dashboard.inventoryLog.weaponRemoved"))}async function Pe(Re){var kt;const et=((kt=ie.weapons.find(fn=>fn.id===Re))==null?void 0:kt.name)??"";await Me({equippedWeaponId:Re},a("dashboard.inventoryLog.weaponEquipped",{name:et}))}async function rn(){if(!be.name.trim())return;const Re={id:crypto.randomUUID(),name:be.name.trim(),quantity:Math.max(1,be.quantity),description:be.description.trim()||void 0};await Me({items:[...ie.items,Re]},a("dashboard.inventoryLog.itemAdded",{name:Re.name})),nt({name:"",quantity:1,description:""})}async function tt(Re,et){const kt=ie.items.map(en=>en.id===Re?{...en,quantity:Math.max(0,en.quantity+et)}:en).filter(en=>en.quantity>0),fn=ie.items.find(en=>en.id===Re),ur=et>0?`+${et}`:`${et}`;await Me({items:kt},a("dashboard.inventoryLog.itemQtyChanged",{delta:ur,name:fn==null?void 0:fn.name}))}async function ht(Re){const et=ie.items.find(kt=>kt.id===Re);await Me({items:ie.items.filter(kt=>kt.id!==Re)},a("dashboard.inventoryLog.itemRemoved",{name:et==null?void 0:et.name}))}async function qt(){await Me({currency:rt},a("dashboard.inventoryLog.currencyUpdated"))}return S.jsxs("div",{className:"flex flex-col gap-5",children:[S.jsxs("section",{children:[S.jsx("h3",{className:"mb-2 font-semibold",children:a("dashboard.inventory.weaponsTitle")}),ie.weapons.length===0&&S.jsx("p",{className:"mb-2 text-sm text-base-content/40",children:a("dashboard.inventory.weaponsEmpty")}),S.jsx("div",{className:"flex flex-col gap-2",children:ie.weapons.map(Re=>S.jsx("div",{className:`card border-2 bg-base-200 transition ${ie.equippedWeaponId===Re.id?"border-primary":"border-transparent"}`,children:S.jsx("div",{className:"card-body gap-1 p-3",children:S.jsxs("div",{className:"flex items-start justify-between gap-2",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("span",{className:"font-medium",children:Re.name}),Re.bonus!==0&&S.jsx("span",{className:"ml-2 text-sm text-success",children:a("dashboard.inventory.weaponBonus",{bonus:Re.bonus})}),ie.equippedWeaponId===Re.id&&S.jsx("span",{className:"badge badge-primary badge-sm ml-2",children:a("dashboard.inventory.weaponEquipped")}),Re.description&&S.jsx("p",{className:"mt-0.5 text-xs italic text-base-content/50",children:Re.description})]}),!P&&S.jsxs("div",{className:"flex shrink-0 gap-1",children:[ie.equippedWeaponId!==Re.id&&S.jsx("button",{className:"btn btn-ghost btn-xs",disabled:oe,title:a("dashboard.inventory.equipTooltip"),onClick:()=>ge(()=>Pe(Re.id)),children:""}),S.jsx("button",{className:"btn btn-ghost btn-xs text-error",disabled:oe,onClick:()=>ge(()=>ut(Re.id)),children:""})]})]})})},Re.id))}),!P&&S.jsxs("div",{className:"mt-3 rounded-lg border border-base-300 bg-base-200 p-3",children:[S.jsx("p",{className:"mb-2 text-xs font-semibold text-base-content/60",children:a("dashboard.inventory.addWeaponTitle")}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("input",{className:"input input-sm input-bordered w-full",placeholder:a("dashboard.inventory.weaponNamePlaceholder"),value:je.name,maxLength:40,onChange:Re=>we(et=>({...et,name:Re.target.value}))}),S.jsx("div",{className:"flex gap-2",children:S.jsxs("label",{className:"flex flex-1 items-center gap-1 text-sm",children:[a("dashboard.inventory.weaponBonusLabel"),S.jsx("input",{type:"number",className:"input input-xs input-bordered w-16",value:je.bonus,onChange:Re=>we(et=>({...et,bonus:Number(Re.target.value)}))})]})}),S.jsx("input",{className:"input input-sm input-bordered w-full",placeholder:a("dashboard.inventory.weaponDescPlaceholder"),value:je.description,maxLength:80,onChange:Re=>we(et=>({...et,description:Re.target.value}))}),S.jsx("button",{className:"btn btn-primary btn-sm w-full",disabled:oe||!je.name.trim(),onClick:()=>ge(Ze),children:a("common.addBtn")})]})]})]}),S.jsx("div",{className:"divider my-0"}),S.jsxs("section",{children:[S.jsx("h3",{className:"mb-2 font-semibold",children:a("dashboard.inventory.bagTitle")}),ie.items.length===0&&S.jsx("p",{className:"mb-2 text-sm text-base-content/40",children:a("dashboard.inventory.bagEmpty")}),S.jsx("div",{className:"flex flex-col gap-2",children:ie.items.map(Re=>S.jsx("div",{className:"card bg-base-200",children:S.jsx("div",{className:"card-body gap-1 p-3",children:S.jsxs("div",{className:"flex items-start justify-between gap-2",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("span",{className:"font-medium",children:Re.name}),Re.description&&S.jsx("p",{className:"mt-0.5 text-xs italic text-base-content/50",children:Re.description})]}),P?S.jsxs("span",{className:"text-sm font-semibold text-base-content/60",children:["",Re.quantity]}):S.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[S.jsx("button",{className:"btn btn-ghost btn-xs",disabled:oe,onClick:()=>ge(()=>tt(Re.id,-1)),children:""}),S.jsx("span",{className:"w-6 text-center text-sm font-semibold",children:Re.quantity}),S.jsx("button",{className:"btn btn-ghost btn-xs",disabled:oe,onClick:()=>ge(()=>tt(Re.id,1)),children:"+"}),S.jsx("button",{className:"btn btn-ghost btn-xs text-error",disabled:oe,onClick:()=>ge(()=>ht(Re.id)),children:""})]})]})})},Re.id))}),!P&&S.jsxs("div",{className:"mt-3 rounded-lg border border-base-300 bg-base-200 p-3",children:[S.jsx("p",{className:"mb-2 text-xs font-semibold text-base-content/60",children:a("dashboard.inventory.addItemTitle")}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("input",{className:"input input-sm input-bordered w-full",placeholder:a("dashboard.inventory.itemNamePlaceholder"),value:be.name,maxLength:40,onChange:Re=>nt(et=>({...et,name:Re.target.value}))}),S.jsx("div",{className:"flex gap-2",children:S.jsxs("label",{className:"flex flex-1 items-center gap-1 text-sm",children:[a("dashboard.inventory.itemQtyLabel"),S.jsx("input",{type:"number",min:1,className:"input input-xs input-bordered w-16",value:be.quantity,onChange:Re=>nt(et=>({...et,quantity:Number(Re.target.value)}))})]})}),S.jsx("input",{className:"input input-sm input-bordered w-full",placeholder:a("dashboard.inventory.itemDescPlaceholder"),value:be.description,maxLength:80,onChange:Re=>nt(et=>({...et,description:Re.target.value}))}),S.jsx("button",{className:"btn btn-primary btn-sm w-full",disabled:oe||!be.name.trim(),onClick:()=>ge(rn),children:a("common.addBtn")})]})]})]}),S.jsx("div",{className:"divider my-0"}),S.jsxs("section",{children:[S.jsx("h3",{className:"mb-2 font-semibold",children:a("dashboard.inventory.currencyTitle")}),S.jsxs("label",{className:"flex items-center gap-3",children:[S.jsx("input",{type:"number",min:0,className:"input input-sm input-bordered w-32 text-center",value:rt.boulons,readOnly:P,onChange:P?void 0:Re=>it({boulons:Math.max(0,Number(Re.target.value))}),onBlur:P?void 0:()=>ge(qt)}),S.jsx("span",{className:"text-sm text-base-content/60",children:a("dashboard.inventory.boulonsUnit")})]})]})]})})(),Ne&&S.jsxs("div",{className:"modal modal-open",children:[S.jsxs("div",{className:"modal-box",children:[S.jsx("h3",{className:"text-lg font-bold",children:a("dashboard.finishTitle")}),S.jsx("p",{className:"py-3 text-sm text-base-content/70",children:a("dashboard.finishBody",{name:c.name})}),S.jsxs("div",{className:"modal-action gap-2",children:[S.jsx("button",{className:"btn btn-ghost flex-1",disabled:oe,onClick:()=>Oe(!1),children:a("common.cancel")}),S.jsx("button",{className:"btn btn-warning flex-1",disabled:oe,onClick:()=>{Oe(!1),ge(()=>Nh.execute(o))},children:a("dashboard.finishBtn")})]})]}),S.jsx("div",{className:"modal-backdrop",onClick:()=>Oe(!1)})]}),_e&&S.jsxs("div",{className:"modal modal-open",children:[S.jsxs("div",{className:"modal-box",children:[S.jsx("h3",{className:"text-lg font-bold text-error",children:a("dashboard.deleteTitle")}),S.jsx("p",{className:"py-3 text-sm",children:a("dashboard.deleteBody",{name:c.name})}),S.jsxs("div",{className:"modal-action gap-2",children:[S.jsx("button",{className:"btn btn-ghost flex-1",disabled:oe,onClick:()=>dt(!1),children:a("common.cancel")}),S.jsx("button",{className:"btn btn-error flex-1",disabled:oe,onClick:()=>{dt(!1),ge(async()=>{await Vc.execute(o),l("/")})},children:a("dashboard.deleteBtn")})]})]}),S.jsx("div",{className:"modal-backdrop",onClick:()=>dt(!1)})]})]})}const r0=1;function Dp(a,r){const o=a[0]+a[1];return{rolls:a,total:o,success:o<=r}}function Lp(a,r){return{roll:a,total:r0+a+r,weaponBonus:r}}function a0(a,r,o){if(r===a)return null;const l=Math.abs(r-a);return l>o?null:{newRoll:r,luckCost:l}}function o0(a){return a.every(r=>r.hpCurrent<=0)}function i0(a){return a.hpCurrent<=0}function s0({partyName:a,onConfirm:r}){const{t:o}=to();return S.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center gap-6 bg-base-100 p-6 text-center",children:[S.jsx("div",{className:"text-6xl",children:""}),S.jsx("h1",{className:"text-3xl font-bold text-error",children:o("combat.mortalDeath.title")}),S.jsx("p",{className:"max-w-xs text-base-content/70",children:o("combat.mortalDeath.desc",{partyName:a})}),S.jsx("button",{className:"btn btn-error btn-lg w-full max-w-xs",onClick:r,children:o("combat.mortalDeath.homeBtn")})]})}function l0({onReroll:a}){const{t:r}=to(),[o,l]=Z.useState(!1);return S.jsxs("div",{className:"mt-2",children:[S.jsx("button",{className:"btn btn-ghost btn-xs text-warning",onClick:()=>l(!0),children:r("combat.reroll.btn")}),o&&S.jsxs("div",{className:"mt-1 rounded-lg border border-warning bg-warning/10 p-2 text-xs text-warning",children:[r("combat.reroll.warning"),S.jsx("button",{className:"btn btn-warning btn-xs ml-2",onClick:()=>{a(),l(!1)},children:r("combat.reroll.confirmBtn")}),S.jsx("button",{className:"btn btn-ghost btn-xs ml-1",onClick:()=>l(!1),children:r("combat.reroll.cancelBtn")})]})]})}function u0(){const{t:a}=to(),{partyId:r}=Zp(),o=Ei(),[l,c]=Z.useState(null),[p,g]=Z.useState(!0),[v,x]=Z.useState([{id:crypto.randomUUID(),name:a("combat.setup.defaultEnemyName"),hpMax:10,hpCurrent:10,dexterity:6,attackBonus:0}]),[E,_]=Z.useState("setup"),[k,O]=Z.useState([]),[j,D]=Z.useState(1),[W,re]=Z.useState(!1),[ye,ue]=Z.useState([1,1]),[,le]=Z.useState(1),[oe,Be]=Z.useState([]),We=Z.useRef(null),V=Z.useRef(null),Ne=Z.useCallback(async()=>{if(!r)return;const Y=await Tn.findById(r);if(!Y){o("/");return}c(Y),g(!1)},[r,o]);if(Z.useEffect(()=>{Ne()},[Ne]),p||!l)return S.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:S.jsx("span",{className:"loading loading-spinner loading-lg"})});const Oe=l.character,_e=v.filter(Y=>Y.hpCurrent>0);function dt(){v.length>=5||x(Y=>[...Y,{id:crypto.randomUUID(),name:a("combat.setup.defaultEnemyNameN",{n:Y.length+1}),hpMax:10,hpCurrent:10,dexterity:6,attackBonus:0}])}function je(Y){x(P=>P.filter(G=>G.id!==Y))}function we(Y,P){x(G=>G.map(Se=>Se.id===Y?{...Se,...P}:Se))}async function be(){re(!0);const Y=xn.now();await Jt.append({id:crypto.randomUUID(),partyId:r,type:Mt.COMBAT_STARTED,label:a("combat.log.started",{count:v.length}),payload:{enemies:v.map(P=>P.name)},createdAt:Y}),_("ongoing"),re(!1)}async function nt(Y){var He,ie;if(W)return;re(!0);const P=lr.roll2D6(),G=Dp(P,Oe.dexterity);(He=We.current)==null||He.roll(P[0]),(ie=V.current)==null||ie.roll(P[1]),ue(P);const Se=xn.now();let ge;if(G.success){const Me=lr.rollD6();le(Me);const Ze=Oe.inventory,ut=Ze.weapons.find(tt=>tt.id===Ze.equippedWeaponId)??Ze.weapons[0],Pe=Lp(Me,(ut==null?void 0:ut.bonus)??0),rn=ut?` [${ut.name}${ut.bonus?` +${ut.bonus}`:""}]`:"";ge={turn:j,actor:"player",roll:P,success:!0,damage:Pe.total,label:a("combat.log.playerHit",{turn:j,rolls:P.join("+"),total:G.total,weapon:rn,damage:Pe.total})},x(tt=>tt.map(ht=>ht.id===Y?{...ht,hpCurrent:Math.max(0,ht.hpCurrent-Pe.total)}:ht)),await Jt.append({id:crypto.randomUUID(),partyId:r,type:Mt.COMBAT_HIT,label:ge.label,payload:{rolls:P,damage:Pe.total,turn:j},createdAt:Se})}else ge={turn:j,actor:"player",roll:P,success:!1,label:a("combat.log.playerMiss",{turn:j,rolls:P.join("+"),total:G.total,dex:Oe.dexterity})},await Jt.append({id:crypto.randomUUID(),partyId:r,type:Mt.COMBAT_MISS,label:ge.label,payload:{rolls:P,turn:j},createdAt:Se});O(Me=>[ge,...Me]),await De(),re(!1)}async function rt(Y){if(W)return;re(!0);const P=lr.roll2D6(),G=Dp(P,Y.dexterity),Se=xn.now();let ge;if(G.success){const He=lr.rollD6(),ie=Lp(He,Y.attackBonus);ge={turn:j,actor:Y.id,roll:P,success:!0,damage:ie.total,label:a("combat.log.enemyHit",{turn:j,name:Y.name,rolls:P.join("+"),total:G.total,damage:ie.total})};const Me=await Vl.execute(r,-ie.total);if(await Ne(),await Jt.append({id:crypto.randomUUID(),partyId:r,type:Mt.COMBAT_ENEMY_HIT,label:ge.label,payload:{rolls:P,damage:ie.total,turn:j},createdAt:Se}),Me.isMortalDeath){O(Ze=>[ge,...Ze]),_("mortal_death"),re(!1);return}}else ge={turn:j,actor:Y.id,roll:P,success:!1,label:a("combat.log.enemyMiss",{turn:j,name:Y.name,rolls:P.join("+"),total:G.total})},await Jt.append({id:crypto.randomUUID(),partyId:r,type:Mt.COMBAT_ENEMY_MISS,label:ge.label,payload:{rolls:P,turn:j},createdAt:Se});O(He=>[ge,...He]),D(He=>He+1),await De(),re(!1)}async function it(Y,P){var He;const G=ye[P],Se=a0(G,Y,Oe.luck);if(!Se)return;await _h.execute(r,Se.luckCost);const ge=[...ye];ge[P]=Se.newRoll,ue(ge),(He=We.current)==null||He.roll(Se.newRoll),await Ne()}async function se(){var ge,He;const Y=ye[0]+ye[1],P=lr.roll2D6(),G=P[0]+P[1];(ge=We.current)==null||ge.roll(P[0]),(He=V.current)==null||He.roll(P[1]),ue(P),Be(ie=>[...ie,{context:"combat-player-attack",before:Y,after:G}]);const Se=xn.now();await Jt.append({id:crypto.randomUUID(),partyId:r,type:Mt.DICE_REROLLED,label:a("combat.log.rerollLog",{before:Y,after:G}),payload:{context:"combat-player-attack",before:Y,after:G},createdAt:Se}),await Ci.append({id:crypto.randomUUID(),partyId:r,type:Mt.DICE_REROLLED,payload:{context:"combat-player-attack",before:Y,after:G},status:no.PENDING,createdAt:Se})}async function De(){const Y=await Tn.findById(r);if(!Y)return;const P=xn.now();o0(v)?(_("victory"),await Jt.append({id:crypto.randomUUID(),partyId:r,type:Mt.COMBAT_VICTORY,label:a("combat.log.victory"),createdAt:P})):Y.status===dn.DEAD||i0(Y.character)&&(_("defeat"),await Jt.append({id:crypto.randomUUID(),partyId:r,type:Mt.COMBAT_DEFEAT,label:a("combat.log.defeat"),createdAt:P}))}return S.jsxs("div",{className:"mx-auto max-w-lg p-4",children:[S.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[S.jsx("h1",{className:"text-xl font-bold",children:a("combat.title")}),S.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>o(`/party/${r}`),children:a("combat.back")})]}),S.jsx("div",{className:"card mb-4 bg-base-200 shadow",children:S.jsxs("div",{className:"card-body gap-1 p-3 text-sm",children:[S.jsx("div",{className:"font-semibold",children:Oe.name}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("span",{children:[" ",Oe.hpCurrent,"/",Oe.hpMax]}),S.jsxs("span",{children:[" ",Oe.luck]}),S.jsxs("span",{children:[" DEX ",Oe.dexterity]})]}),S.jsx("progress",{className:"progress progress-success w-full",value:Oe.hpCurrent,max:Oe.hpMax})]})}),E==="setup"&&S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsx("h2",{className:"font-semibold",children:a("combat.setup.enemiesTitle",{count:v.length})}),v.map((Y,P)=>S.jsx("div",{className:"card bg-base-200",children:S.jsxs("div",{className:"card-body gap-2 p-3",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{className:"input input-sm input-bordered flex-1",value:Y.name,onChange:G=>we(Y.id,{name:G.target.value}),placeholder:a("combat.setup.enemyNamePlaceholder")}),P>0&&S.jsx("button",{className:"btn btn-ghost btn-xs text-error",onClick:()=>je(Y.id),children:""})]}),S.jsxs("div",{className:"flex gap-2 text-sm",children:[S.jsxs("label",{className:"flex items-center gap-1",children:[a("combat.setup.hpMaxLabel"),S.jsx("input",{type:"number",min:1,className:"input input-xs input-bordered w-16",value:Y.hpMax,onChange:G=>{const Se=Number(G.target.value);we(Y.id,{hpMax:Se,hpCurrent:Se})}})]}),S.jsxs("label",{className:"flex items-center gap-1",children:[a("combat.setup.dexLabel"),S.jsx("input",{type:"number",min:1,max:12,className:"input input-xs input-bordered w-14",value:Y.dexterity,onChange:G=>we(Y.id,{dexterity:Number(G.target.value)})})]}),S.jsxs("label",{className:"flex items-center gap-1",children:[a("combat.setup.atkBonusLabel"),S.jsx("input",{type:"number",min:0,className:"input input-xs input-bordered w-14",value:Y.attackBonus,onChange:G=>we(Y.id,{attackBonus:Number(G.target.value)})})]})]})]})},Y.id)),v.length<5&&S.jsx("button",{className:"btn btn-outline btn-sm",onClick:dt,children:a("combat.setup.addEnemyBtn")}),S.jsx("button",{className:"btn btn-error w-full",disabled:W,onClick:be,children:a("combat.setup.startBtn")})]}),E==="ongoing"&&S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsx("div",{className:"text-sm text-base-content/60",children:a("combat.ongoing.turnInfo",{turn:j,count:_e.length})}),S.jsx("div",{className:"card bg-base-200",children:S.jsxs("div",{className:"card-body gap-2 p-3",children:[S.jsx("div",{className:"text-sm font-semibold",children:a("combat.ongoing.lastRoll",{d1:ye[0],d2:ye[1],total:ye[0]+ye[1],dex:Oe.dexterity})}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx(wi,{ref:We,defaultValue:ye[0],size:52}),S.jsx(wi,{ref:V,defaultValue:ye[1],size:52})]}),S.jsx(l0,{onReroll:se})]})}),_e.map(Y=>S.jsx("div",{className:"card bg-base-200 shadow",children:S.jsxs("div",{className:"card-body gap-2 p-3",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"font-semibold",children:Y.name}),S.jsxs("span",{className:"text-sm",children:[" ",Y.hpCurrent,"/",Y.hpMax]})]}),S.jsx("progress",{className:"progress progress-error w-full",value:Y.hpCurrent,max:Y.hpMax}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{className:"btn btn-primary btn-sm flex-1",disabled:W,onClick:()=>nt(Y.id),children:a("combat.ongoing.attackBtn")}),S.jsx("button",{className:"btn btn-warning btn-sm flex-1",disabled:W,onClick:()=>rt(Y),children:a("combat.ongoing.enemyAttackBtn",{name:Y.name})})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{className:"btn btn-ghost btn-xs",onClick:()=>we(Y.id,{hpCurrent:Math.max(0,Y.hpCurrent-1)}),children:a("combat.ongoing.enemyHpMinus")}),S.jsx("button",{className:"btn btn-ghost btn-xs",onClick:()=>we(Y.id,{hpCurrent:Math.min(Y.hpMax,Y.hpCurrent+1)}),children:a("combat.ongoing.enemyHpPlus")})]})]})},Y.id)),S.jsx("div",{className:"card bg-base-200",children:S.jsxs("div",{className:"card-body gap-2 p-3",children:[S.jsx("div",{className:"text-sm font-semibold",children:a("combat.ongoing.luckSection",{luck:Oe.luck})}),S.jsx("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4,5,6].map(Y=>S.jsx("button",{className:"btn btn-outline btn-xs",disabled:W||Y===ye[0]||Oe.luck<Math.abs(Y-ye[0]),onClick:()=>it(Y,0),children:a("combat.ongoing.diceTo",{val:Y})},Y))})]})})]}),(E==="victory"||E==="defeat")&&S.jsx("div",{className:`alert ${E==="victory"?"alert-success":"alert-error"} mb-4`,children:S.jsxs("div",{children:[S.jsx("div",{className:"text-lg font-bold",children:a(E==="victory"?"combat.result.victory":"combat.result.defeat")}),S.jsxs("div",{className:"text-sm",children:[E==="defeat"&&(l==null?void 0:l.mode)!==Ja.MORTAL&&a("combat.result.restoreHint"),oe.length>0&&` ${a("combat.result.rerollCount",{count:oe.length})}`]})]})}),E==="mortal_death"&&S.jsx(s0,{partyName:(l==null?void 0:l.name)??"",onConfirm:()=>o("/")}),k.length>0&&E!=="mortal_death"&&S.jsxs("div",{className:"mt-4 flex max-h-48 flex-col gap-1 overflow-y-auto",children:[S.jsx("div",{className:"text-xs font-semibold text-base-content/50",children:a("combat.log.title")}),k.map((Y,P)=>S.jsx("div",{className:`rounded px-2 py-1 text-xs ${Y.success?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:Y.label},P))]}),(E==="victory"||E==="defeat")&&S.jsx("button",{className:"btn btn-primary mt-4 w-full",onClick:()=>o(`/party/${r}`),children:a("combat.result.backBtn")})]})}const c0=[{value:"light",labelKey:"settings.themeLight"},{value:"dark",labelKey:"settings.themeDark"},{value:"auto",labelKey:"settings.themeAuto"}],d0=[{value:"fr-FR",labelKey:"settings.langFR"},{value:"en-US",labelKey:"settings.langEN"}],f0=["v0_4_0","v0_3_0","v0_2_0","v0_1_0"];function p0(){const{t:a,i18n:r}=to(),{choice:o,setTheme:l}=ih(),c=Ei(),p=Z.useRef(null),[g,v]=Z.useState(!1);async function x(E){var k;const _=(k=E.target.files)==null?void 0:k[0];if(_)try{const O=await _.text(),j=await Ch.execute(O);c(`/party/${j.id}`)}catch(O){alert(a("settings.importError",{message:O.message}))}}return S.jsxs("div",{className:"mx-auto max-w-lg p-4",children:[S.jsx("h1",{className:"mb-6 text-2xl font-bold",children:a("settings.title")}),S.jsx("div",{className:"card mb-4 bg-base-200 shadow",children:S.jsxs("div",{className:"card-body gap-4",children:[S.jsx("h2",{className:"card-title text-lg",children:a("settings.themeTitle")}),S.jsx("div",{className:"flex flex-col gap-3",children:c0.map(E=>S.jsxs("label",{className:"flex cursor-pointer items-center gap-3",children:[S.jsx("input",{type:"radio",name:"theme",className:"radio-primary radio",checked:o===E.value,onChange:()=>l(E.value)}),S.jsx("span",{className:"text-base",children:a(E.labelKey)})]},E.value))})]})}),S.jsx("div",{className:"card mb-4 bg-base-200 shadow",children:S.jsxs("div",{className:"card-body gap-4",children:[S.jsx("h2",{className:"card-title text-lg",children:a("settings.languageTitle")}),S.jsx("div",{className:"flex flex-col gap-3",children:d0.map(E=>S.jsxs("label",{className:"flex cursor-pointer items-center gap-3",children:[S.jsx("input",{type:"radio",name:"language",className:"radio-primary radio",checked:r.resolvedLanguage===E.value,onChange:()=>void r.changeLanguage(E.value)}),S.jsx("span",{className:"text-base",children:a(E.labelKey)})]},E.value))})]})}),S.jsx("div",{className:"card mb-4 bg-base-200 shadow",children:S.jsxs("div",{className:"card-body gap-3",children:[S.jsx("h2",{className:"card-title text-lg",children:a("settings.importTitle")}),S.jsx("p",{className:"text-sm text-base-content/60",children:a("settings.importDesc")}),S.jsx("input",{ref:p,type:"file",accept:".json",className:"hidden",onChange:x}),S.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>{var E;return(E=p.current)==null?void 0:E.click()},children:a("settings.importBtn")})]})}),S.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-sm text-base-content/40",children:[S.jsx("span",{children:a("settings.footer")}),S.jsxs("button",{className:"underline transition hover:text-base-content/70",onClick:()=>v(!0),children:["v","0.4.0"]})]}),g&&S.jsxs("div",{className:"modal modal-open",children:[S.jsxs("div",{className:"modal-box max-h-[80vh] overflow-y-auto",children:[S.jsx("h3",{className:"mb-4 text-lg font-bold",children:a("changelog.title")}),S.jsx("div",{className:"flex flex-col gap-6",children:f0.map(E=>S.jsxs("div",{children:[S.jsx("div",{className:"mb-2 font-semibold text-primary",children:a(`changelog.${E}.label`)}),S.jsx("ul",{className:"flex flex-col gap-1",children:a(`changelog.${E}.items`,{returnObjects:!0}).map((_,k)=>S.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[S.jsx("span",{className:"mt-0.5 shrink-0 text-base-content/40",children:""}),S.jsx("span",{children:_})]},k))})]},E))}),S.jsx("div",{className:"modal-action",children:S.jsx("button",{className:"btn btn-primary w-full",onClick:()=>v(!1),children:a("changelog.closeBtn")})})]}),S.jsx("div",{className:"modal-backdrop",onClick:()=>v(!1)})]})]})}function h0(){const{t:a}=to();return S.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 p-4",children:[S.jsx("h1",{className:"text-2xl font-bold",children:a("notFound.title")}),S.jsx(Si,{to:"/",className:"btn btn-primary",children:a("notFound.backBtn")})]})}const m0=iy([{path:"/",element:S.jsx(_y,{}),children:[{index:!0,element:S.jsx(Yv,{})},{path:"party/new",element:S.jsx(t0,{})},{path:"party/:partyId",element:S.jsx(n0,{})},{path:"party/:partyId/combat",element:S.jsx(u0,{})},{path:"settings",element:S.jsx(p0,{})},{path:"*",element:S.jsx(h0,{})}]}],{basename:"/dagda-companion/"}),{slice:g0,forEach:y0}=[];function v0(a){return y0.call(g0.call(arguments,1),r=>{if(r)for(const o in r)a[o]===void 0&&(a[o]=r[o])}),a}function x0(a){return typeof a!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(o=>o.test(a))}const Ap=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,w0=function(a,r){const l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},c=encodeURIComponent(r);let p=`${a}=${c}`;if(l.maxAge>0){const g=l.maxAge-0;if(Number.isNaN(g))throw new Error("maxAge should be a Number");p+=`; Max-Age=${Math.floor(g)}`}if(l.domain){if(!Ap.test(l.domain))throw new TypeError("option domain is invalid");p+=`; Domain=${l.domain}`}if(l.path){if(!Ap.test(l.path))throw new TypeError("option path is invalid");p+=`; Path=${l.path}`}if(l.expires){if(typeof l.expires.toUTCString!="function")throw new TypeError("option expires is invalid");p+=`; Expires=${l.expires.toUTCString()}`}if(l.httpOnly&&(p+="; HttpOnly"),l.secure&&(p+="; Secure"),l.sameSite)switch(typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite){case!0:p+="; SameSite=Strict";break;case"lax":p+="; SameSite=Lax";break;case"strict":p+="; SameSite=Strict";break;case"none":p+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l.partitioned&&(p+="; Partitioned"),p},Ip={create(a,r,o,l){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};o&&(c.expires=new Date,c.expires.setTime(c.expires.getTime()+o*60*1e3)),l&&(c.domain=l),document.cookie=w0(a,r,c)},read(a){const r=`${a}=`,o=document.cookie.split(";");for(let l=0;l<o.length;l++){let c=o[l];for(;c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(r)===0)return c.substring(r.length,c.length)}return null},remove(a,r){this.create(a,"",-1,r)}};var b0={name:"cookie",lookup(a){let{lookupCookie:r}=a;if(r&&typeof document<"u")return Ip.read(r)||void 0},cacheUserLanguage(a,r){let{lookupCookie:o,cookieMinutes:l,cookieDomain:c,cookieOptions:p}=r;o&&typeof document<"u"&&Ip.create(o,a,l,c,p)}},S0={name:"querystring",lookup(a){var l;let{lookupQuerystring:r}=a,o;if(typeof window<"u"){let{search:c}=window.location;!window.location.search&&((l=window.location.hash)==null?void 0:l.indexOf("?"))>-1&&(c=window.location.hash.substring(window.location.hash.indexOf("?")));const g=c.substring(1).split("&");for(let v=0;v<g.length;v++){const x=g[v].indexOf("=");x>0&&g[v].substring(0,x)===r&&(o=g[v].substring(x+1))}}return o}},E0={name:"hash",lookup(a){var c;let{lookupHash:r,lookupFromHashIndex:o}=a,l;if(typeof window<"u"){const{hash:p}=window.location;if(p&&p.length>2){const g=p.substring(1);if(r){const v=g.split("&");for(let x=0;x<v.length;x++){const E=v[x].indexOf("=");E>0&&v[x].substring(0,E)===r&&(l=v[x].substring(E+1))}}if(l)return l;if(!l&&o>-1){const v=p.match(/\/([a-zA-Z-]*)/g);return Array.isArray(v)?(c=v[typeof o=="number"?o:0])==null?void 0:c.replace("/",""):void 0}}}return l}};let yi=null;const Mp=()=>{if(yi!==null)return yi;try{if(yi=typeof window<"u"&&window.localStorage!==null,!yi)return!1;const a="i18next.translate.boo";window.localStorage.setItem(a,"foo"),window.localStorage.removeItem(a)}catch{yi=!1}return yi};var k0={name:"localStorage",lookup(a){let{lookupLocalStorage:r}=a;if(r&&Mp())return window.localStorage.getItem(r)||void 0},cacheUserLanguage(a,r){let{lookupLocalStorage:o}=r;o&&Mp()&&window.localStorage.setItem(o,a)}};let vi=null;const Fp=()=>{if(vi!==null)return vi;try{if(vi=typeof window<"u"&&window.sessionStorage!==null,!vi)return!1;const a="i18next.translate.boo";window.sessionStorage.setItem(a,"foo"),window.sessionStorage.removeItem(a)}catch{vi=!1}return vi};var C0={name:"sessionStorage",lookup(a){let{lookupSessionStorage:r}=a;if(r&&Fp())return window.sessionStorage.getItem(r)||void 0},cacheUserLanguage(a,r){let{lookupSessionStorage:o}=r;o&&Fp()&&window.sessionStorage.setItem(o,a)}},N0={name:"navigator",lookup(a){const r=[];if(typeof navigator<"u"){const{languages:o,userLanguage:l,language:c}=navigator;if(o)for(let p=0;p<o.length;p++)r.push(o[p]);l&&r.push(l),c&&r.push(c)}return r.length>0?r:void 0}},_0={name:"htmlTag",lookup(a){let{htmlTag:r}=a,o;const l=r||(typeof document<"u"?document.documentElement:null);return l&&typeof l.getAttribute=="function"&&(o=l.getAttribute("lang")),o}},P0={name:"path",lookup(a){var c;let{lookupFromPathIndex:r}=a;if(typeof window>"u")return;const o=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(c=o[typeof r=="number"?r:0])==null?void 0:c.replace("/",""):void 0}},R0={name:"subdomain",lookup(a){var c,p;let{lookupFromSubdomainIndex:r}=a;const o=typeof r=="number"?r+1:1,l=typeof window<"u"&&((p=(c=window.location)==null?void 0:c.hostname)==null?void 0:p.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(l)return l[o]}};let Rh=!1;try{document.cookie,Rh=!0}catch{}const jh=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Rh||jh.splice(1,1);const j0=()=>({order:jh,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:a=>a});class Th{constructor(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(r,o)}init(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=v0(o,this.options||{},j0()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=c=>c.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=l,this.addDetector(b0),this.addDetector(S0),this.addDetector(k0),this.addDetector(C0),this.addDetector(N0),this.addDetector(_0),this.addDetector(P0),this.addDetector(R0),this.addDetector(E0)}addDetector(r){return this.detectors[r.name]=r,this}detect(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,o=[];return r.forEach(l=>{if(this.detectors[l]){let c=this.detectors[l].lookup(this.options);c&&typeof c=="string"&&(c=[c]),c&&(o=o.concat(c))}}),o=o.filter(l=>l!=null&&!x0(l)).map(l=>this.options.convertDetectedLanguage(l)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?o:o.length>0?o[0]:null}cacheUserLanguage(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;o&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||o.forEach(l=>{this.detectors[l]&&this.detectors[l].cacheUserLanguage(r,this.options)}))}}Th.type="languageDetector";const T0={cancel:"Annuler",delete:"Supprimer",add:"Ajouter",addBtn:"+ Ajouter",restore:"Restaurer",back:"",empty:"Vide"},O0={active:"En cours",finished:"Termine",dead:"Morte"},D0={now:" l'instant",minutes:"il y a {{count}} min",hours:"il y a {{count}} h",days:"il y a {{count}} j"},L0={PARTY_CREATED:" Cration",CHAPTER_SET:" Chapitre",HP_CHANGED:" PV",LUCK_SPENT:" Chance",NOTE_ADDED:" Note",SAVE_CREATED:" Sauvegarde",SAVE_REPLACED:" Sauvegarde",SAVE_RESTORED:" Restauration",COMBAT_VICTORY:" Victoire",COMBAT_DEFEAT:" Dfaite",DEATH_RESET:" Mort",PARTY_EXPORTED:" Export",PARTY_FINISHED:" Termine",CUSTOM_ACTION:" Action",DICE_REROLLED:" Relance",COMBAT_STARTED:" Combat",COMBAT_HIT:" Touch",COMBAT_MISS:" Rat",COMBAT_ENEMY_HIT:" Touch",COMBAT_ENEMY_MISS:" Rat",INVENTORY_CHANGED:" Inventaire"},A0={INSTINCT:"Instinct",HERBOLOGY:"Herbologie",DISCRETION:"Discrtion",PERSUASION:"Persuasion",OBSERVATION:"Observation",SLEIGHT_OF_HAND:"Doigts agiles",EMPATHY_PRACTICE:"Empratique"},I0={title:"Mes parties",newParty:"+ Nouvelle partie",emptyState:"Aucune partie. Commencez l'aventure !",createParty:"Crer une partie",deleteTooltip:"Supprimer la partie",deleteTitle:"Supprimer la partie ?",deleteBody:" {{name}}  sera supprime dfinitivement avec toutes ses sauvegardes, notes et journal. Cette action est irrversible."},M0={combatBtn:" Combat",hpDisplay:"PV {{current}} / {{max}}",luck:" Chance : {{value}}",dex:" DEX : {{value}}",hpMinus:"1 PV",hpPlus:"+1 PV",chapterCurrent:" {{chapter}}",chapterPending:" {{from}}  {{to}}",chapterConfirm:" Valider",tabs:{journal:"Journal",inventory:"Inventaire",notes:"Notes",saves:"Sauvegardes"},journal:{placeholder:"Action libre",addBtn:"Ajouter",empty:"Aucune action."},notes:{placeholder:"Nouvelle note",empty:"Aucune note."},saves:{empty:"Aucune sauvegarde.",slotEmpty:"Vide",simplifiedHint:"Mode Simplifi : seule la plus rcente est restaurable",simplifiedWarning:"Mode Simplifi : restauration dsactive pour ce slot.",exportBtn:" Exporter JSON",finishBtn:" Terminer la partie",finishedAlert:"Partie termine. Exportez pour archiver.",deleteBtn:" Supprimer la partie"},inventory:{weaponsTitle:" Armes",weaponsEmpty:"Aucune arme.",weaponBonus:"+{{bonus}} dgts",weaponEquipped:"quipe",equipTooltip:"quiper",addWeaponTitle:"Ajouter une arme",weaponNamePlaceholder:"Nom *",weaponBonusLabel:"Bonus dgts",weaponDescPlaceholder:"Spcificit (optionnel)",bagTitle:" Sac",bagEmpty:"Sac vide.",addItemTitle:"Ajouter un objet",itemNamePlaceholder:"Nom *",itemQtyLabel:"Qt",itemDescPlaceholder:"Description (optionnel)",currencyTitle:" Boulons",boulonsUnit:"boulon(s)"},finishTitle:"Terminer la partie ?",finishBody:"La partie  {{name}}  sera marque comme termine. Vous pourrez toujours consulter son historique et l'exporter.",finishBtn:" Terminer",deleteTitle:"Supprimer la partie ?",deleteBody:" {{name}}  et toutes ses donnes (sauvegardes, journal, notes) seront supprimes dfinitivement. Cette action est irrversible.",deleteBtn:" Supprimer",readonlyBannerFinished:"Cette partie est termine  consultation uniquement.",readonlyBannerDead:"Ce personnage est mort  consultation uniquement.",inventoryLog:{weaponAdded:"Arme ajoute : {{name}}",weaponRemoved:"Arme retire",weaponEquipped:"Arme quipe : {{name}}",itemAdded:"Objet ajout : {{name}}",itemQtyChanged:"{{delta}} {{name}}",itemRemoved:"Objet retir : {{name}}",currencyUpdated:"Monnaie mise  jour"}},F0={steps:{mode:"Mode",talent:"Talent",stats:"Stats"},partyNameTitle:"Nom de la partie",partyNamePlaceholder:"Ex : Aventure de Riann",gameModeTitle:"Mode de jeu",helpModes:"Aide  Modes de jeu",chooseTalent:"Choisissez votre talent",helpTalents:"Aide  Talents",talentHelpIntro:"Chaque talent offre un avantage narratif ou mcanique dans certaines situations :",characterTitle:"Votre personnage",characterNamePlaceholder:"Nom du personnage",initialStats:"Caractristiques initiales",hpMaxLabel:"PV max (2d6  4)",hpRollDisplay:"{{d1}}+{{d2}}={{roll}}  {{hpMax}} PV",luckLabel:"Chance (1d6)",dexterityLabel:"Dextrit",rerollBtn:" Relancer les ds",helpStats:"Aide  Rgles des caractristiques",prev:" Prcdent",next:"Suivant ",create:"Crer la partie ",modes:{NARRATIVE:{label:"Narratif",desc:"Pas de combat. Idal pour explorer l'histoire."},SIMPLIFIED:{label:"Simplifi",desc:"Combat simplifi, une seule sauvegarde restaurable."},MORTAL:{label:"Mortel",desc:"Si vous mourez, reset complet. Haut risque."}},modeHelp:{narrativeDesc:"Dans ce mode de jeu, vous n'allez pas vous encombrer de la plupart des combats. Vous allez chercher avant tout  vivre pleinement l'aventure et  prendre les dcisions qui vous conviennent. Lorsqu'un combat vous est propos, vous choisirez directement si vous l'avez remport ou non. Attention: cette rgle spciale pour les combats ne s'applique que jusqu' cinq adversaires  combattre en simultan. Au-del de ce chiffre, vous tes en surnombre et vous serez oblig de vivre le combat normalement (voir section  LES COMBATS ).",simplifiedDesc:"Dans ce mode de jeu, toutes les rgles s'appliquent, mais vous avez le droit de sauvegarder le jeu trois fois sur votre FEUILLE DE PERSONNAGE. Lors d'une sauvegarde, notez le chapitre o vous tes et inscrivez un petit  s  devant les armes et les objets de votre INVENTAIRE venant d'tre sauvegards. Vous pourrez reprendre le jeu  cette sauvegarde quand bon vous semblera. Attention: vous devez toujours reprendre  votre sauvegarde la plus rcente.",mortalDesc:"Dans ce mode de jeu, toutes les rgles s'appliquent... y compris celle de la vie. Si vous venez  mourir, vous perdez toutes vos armes ainsi que votre quipement. Vous devez reprendre le livre au chapitre 1."},talentHelp:{INSTINCT:"Ce TALENT permet de laisser parler ses sens et son intuition. Un art qui court-circuite la raison pour ressentir quelle est la meilleure dcision  prendre.",HERBOLOGY:"Les plantes renferment de puissants secrets pouvant vous servir en toutes circonstances. Ce TALENT vous a donn une solide connaissance de cette magie naturelle.",DISCRETION:"tre seul au milieu de la foule, invisible comme un fantme. Ce TALENT vous permet de vous faufiler sans tre vu, de vous dplacer sans mme faire bouger l'air.",PERSUASION:"Les mots sont une arme. Vous possdez avec ce TALENT la capacit, en quelques phrases, de convaincre n'importe qui de n'importe quoi. Une vivacit d'esprit qui peut permettre d'viter bien des conflits.",OBSERVATION:"Les yeux sont bombards d'informations  chaque seconde. Ce TALENT ne vous permet pas de voir plus loin, mais au contraire de voir ce qui compte vraiment autour de vous.",SLEIGHT_OF_HAND:"Un vritable virtuose des doigts. Ce TALENT, une fois matris, vous donne des comptences de voleur  la tire, de bateleur, du sculpteur, etc.",EMPATHY_PRACTICE:"Le plus subtil des TALENTS. Bas sur l'empathie, l'em-pratique vous permet littralement de ressentir exactement ce que ressent une autre personne pour mieux le comprendre."},statsHelp:{hpMax:"Pour calculer cette valeur, jetez deux ds et multipliez le rsultat obtenu par 4. Notez ce rsultat sur votre FEUILLE DE PERSONNAGE. Vous commencez ce livre avec tous VOS POINTS DE VIE. Vos POINTS DE VIE ne peuvent pas dpasser cette valeur maximale, sauf indication contraire explicite.",luck:"Votre charisme et votre chance naturelle seront symboliss par ce rsultat. Jetez un d  six faces, et notez le rsultat sur votre FEUILLE DE PERSONNAGE. Cette caractristique fonctionne comme une rserve de points. Vous pouvez consommer des points de CHANCE pour modifier un rsultat de vos ds au cours de votre aventure. Exemple: pour ouvrir une porte, vous devez faire 5 avec un d  six faces. Vous jetez le d et obtenez un 3. Vous choisissez d'utiliser deux de vos points de CHANCE pour rgler votre d sur 5. Vous corrigez votre CHANCE sur votre FEUILLE DE PERSONNAGE en la rduisant de 2.",dexterity:"Cette caractristique est essentielle pour les combats. Votre dextrit pourra varier au fil de vos aventures et de vos apprentissages. Pour le moment, comme chez tous les Apprentis  la fin de leur apprentissage, votre DEXTRIT est de 7. Veuillez le noter sur votre FEUILLE DE PERSONNAGE."},createdLabel:'Partie "{{name}}" cre (mode {{mode}})'},B0={title:" Combat",back:" Retour",mortalDeath:{title:"Vous tes mort.",desc:"{{partyName}}  L'aventure se termine ici. En mode Mortel, il n'y a pas de retour en arrire.",homeBtn:"Retour  l'accueil"},reroll:{btn:" Relancer (en cas de souci)",warning:"  utiliser seulement si le jet n'a pas t pris en compte / bug visuel.",confirmBtn:"Confirmer relance",cancelBtn:"Annuler"},setup:{enemiesTitle:"Adversaires ({{count}}/5)",enemyNamePlaceholder:"Nom",defaultEnemyName:"Adversaire",defaultEnemyNameN:"Adversaire {{n}}",hpMaxLabel:"PV max",dexLabel:"DEX",atkBonusLabel:"Bonus ATK",addEnemyBtn:"+ Ajouter adversaire",startBtn:" Dmarrer le combat"},ongoing:{turnInfo:"Tour {{turn}}  {{count}} adversaire(s) actif(s)",lastRoll:"Votre dernier jet : {{d1}}+{{d2}}={{total}} (DEX {{dex}})",attackBtn:" Attaquer",enemyAttackBtn:" {{name}} attaque",enemyHpMinus:"1 PV ennemi",enemyHpPlus:"+1 PV ennemi",luckSection:" Utiliser la chance ({{luck}} restant)",diceTo:"D1{{val}}"},result:{victory:" Victoire !",defeat:" Dfaite  PV  0",restoreHint:"Vous pouvez restaurer une sauvegarde depuis le tableau de bord.",rerollCount:"{{count}} relance(s) effectue(s).",backBtn:"Retour au tableau de bord"},log:{title:"Journal combat",started:"Combat dmarr contre {{count}} adversaire(s)",playerHit:"Tour {{turn}}  Joueur touche ({{rolls}}={{total}}){{weapon}}  {{damage}} dgts",playerMiss:"Tour {{turn}}  Joueur rate ({{rolls}}={{total}} > DEX {{dex}})",enemyHit:"Tour {{turn}}  {{name}} touche ({{rolls}}={{total}})  {{damage}} dgts",enemyMiss:"Tour {{turn}}  {{name}} rate ({{rolls}}={{total}})",rerollLog:"Relance d joueur (avant: {{before}}, aprs: {{after}})",victory:"Victoire !",defeat:"Dfaite  PV  0."}},U0={title:"Paramtres",themeTitle:"Thme",themeLight:"Clair",themeDark:"Sombre",themeAuto:"Automatique (OS)",languageTitle:"Langue",langFR:" Franais",langEN:" English",importTitle:"Importer une partie",importDesc:"Chargez un fichier JSON export depuis une autre session.",importBtn:" Choisir un fichier JSON",importError:"Erreur d'import : {{message}}",footer:"Dagda  La Saga"},z0={title:"Page introuvable",backBtn:"Retour  l'accueil"},H0={v0_4_0:{label:"v0.4.0  Nouveauts",items:["Les ds s'affichent et s'animent dsormais correctement dans tous les navigateurs et sur tous les appareils"]},title:"Nouveauts",closeBtn:"Fermer",v0_3_0:{label:"v0.3.0  Nouveauts",items:["Corrections techniques pour assurer la stabilit et la fiabilit de l'application"]},v0_2_0:{label:"v0.2.0  Nouveauts",items:["Les ds s'animent  chaque lancer en combat et lors de la cration de personnage","Un journal des mises  jour est accessible depuis les rglages en appuyant sur le numro de version"]},v0_1_0:{label:"v0.1.0  Lancement",items:["Cration de partie avec trois modes : Narratif, Simplifi et Mortel","Fiche personnage complte : points de vie, chance, dextrit et inventaire (armes, objets, boulons)","Systme de combat tour par tour  utiliser la chance pour ajuster vos ds  la hausse ou  la baisse","Journal horodat, notes libres et trois emplacements de sauvegarde","Export et import de partie au format JSON","Parties termines ou mortes consultables en lecture seule","Interface disponible en franais et en anglais, avec dtection automatique de la langue","Application installable sur l'cran d'accueil, fonctionne hors-ligne (PWA)"]}},$0={common:T0,status:O0,timeAgo:D0,timeline:L0,talents:A0,home:I0,dashboard:M0,createParty:F0,combat:B0,settings:U0,notFound:z0,changelog:H0},V0={cancel:"Cancel",delete:"Delete",add:"Add",addBtn:"+ Add",restore:"Restore",back:"",empty:"Empty"},K0={active:"Active",finished:"Finished",dead:"Dead"},q0={now:"just now",minutes:"{{count}} min ago",hours:"{{count}} h ago",days:"{{count}} d ago"},W0={PARTY_CREATED:" Created",CHAPTER_SET:" Chapter",HP_CHANGED:" HP",LUCK_SPENT:" Luck",NOTE_ADDED:" Note",SAVE_CREATED:" Save",SAVE_REPLACED:" Save",SAVE_RESTORED:" Restore",COMBAT_VICTORY:" Victory",COMBAT_DEFEAT:" Defeat",DEATH_RESET:" Death",PARTY_EXPORTED:" Export",PARTY_FINISHED:" Finished",CUSTOM_ACTION:" Action",DICE_REROLLED:" Reroll",COMBAT_STARTED:" Combat",COMBAT_HIT:" Hit",COMBAT_MISS:" Miss",COMBAT_ENEMY_HIT:" Hit",COMBAT_ENEMY_MISS:" Miss",INVENTORY_CHANGED:" Inventory"},Y0={INSTINCT:"Instinct",HERBOLOGY:"Herbology",DISCRETION:"Stealth",PERSUASION:"Persuasion",OBSERVATION:"Observation",SLEIGHT_OF_HAND:"Nimble Fingers",EMPATHY_PRACTICE:"Empractice"},Q0={title:"My parties",newParty:"+ New party",emptyState:"No parties yet. Start your adventure!",createParty:"Create a party",deleteTooltip:"Delete party",deleteTitle:"Delete party?",deleteBody:'"{{name}}" will be permanently deleted along with all its saves, notes, and journal. This action is irreversible.'},G0={combatBtn:" Combat",hpDisplay:"HP {{current}} / {{max}}",luck:" Luck: {{value}}",dex:" DEX: {{value}}",hpMinus:"1 HP",hpPlus:"+1 HP",chapterCurrent:" {{chapter}}",chapterPending:" {{from}}  {{to}}",chapterConfirm:" Confirm",tabs:{journal:"Journal",inventory:"Inventory",notes:"Notes",saves:"Saves"},journal:{placeholder:"Free action",addBtn:"Add",empty:"No actions yet."},notes:{placeholder:"New note",empty:"No notes yet."},saves:{empty:"No saves yet.",slotEmpty:"Empty",simplifiedHint:"Simplified mode: only the most recent save can be restored",simplifiedWarning:"Simplified mode: restore disabled for this slot.",exportBtn:" Export JSON",finishBtn:" Finish party",finishedAlert:"Party finished. Export to archive.",deleteBtn:" Delete party"},inventory:{weaponsTitle:" Weapons",weaponsEmpty:"No weapons.",weaponBonus:"+{{bonus}} damage",weaponEquipped:"equipped",equipTooltip:"Equip",addWeaponTitle:"Add a weapon",weaponNamePlaceholder:"Name *",weaponBonusLabel:"Damage bonus",weaponDescPlaceholder:"Specificity (optional)",bagTitle:" Bag",bagEmpty:"Empty bag.",addItemTitle:"Add an item",itemNamePlaceholder:"Name *",itemQtyLabel:"Qty",itemDescPlaceholder:"Description (optional)",currencyTitle:" Boulons",boulonsUnit:"boulon(s)"},finishTitle:"Finish party?",finishBody:'Party "{{name}}" will be marked as finished. You can still view its history and export it.',finishBtn:" Finish",deleteTitle:"Delete party?",deleteBody:'"{{name}}" and all its data (saves, journal, notes) will be permanently deleted. This action is irreversible.',deleteBtn:" Delete",readonlyBannerFinished:"This party is finished  view only.",readonlyBannerDead:"This character has died  view only.",inventoryLog:{weaponAdded:"Weapon added: {{name}}",weaponRemoved:"Weapon removed",weaponEquipped:"Weapon equipped: {{name}}",itemAdded:"Item added: {{name}}",itemQtyChanged:"{{delta}} {{name}}",itemRemoved:"Item removed: {{name}}",currencyUpdated:"Currency updated"}},X0={steps:{mode:"Mode",talent:"Talent",stats:"Stats"},partyNameTitle:"Party name",partyNamePlaceholder:"E.g.: Riann's Adventure",gameModeTitle:"Game mode",helpModes:"Help  Game modes",chooseTalent:"Choose your talent",helpTalents:"Help  Talents",talentHelpIntro:"Each talent provides a narrative or mechanical advantage in certain situations:",characterTitle:"Your character",characterNamePlaceholder:"Character name",initialStats:"Initial stats",hpMaxLabel:"Max HP (2d6  4)",hpRollDisplay:"{{d1}}+{{d2}}={{roll}}  {{hpMax}} HP",luckLabel:"Luck (1d6)",dexterityLabel:"Dexterity",rerollBtn:" Re-roll dice",helpStats:"Help  Stat rules",prev:" Previous",next:"Next ",create:"Create party ",modes:{NARRATIVE:{label:"Narrative",desc:"No combat. Ideal for exploring the story."},SIMPLIFIED:{label:"Simplified",desc:"Simplified combat, only one save restorable."},MORTAL:{label:"Mortal",desc:"If you die, full reset. High risk."}},modeHelp:{narrativeDesc:`In this game mode, you won't be bothered by most fights. Your goal is first and foremost to fully experience the adventure and make the decisions that suit you. When a combat is offered to you, you simply choose whether you won it or not. Note: this special rule only applies when facing up to five enemies simultaneously. Beyond that number, you are outnumbered and must play through the combat normally (see the "COMBAT" section).`,simplifiedDesc:'In this game mode, all rules apply, but you may save the game up to three times on your CHARACTER SHEET. When saving, note the chapter you are on and write a small "s" next to the weapons and items in your INVENTORY that were just saved. You may return to that save whenever you wish. Note: you must always return to your most recent save.',mortalDesc:"In this game mode, all rules apply... including the one about life. If you die, you lose all your weapons and equipment. You must restart the book from chapter 1."},talentHelp:{INSTINCT:"This TALENT lets your senses and intuition speak. An art that bypasses reason to feel out the best decision to make.",HERBOLOGY:"Plants hold powerful secrets that can serve you in any situation. This TALENT has given you a solid knowledge of this natural magic.",DISCRETION:"Alone in the middle of a crowd, invisible like a ghost. This TALENT lets you slip past unseen, move without even stirring the air.",PERSUASION:"Words are a weapon. With this TALENT, you have the ability to convince anyone of anything in just a few sentences  a sharpness of mind that can prevent many conflicts.",OBSERVATION:"Eyes are bombarded with information every second. This TALENT doesn't let you see further, but rather see what truly matters around you.",SLEIGHT_OF_HAND:"A true virtuoso of the fingers. This TALENT, once mastered, grants you the skills of a pickpocket, a juggler, a sculptor, and more.",EMPATHY_PRACTICE:"The most subtle of TALENTS. Based on empathy, empractice literally allows you to feel exactly what another person is feeling, in order to better understand them."},statsHelp:{hpMax:"To calculate this value, roll two dice and multiply the result by 4. Write this result on your CHARACTER SHEET. You begin this book with all your HIT POINTS. Your HIT POINTS cannot exceed this maximum value unless explicitly stated otherwise.",luck:"Your charisma and natural luck are represented by this result. Roll one six-sided die and note the result on your CHARACTER SHEET. This stat works as a pool of points. You may spend LUCK points to change one of your die results during your adventure. Example: to open a door, you need to roll a 5 on a six-sided die. You roll and get a 3. You choose to spend two LUCK points to set your die to 5. Reduce your LUCK on your CHARACTER SHEET by 2.",dexterity:"This stat is essential for combat. Your dexterity may change over the course of your adventures and learning. For now, as with all Apprentices at the end of their training, your DEXTERITY is 7. Please note it on your CHARACTER SHEET."},createdLabel:'Party "{{name}}" created (mode {{mode}})'},J0={title:" Combat",back:" Back",mortalDeath:{title:"You are dead.",desc:"{{partyName}}  The adventure ends here. In Mortal mode, there is no turning back.",homeBtn:"Back to home"},reroll:{btn:" Re-roll (if something went wrong)",warning:" Use only if the roll wasn't registered / visual bug.",confirmBtn:"Confirm re-roll",cancelBtn:"Cancel"},setup:{enemiesTitle:"Enemies ({{count}}/5)",enemyNamePlaceholder:"Name",defaultEnemyName:"Enemy",defaultEnemyNameN:"Enemy {{n}}",hpMaxLabel:"Max HP",dexLabel:"DEX",atkBonusLabel:"ATK Bonus",addEnemyBtn:"+ Add enemy",startBtn:" Start combat"},ongoing:{turnInfo:"Turn {{turn}}  {{count}} active enemy(s)",lastRoll:"Your last roll: {{d1}}+{{d2}}={{total}} (DEX {{dex}})",attackBtn:" Attack",enemyAttackBtn:" {{name}} attacks",enemyHpMinus:"1 enemy HP",enemyHpPlus:"+1 enemy HP",luckSection:" Use luck ({{luck}} remaining)",diceTo:"Die1{{val}}"},result:{victory:" Victory!",defeat:" Defeat  HP at 0",restoreHint:"You can restore a save from the dashboard.",rerollCount:"{{count}} re-roll(s) performed.",backBtn:"Back to dashboard"},log:{title:"Combat log",started:"Combat started against {{count}} enemy(s)",playerHit:"Turn {{turn}}  Player hits ({{rolls}}={{total}}){{weapon}}  {{damage}} damage",playerMiss:"Turn {{turn}}  Player misses ({{rolls}}={{total}} > DEX {{dex}})",enemyHit:"Turn {{turn}}  {{name}} hits ({{rolls}}={{total}})  {{damage}} damage",enemyMiss:"Turn {{turn}}  {{name}} misses ({{rolls}}={{total}})",rerollLog:"Player die re-roll (before: {{before}}, after: {{after}})",victory:"Victory!",defeat:"Defeat  HP at 0."}},Z0={title:"Settings",themeTitle:"Theme",themeLight:"Light",themeDark:"Dark",themeAuto:"Automatic (OS)",languageTitle:"Language",langFR:" Franais",langEN:" English",importTitle:"Import a party",importDesc:"Load a JSON file exported from another session.",importBtn:" Choose a JSON file",importError:"Import error: {{message}}",footer:"Dagda  La Saga"},ex={title:"Page not found",backBtn:"Back to home"},tx={v0_4_0:{label:"v0.4.0  What's new",items:["Dice now display and animate correctly on all browsers and devices"]},title:"What's new",closeBtn:"Close",v0_3_0:{label:"v0.3.0  What's new",items:["Technical fixes to improve app stability and reliability"]},v0_2_0:{label:"v0.2.0  What's new",items:["Dice now animate on every roll during combat and party creation","A version history is now available in settings by tapping the version number"]},v0_1_0:{label:"v0.1.0  Initial release",items:["Create parties with three modes: Narrative, Simplified, and Mortal","Full character sheet: hit points, luck, dexterity, and inventory (weapons, items, boulons)","Turn-based combat system  spend luck to adjust your dice up or down","Timestamped journal, free notes, and up to three save slots","Export and import parties as JSON","Finished or dead parties are view-only","Available in French and English with automatic language detection","Installable on your home screen, works offline (PWA)"]}},nx={common:V0,status:K0,timeAgo:q0,timeline:W0,talents:Y0,home:Q0,dashboard:G0,createParty:X0,combat:J0,settings:Z0,notFound:ex,changelog:tx};Un.use(Th).use(sv).init({resources:{"fr-FR":{translation:$0},"en-US":{translation:nx}},fallbackLng:"fr-FR",supportedLngs:["fr-FR","en-US"],detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},interpolation:{escapeValue:!1}});Am.createRoot(document.getElementById("root")).render(S.jsx(xi.StrictMode,{children:S.jsx(hy,{router:m0})}));
